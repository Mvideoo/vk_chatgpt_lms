{"ast":null,"code":"import { Keys, pressedKey } from \"../lib/accessibility.js\";\nimport { useDOM } from \"../lib/dom.js\";\nimport { useIsomorphicLayoutEffect } from \"../lib/useIsomorphicLayoutEffect.js\";\nconst EVENT_OPTIONS = {\n  passive: true,\n  capture: true\n};\n/**\n * Завязывается на document.\n *\n * @private\n */\nexport const useGlobalEscKeyDown = (init, callback) => {\n  const {\n    document\n  } = useDOM();\n  useIsomorphicLayoutEffect(() => {\n    if (!document || !init || !callback) {\n      return;\n    }\n    const handleKeyDown = event => {\n      if (pressedKey(event) === Keys.ESCAPE) {\n        callback(event);\n      }\n    };\n    document.addEventListener('keydown', handleKeyDown, EVENT_OPTIONS);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown, EVENT_OPTIONS);\n    };\n  }, [init, document, callback]);\n};","map":{"version":3,"names":["Keys","pressedKey","useDOM","useIsomorphicLayoutEffect","EVENT_OPTIONS","passive","capture","useGlobalEscKeyDown","init","callback","document","handleKeyDown","event","ESCAPE","addEventListener","removeEventListener"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkui/src/hooks/useGlobalEscKeyDown.ts"],"sourcesContent":["import { Keys, pressedKey } from '../lib/accessibility';\nimport { useDOM } from '../lib/dom';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\n\nconst EVENT_OPTIONS = {\n  passive: true,\n  capture: true,\n};\n\n/**\n * Завязывается на document.\n *\n * @private\n */\nexport const useGlobalEscKeyDown = (\n  init: boolean,\n  callback?: (event: KeyboardEvent) => void,\n): void => {\n  const { document } = useDOM();\n  useIsomorphicLayoutEffect(() => {\n    if (!document || !init || !callback) {\n      return;\n    }\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (pressedKey(event) === Keys.ESCAPE) {\n        callback(event);\n      }\n    };\n    document.addEventListener('keydown', handleKeyDown, EVENT_OPTIONS);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown, EVENT_OPTIONS);\n    };\n  }, [init, document, callback]);\n};\n"],"mappings":"AAAA,SAASA,IAAI,EAAEC,UAAU,QAAQ;AACjC,SAASC,MAAM,QAAQ;AACvB,SAASC,yBAAyB,QAAQ;AAE1C,MAAMC,aAAA,GAAgB;EACpBC,OAAA,EAAS;EACTC,OAAA,EAAS;AACX;AAEA;;;;;AAKA,OAAO,MAAMC,mBAAA,GAAsBA,CACjCC,IAAA,EACAC,QAAA;EAEA,MAAM;IAAEC;EAAQ,CAAE,GAAGR,MAAA;EACrBC,yBAAA,CAA0B;IACxB,IAAI,CAACO,QAAA,IAAY,CAACF,IAAA,IAAQ,CAACC,QAAA,EAAU;MACnC;IACF;IACA,MAAME,aAAA,GAAiBC,KAAA;MACrB,IAAIX,UAAA,CAAWW,KAAA,MAAWZ,IAAA,CAAKa,MAAM,EAAE;QACrCJ,QAAA,CAASG,KAAA;MACX;IACF;IACAF,QAAA,CAASI,gBAAgB,CAAC,WAAWH,aAAA,EAAeP,aAAA;IACpD,OAAO;MACLM,QAAA,CAASK,mBAAmB,CAAC,WAAWJ,aAAA,EAAeP,aAAA;IACzD;EACF,GAAG,CAACI,IAAA,EAAME,QAAA,EAAUD,QAAA,CAAS;AAC/B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}