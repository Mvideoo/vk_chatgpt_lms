{"ast":null,"code":"import { isElement, useDOM } from \"../lib/dom.js\";\nimport { useIsomorphicLayoutEffect } from \"../lib/useIsomorphicLayoutEffect.js\";\n/**\n * Завязывается на document.\n *\n * @private\n */\nexport const useGlobalOnClickOutside = function (callback) {\n  for (var _len = arguments.length, refs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    refs[_key - 1] = arguments[_key];\n  }\n  const {\n    document\n  } = useDOM();\n  useIsomorphicLayoutEffect(() => {\n    const someRefNotNull = refs.some(ref => ref && ref.current !== null);\n    if (!document || !someRefNotNull) {\n      return;\n    }\n    const handleClick = event => {\n      const targetEl = event.target;\n      const someRefHasTargetEl = isElement(targetEl) && refs.some(ref => ref && ref.current && ref.current.contains(targetEl));\n      if (!someRefHasTargetEl) {\n        callback(event);\n      }\n    };\n    document.addEventListener('click', handleClick, {\n      passive: true,\n      capture: true\n    });\n    return () => {\n      document.removeEventListener('click', handleClick, true);\n    };\n  }, [document, callback, ...refs]);\n};","map":{"version":3,"names":["isElement","useDOM","useIsomorphicLayoutEffect","useGlobalOnClickOutside","callback","_len","arguments","length","refs","Array","_key","document","someRefNotNull","some","ref","current","handleClick","event","targetEl","target","someRefHasTargetEl","contains","addEventListener","passive","capture","removeEventListener"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkui/src/hooks/useGlobalOnClickOutside.ts"],"sourcesContent":["import type * as React from 'react';\nimport { isElement, useDOM } from '../lib/dom';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\n\n/**\n * Завязывается на document.\n *\n * @private\n */\nexport const useGlobalOnClickOutside = <\n  T extends React.RefObject<ElementType | null> | undefined | null,\n  ElementType extends Element = Element,\n>(\n  callback: (event: MouseEvent) => void,\n  ...refs: T[]\n): void => {\n  const { document } = useDOM();\n  useIsomorphicLayoutEffect(() => {\n    const someRefNotNull = refs.some((ref) => ref && ref.current !== null);\n    if (!document || !someRefNotNull) {\n      return;\n    }\n    const handleClick = (event: MouseEvent) => {\n      const targetEl = event.target;\n      const someRefHasTargetEl =\n        isElement(targetEl) &&\n        refs.some((ref) => ref && ref.current && ref.current.contains(targetEl));\n      if (!someRefHasTargetEl) {\n        callback(event);\n      }\n    };\n    document.addEventListener('click', handleClick, {\n      passive: true,\n      capture: true,\n    });\n    return () => {\n      document.removeEventListener('click', handleClick, true);\n    };\n  }, [document, callback, ...refs]);\n};\n"],"mappings":"AACA,SAASA,SAAS,EAAEC,MAAM,QAAQ;AAClC,SAASC,yBAAyB,QAAQ;AAE1C;;;;;AAKA,OAAO,MAAMC,uBAAA,GAA0B,SAAAA,CAIrCC,QAAA,EACG;EAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,OAAAA,IAAA,WAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;IAAAF,IAAA,CAAAE,IAAA,QAAAJ,SAAA,CAAAI,IAAA;EAAA;EAEH,MAAM;IAAEC;EAAQ,CAAE,GAAGV,MAAA;EACrBC,yBAAA,CAA0B;IACxB,MAAMU,cAAA,GAAiBJ,IAAA,CAAKK,IAAI,CAAEC,GAAA,IAAQA,GAAA,IAAOA,GAAA,CAAIC,OAAO,KAAK;IACjE,IAAI,CAACJ,QAAA,IAAY,CAACC,cAAA,EAAgB;MAChC;IACF;IACA,MAAMI,WAAA,GAAeC,KAAA;MACnB,MAAMC,QAAA,GAAWD,KAAA,CAAME,MAAM;MAC7B,MAAMC,kBAAA,GACJpB,SAAA,CAAUkB,QAAA,KACVV,IAAA,CAAKK,IAAI,CAAEC,GAAA,IAAQA,GAAA,IAAOA,GAAA,CAAIC,OAAO,IAAID,GAAA,CAAIC,OAAO,CAACM,QAAQ,CAACH,QAAA;MAChE,IAAI,CAACE,kBAAA,EAAoB;QACvBhB,QAAA,CAASa,KAAA;MACX;IACF;IACAN,QAAA,CAASW,gBAAgB,CAAC,SAASN,WAAA,EAAa;MAC9CO,OAAA,EAAS;MACTC,OAAA,EAAS;IACX;IACA,OAAO;MACLb,QAAA,CAASc,mBAAmB,CAAC,SAAST,WAAA,EAAa;IACrD;EACF,GAAG,CAACL,QAAA,EAAUP,QAAA,E,GAAaI,IAAA,CAAK;AAClC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}