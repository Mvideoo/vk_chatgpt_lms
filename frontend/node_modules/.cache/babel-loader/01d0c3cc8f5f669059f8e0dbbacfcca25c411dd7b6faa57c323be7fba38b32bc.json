{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{AdaptivityProvider,AppRoot,Button,ConfigProvider,Div,Panel,Textarea,SplitCol,SplitLayout,View}from'@vkontakte/vkui';import'@vkontakte/vkui/dist/vkui.css';import{motion,AnimatePresence}from'framer-motion';import bridge from'@vkontakte/vk-bridge';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const questions=['Что тебе ближе — решать сложные задачи в одиночестве или помогать другим справляться с трудностями?','Любишь ли ты точность и технические детали, или тебе ближе творчество и воображение?','Как ты реагируешь в экстремальных ситуациях: действуешь хладнокровно, срываешься на эмоции или берёшь на себя заботу о других?','Что тебя вдохновляет больше — слова, которые могут изменить мышление, или поступки, которые меняют жизнь?','Есть ли у тебя тяга к заботе о здоровье — своём и окружающих — или тебя больше влечёт работа руками, с механизмами и конструкциями?','Ты больше мечтатель, стратег, мастер дела или защитник слабых?'];const App=()=>{const[activePanel,setActivePanel]=useState('intro');const[currentQuestionIndex,setCurrentQuestionIndex]=useState(0);const[messages,setMessages]=useState([]);const[answers,setAnswers]=useState([]);const[input,setInput]=useState('');const[loading,setLoading]=useState(false);const[finished,setFinished]=useState(false);const[characterImage,setCharacterImage]=useState(null);const[fontsLoaded,setFontsLoaded]=useState(false);const messagesEndRef=useRef(null);// Минимальное время ожидания экрана загрузки (в мс)\nconst MIN_LOADING_TIME=2000;const[loadingStartTime]=useState(Date.now());// Ожидание загрузки всех шрифтов с учетом минимальной задержки\nuseEffect(()=>{document.fonts.ready.then(()=>{const elapsed=Date.now()-loadingStartTime;const delay=Math.max(0,MIN_LOADING_TIME-elapsed);setTimeout(()=>setFontsLoaded(true),delay);});},[loadingStartTime]);// Определяем, поддерживает ли устройство сенсорный ввод (для автоскролла)\nconst isTouchDevice='ontouchstart'in window||navigator.maxTouchPoints>0;// Эффект для автоскролла в конец чата (только для сенсорных устройств)\nuseEffect(()=>{if(isTouchDevice&&messagesEndRef.current){messagesEndRef.current.scrollIntoView({behavior:'smooth'});}},[messages,isTouchDevice]);useEffect(()=>{if(activePanel==='chat'&&messages.length===0){setMessages([{text:questions[0],from:'gpt',key:Date.now()}]);}},[activePanel,messages.length]);const sendAnswer=async()=>{if(!input.trim())return;const answerText=input.trim();const questionText=questions[currentQuestionIndex];const userMessage={text:answerText,from:'user',key:Date.now()};const updatedAnswers=[...answers,{question:questionText,answer:answerText}];setMessages(prev=>[...prev,userMessage]);setAnswers(updatedAnswers);setInput('');setLoading(true);const nextIndex=currentQuestionIndex+1;if(nextIndex<questions.length){setTimeout(()=>{const nextMessage={text:questions[nextIndex],from:'gpt',key:Date.now()};setMessages(prev=>[...prev,nextMessage]);setCurrentQuestionIndex(nextIndex);setLoading(false);},700);}else{setFinished(true);try{const res=await fetch('http://81.200.154.101:8000/chat/send',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({user_id:'vk_user',username:'vk_user',answers:updatedAnswers})});// ВАЖНО: читаем как BLOB\nconst blob=await res.blob();// Конвертируем BLOB в base64\nconst reader=new FileReader();reader.onloadend=()=>{const base64data=reader.result;setCharacterImage(base64data);// Устанавливаем в state\nsetMessages(prev=>[...prev,{text:'Вы похожи на...',from:'gpt',key:Date.now()}]);};reader.readAsDataURL(blob);}catch(error){setMessages(prev=>[...prev,{text:'Хм... Попробуйте еще раз!',from:'gpt',key:Date.now()}]);setLoading(false);}}};const renderMessages=()=>/*#__PURE__*/_jsxs(Div,{children:[/*#__PURE__*/_jsx(AnimatePresence,{initial:false,children:messages.map(msg=>/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:0.3},style:{display:'flex',justifyContent:msg.from==='user'?'flex-end':'flex-start',marginBottom:10},children:/*#__PURE__*/_jsx(\"div\",{style:{background:msg.from==='user'?'#f0e8dd':'#e3d5c4',color:'#1c1c1c',padding:'10px 14px',borderRadius:'16px',display:'inline-block',maxWidth:'75%',wordBreak:'break-word'},children:msg.text})},msg.key))}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]});// Отображаем экран загрузки, пока не загружены все шрифты\nif(!fontsLoaded){return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100vw',height:'100vh',backgroundColor:'#FDF7F0',display:'flex',alignItems:'center',justifyContent:'center',zIndex:9999},children:/*#__PURE__*/_jsx(\"div\",{className:\"loader\"})});}return/*#__PURE__*/_jsx(ConfigProvider,{children:/*#__PURE__*/_jsx(AdaptivityProvider,{children:/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'100%',overflow:'hidden',backgroundColor:'#FDF7F0'},children:/*#__PURE__*/_jsx(AppRoot,{children:/*#__PURE__*/_jsx(SplitLayout,{style:{width:'100%',height:'100%'},children:/*#__PURE__*/_jsx(SplitCol,{style:{width:'100%',height:'100%'},children:/*#__PURE__*/_jsxs(View,{activePanel:activePanel,children:[/*#__PURE__*/_jsx(Panel,{id:\"intro\",children:/*#__PURE__*/_jsxs(Div,{style:{display:'flex',flexDirection:'column',justifyContent:'space-between',height:'calc(100vh - 56px)',padding:0,backgroundColor:'#fdf7f0'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://i.pinimg.com/736x/01/90/d6/0190d61dbacf5e04320ca41c47da3d6c.jpg\",alt:\"\\u0412\\u0434\\u043E\\u0445\\u043D\\u043E\\u0432\\u0438\\u0442\\u0435\\u043B\\u0438\",style:{width:'100%',objectFit:'cover',maxHeight:'200px'}}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'20%',left:'10%',color:'#254E2E',fontFamily:'Anticva',fontSize:'20px',fontWeight:'bold'},children:[\"\\u0411\\u041B\\u0410\\u0413\\u041E \\u041E\\u0411\\u0429\\u0415\\u0415 \",/*#__PURE__*/_jsx(\"br\",{}),\" \\u0412\\u042B\\u0428\\u0415 \\u041C\\u041E\\u0415\\u0413\\u041E\"]})]}),/*#__PURE__*/_jsxs(Div,{style:{padding:'20px',background:'#ffffff',borderRadius:'12px',boxShadow:'0px 6px 12px rgba(0, 0, 0, 0.1)'},children:[/*#__PURE__*/_jsxs(\"p\",{style:{color:'#6C828D',fontFamily:'CodeNext',lineHeight:'1.6'},children:[\"\\u0414\\u043E\\u0431\\u0440\\u043E \\u043F\\u043E\\u0436\\u0430\\u043B\\u043E\\u0432\\u0430\\u0442\\u044C \\u0432 \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0435 \",/*#__PURE__*/_jsx(\"strong\",{children:\"\\xAB\\u041A\\u0442\\u043E \\u0442\\u044B \\u0438\\u0437 \\u0433\\u0435\\u0440\\u043E\\u0435\\u0432 \\u043F\\u0440\\u043E\\u0448\\u043B\\u043E\\u0433\\u043E?\\xBB\"}),\" \\u2014 \\u0447\\u0430\\u0441\\u0442\\u044C \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0430 \",/*#__PURE__*/_jsx(\"strong\",{children:\"\\xAB\\u0412\\u0434\\u043E\\u0445\\u043D\\u043E\\u0432\\u0438\\u0442\\u0435\\u043B\\u0438\\xBB\"}),\".\"]}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#6C828D',fontFamily:'CodeNext',lineHeight:'1.6'},children:\"\\u042D\\u0442\\u043E\\u0442 \\u0441\\u0435\\u0440\\u0432\\u0438\\u0441 \\u0441\\u043E\\u0437\\u0434\\u0430\\u043D, \\u0447\\u0442\\u043E\\u0431\\u044B \\u043A\\u0430\\u0436\\u0434\\u044B\\u0439 \\u043C\\u043E\\u0433 \\u043F\\u043E\\u0447\\u0443\\u0432\\u0441\\u0442\\u0432\\u043E\\u0432\\u0430\\u0442\\u044C \\u043B\\u0438\\u0447\\u043D\\u0443\\u044E \\u0441\\u0432\\u044F\\u0437\\u044C \\u0441 \\u0438\\u0441\\u0442\\u043E\\u0440\\u0438\\u0435\\u0439 \\u0412\\u0435\\u043B\\u0438\\u043A\\u043E\\u0439 \\u041E\\u0442\\u0435\\u0447\\u0435\\u0441\\u0442\\u0432\\u0435\\u043D\\u043D\\u043E\\u0439 \\u0432\\u043E\\u0439\\u043D\\u044B.\"}),/*#__PURE__*/_jsxs(\"p\",{style:{color:'#6C828D',fontFamily:'CodeNext',lineHeight:'1.6'},children:[\"\\u041E\\u0442\\u0432\\u0435\\u0447\\u0430\\u0439 \\u043D\\u0430 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u044B, \\u0440\\u0430\\u0441\\u0441\\u043A\\u0430\\u0437\\u044B\\u0432\\u0430\\u044F \\u043E \\u0441\\u0435\\u0431\\u0435 \\u2014 \\u0441\\u0432\\u043E\\u0431\\u043E\\u0434\\u043D\\u043E \\u0438 \\u0438\\u0441\\u043A\\u0440\\u0435\\u043D\\u043D\\u0435.\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u041F\\u043E\\u0441\\u043B\\u0435 \\u044D\\u0442\\u043E\\u0433\\u043E \\u0442\\u044B \\u0443\\u0437\\u043D\\u0430\\u0435\\u0448\\u044C, \\u043D\\u0430 \\u043A\\u043E\\u0433\\u043E \\u0438\\u0437 \\u0433\\u0435\\u0440\\u043E\\u0435\\u0432 \\u043F\\u0440\\u043E\\u0448\\u043B\\u043E\\u0433\\u043E \\u0442\\u044B \\u043F\\u043E\\u0445\\u043E\\u0436.\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u0418 \\u0441\\u043C\\u043E\\u0436\\u0435\\u0448\\u044C \\u043F\\u043E\\u0434\\u0435\\u043B\\u0438\\u0442\\u044C\\u0441\\u044F \\u0440\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u043E\\u043C \\u0432 \\u0441\\u043E\\u0446\\u0441\\u0435\\u0442\\u044F\\u0445.\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',display:'flex',justifyContent:'center',background:'transparent',padding:'24px'},children:/*#__PURE__*/_jsx(Button,{size:\"l\",onClick:()=>setActivePanel('chat'),style:{backgroundColor:'#30663d',color:'#b6d3b6',width:'200px',fontFamily:'Georgia, serif'},children:\"\\u041D\\u0430\\u0447\\u0430\\u0442\\u044C\"})})]})}),/*#__PURE__*/_jsx(Panel,{id:\"chat\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',height:'100vh',position:'relative',background:'#FDF7F0',overflow:'hidden'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#f0e8dd',padding:'12px 16px',borderBottom:'1px solid #aaa',display:'flex',alignItems:'center',position:'sticky',top:0,zIndex:20},children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://i.pinimg.com/736x/01/90/d6/0190d61dbacf5e04320ca41c47da3d6c.jpg\",alt:\"\\u0410\\u0441\\u0441\\u0438\\u0441\\u0442\\u0435\\u043D\\u0442\",style:{width:40,height:40,borderRadius:'50%',objectFit:'cover',marginRight:12}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold',fontSize:16,color:'#254E2E'},children:\"\\u0410\\u0441\\u0441\\u0438\\u0441\\u0442\\u0435\\u043D\\u0442\"}),loading&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:12,color:'#1c1c1c'},children:\"\\u043F\\u0435\\u0447\\u0430\\u0442\\u0430\\u0435\\u0442...\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1 1 auto',overflowY:'auto',padding:'16px'},children:[renderMessages(),characterImage&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,scale:0.9},animate:{opacity:1,scale:1},transition:{duration:0.5},children:/*#__PURE__*/_jsx(Div,{children:/*#__PURE__*/_jsx(\"img\",{src:characterImage,alt:\"Character\",style:{maxWidth:'100%',height:'auto',borderRadius:'8px',marginTop:'20px',maxHeight:'400px'}})})})]}),!finished?/*#__PURE__*/_jsxs(\"div\",{style:{position:'sticky',bottom:0,backgroundColor:'#f0e8dd',padding:'12px 16px',zIndex:10},children:[/*#__PURE__*/_jsx(Textarea,{value:input,onChange:e=>setInput(e.target.value),onKeyDown:e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();sendAnswer();}},placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043E\\u0442\\u0432\\u0435\\u0442...\",style:{backgroundColor:'rgba(84,129,84,0.76)',color:'#1c1c1c',borderRadius:'12px',padding:'10px',fontSize:'16px',resize:'none'}}),/*#__PURE__*/_jsx(Button,{size:\"l\",stretched:true,style:{marginTop:8,backgroundColor:'#30663d',color:'#b6d3b6'},onClick:sendAnswer,loading:loading,children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"})]}):characterImage?/*#__PURE__*/_jsxs(Div,{style:{padding:'16px',display:'flex',flexDirection:'column',gap:'12px',backgroundColor:'#fdf7f0',borderTop:'1px solid #ddd'},children:[/*#__PURE__*/_jsx(Button,{size:\"l\",stretched:true,style:{backgroundColor:'#30663d',color:'#ffffff'},onClick:async()=>{try{const data=await bridge.send('VKWebAppShowStoryBox',{background_type:'image',url:characterImage});if(data.code_data)console.log('История открыта:',data);}catch(err){console.log('Ошибка:',err);}},children:\"\\u041F\\u043E\\u0434\\u0435\\u043B\\u0438\\u0442\\u044C\\u0441\\u044F\"}),/*#__PURE__*/_jsx(Button,{size:\"l\",stretched:true,style:{backgroundColor:'#30663d',color:'#ffffff'},href:\"https://xn--b1aaffobumib0c5a.xn--p1ai/\",target:\"_blank\",children:\"\\u0423\\u0437\\u043D\\u0430\\u0442\\u044C \\u0431\\u043E\\u043B\\u044C\\u0448\\u0435 \\u043E \\u0434\\u0432\\u0438\\u0436\\u0435\\u043D\\u0438\\u0438 \\u0432\\u0434\\u043E\\u0445\\u043D\\u043E\\u0432\\u0438\\u0442\\u0435\\u043B\\u0435\\u0439\"}),/*#__PURE__*/_jsx(Button,{size:\"l\",stretched:true,style:{backgroundColor:'#30663d',color:'#ffffff'},href:\"https://xn--b1aaffobumib0c5a.xn--p1ai/\",target:\"_blank\",children:\"\\u0423\\u0437\\u043D\\u0430\\u0442\\u044C \\u0438\\u0441\\u0442\\u043E\\u0440\\u0438\\u0438 \\u0434\\u0440\\u0443\\u0433\\u0438\\u0445 \\u0433\\u0435\\u0440\\u043E\\u0435\\u0432\"})]}):null]})})]})})})})})})});};export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","AdaptivityProvider","AppRoot","Button","ConfigProvider","Div","Panel","Textarea","SplitCol","SplitLayout","View","motion","AnimatePresence","bridge","jsx","_jsx","jsxs","_jsxs","questions","App","activePanel","setActivePanel","currentQuestionIndex","setCurrentQuestionIndex","messages","setMessages","answers","setAnswers","input","setInput","loading","setLoading","finished","setFinished","characterImage","setCharacterImage","fontsLoaded","setFontsLoaded","messagesEndRef","MIN_LOADING_TIME","loadingStartTime","Date","now","document","fonts","ready","then","elapsed","delay","Math","max","setTimeout","isTouchDevice","window","navigator","maxTouchPoints","current","scrollIntoView","behavior","length","text","from","key","sendAnswer","trim","answerText","questionText","userMessage","updatedAnswers","question","answer","prev","nextIndex","nextMessage","res","fetch","method","headers","body","JSON","stringify","user_id","username","blob","reader","FileReader","onloadend","base64data","result","readAsDataURL","error","renderMessages","children","initial","map","msg","div","opacity","y","animate","exit","transition","duration","style","display","justifyContent","marginBottom","background","color","padding","borderRadius","maxWidth","wordBreak","ref","position","top","left","width","height","backgroundColor","alignItems","zIndex","className","overflow","id","flexDirection","src","alt","objectFit","maxHeight","fontFamily","fontSize","fontWeight","boxShadow","lineHeight","size","onClick","borderBottom","marginRight","flex","overflowY","scale","marginTop","bottom","value","onChange","e","target","onKeyDown","shiftKey","preventDefault","placeholder","resize","stretched","gap","borderTop","data","send","background_type","url","code_data","console","log","err","href"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/src/App.js"],"sourcesContent":["import React, {useState, useEffect, useRef} from 'react';\nimport {\n    AdaptivityProvider,\n    AppRoot,\n    Button,\n    ConfigProvider,\n    Div,\n    Panel,\n    Textarea,\n    SplitCol,\n    SplitLayout,\n    View,\n} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport {motion, AnimatePresence} from 'framer-motion';\nimport bridge from '@vkontakte/vk-bridge';\n\nconst questions = [\n    'Что тебе ближе — решать сложные задачи в одиночестве или помогать другим справляться с трудностями?',\n    'Любишь ли ты точность и технические детали, или тебе ближе творчество и воображение?',\n    'Как ты реагируешь в экстремальных ситуациях: действуешь хладнокровно, срываешься на эмоции или берёшь на себя заботу о других?',\n    'Что тебя вдохновляет больше — слова, которые могут изменить мышление, или поступки, которые меняют жизнь?',\n    'Есть ли у тебя тяга к заботе о здоровье — своём и окружающих — или тебя больше влечёт работа руками, с механизмами и конструкциями?',\n    'Ты больше мечтатель, стратег, мастер дела или защитник слабых?',\n];\n\nconst App = () => {\n    const [activePanel, setActivePanel] = useState('intro');\n    const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n    const [messages, setMessages] = useState([]);\n    const [answers, setAnswers] = useState([]);\n    const [input, setInput] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [finished, setFinished] = useState(false);\n    const [characterImage, setCharacterImage] = useState(null);\n    const [fontsLoaded, setFontsLoaded] = useState(false);\n    const messagesEndRef = useRef(null);\n\n    // Минимальное время ожидания экрана загрузки (в мс)\n    const MIN_LOADING_TIME = 2000;\n    const [loadingStartTime] = useState(Date.now());\n\n    // Ожидание загрузки всех шрифтов с учетом минимальной задержки\n    useEffect(() => {\n        document.fonts.ready.then(() => {\n            const elapsed = Date.now() - loadingStartTime;\n            const delay = Math.max(0, MIN_LOADING_TIME - elapsed);\n            setTimeout(() => setFontsLoaded(true), delay);\n        });\n    }, [loadingStartTime]);\n\n    // Определяем, поддерживает ли устройство сенсорный ввод (для автоскролла)\n    const isTouchDevice = ('ontouchstart' in window || navigator.maxTouchPoints > 0);\n\n    // Эффект для автоскролла в конец чата (только для сенсорных устройств)\n    useEffect(() => {\n        if (isTouchDevice && messagesEndRef.current) {\n            messagesEndRef.current.scrollIntoView({behavior: 'smooth'});\n        }\n    }, [messages, isTouchDevice]);\n\n    useEffect(() => {\n        if (activePanel === 'chat' && messages.length === 0) {\n            setMessages([{text: questions[0], from: 'gpt', key: Date.now()}]);\n        }\n    }, [activePanel, messages.length]);\n\n    const sendAnswer = async () => {\n        if (!input.trim()) return;\n\n        const answerText = input.trim();\n        const questionText = questions[currentQuestionIndex];\n\n        const userMessage = {text: answerText, from: 'user', key: Date.now()};\n        const updatedAnswers = [...answers, {question: questionText, answer: answerText}];\n\n        setMessages(prev => [...prev, userMessage]);\n        setAnswers(updatedAnswers);\n        setInput('');\n        setLoading(true);\n\n        const nextIndex = currentQuestionIndex + 1;\n\n        if (nextIndex < questions.length) {\n            setTimeout(() => {\n                const nextMessage = {\n                    text: questions[nextIndex],\n                    from: 'gpt',\n                    key: Date.now(),\n                };\n                setMessages(prev => [...prev, nextMessage]);\n                setCurrentQuestionIndex(nextIndex);\n                setLoading(false);\n            }, 700);\n        } else {\n            setFinished(true);\n            try {\n                const res = await fetch('http://81.200.154.101:8000/chat/send', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                    },\n                    body: JSON.stringify({\n                        user_id: 'vk_user',\n                        username: 'vk_user',\n                        answers: updatedAnswers,\n                    }),\n                });\n\n                // ВАЖНО: читаем как BLOB\n                const blob = await res.blob();\n\n                // Конвертируем BLOB в base64\n                const reader = new FileReader();\n                reader.onloadend = () => {\n                    const base64data = reader.result;\n                    setCharacterImage(base64data); // Устанавливаем в state\n                    setMessages(prev => [...prev, {text: 'Вы похожи на...', from: 'gpt', key: Date.now()}]);\n                };\n                reader.readAsDataURL(blob);\n\n            } catch (error) {\n                setMessages(prev => [\n                    ...prev,\n                    {text: 'Хм... Попробуйте еще раз!', from: 'gpt', key: Date.now()},\n                ]);\n                setLoading(false);\n            }\n        }\n    };\n\n\n    const renderMessages = () => (\n        <Div>\n            <AnimatePresence initial={false}>\n                {messages.map((msg) => (\n                    <motion.div\n                        key={msg.key}\n                        initial={{opacity: 0, y: 10}}\n                        animate={{opacity: 1, y: 0}}\n                        exit={{opacity: 0, y: 10}}\n                        transition={{duration: 0.3}}\n                        style={{\n                            display: 'flex',\n                            justifyContent: msg.from === 'user' ? 'flex-end' : 'flex-start',\n                            marginBottom: 10,\n                        }}\n                    >\n                        <div\n                            style={{\n                                background: msg.from === 'user' ? '#f0e8dd' : '#e3d5c4',\n                                color: '#1c1c1c',\n                                padding: '10px 14px',\n                                borderRadius: '16px',\n                                display: 'inline-block',\n                                maxWidth: '75%',\n                                wordBreak: 'break-word',\n                            }}\n                        >\n                            {msg.text}\n                        </div>\n                    </motion.div>\n                ))}\n            </AnimatePresence>\n            {/* Элемент для автоскролла */}\n            <div ref={messagesEndRef}/>\n        </Div>\n    );\n\n    // Отображаем экран загрузки, пока не загружены все шрифты\n    if (!fontsLoaded) {\n        return (\n            <div\n                style={{\n                    position: 'fixed',\n                    top: 0,\n                    left: 0,\n                    width: '100vw',\n                    height: '100vh',\n                    backgroundColor: '#FDF7F0',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    zIndex: 9999,\n                }}\n            >\n                <div className=\"loader\"></div>\n            </div>\n        );\n    }\n\n    return (\n        <ConfigProvider>\n            <AdaptivityProvider>\n                <div style={{width: '100%', height: '100%', overflow: 'hidden', backgroundColor: '#FDF7F0'}}><AppRoot>\n                    <SplitLayout style={{width: '100%', height: '100%'}}>\n                        <SplitCol style={{width: '100%', height: '100%'}}>\n                            <View activePanel={activePanel}>\n                                <Panel id=\"intro\">\n                                    <Div\n                                        style={{\n                                            display: 'flex',\n                                            flexDirection: 'column',\n                                            justifyContent: 'space-between',\n                                            height: 'calc(100vh - 56px)',\n                                            padding: 0,\n                                            backgroundColor: '#fdf7f0',\n                                        }}\n                                    >\n                                        <div style={{position: 'relative'}}>\n                                            <img\n                                                src=\"https://i.pinimg.com/736x/01/90/d6/0190d61dbacf5e04320ca41c47da3d6c.jpg\"\n                                                alt=\"Вдохновители\"\n                                                style={{\n                                                    width: '100%',\n                                                    objectFit: 'cover',\n                                                    maxHeight: '200px',\n                                                }}\n                                            />\n                                            <div\n                                                style={{\n                                                    position: 'absolute',\n                                                    top: '20%',\n                                                    left: '10%',\n                                                    color: '#254E2E',\n                                                    fontFamily: 'Anticva',\n                                                    fontSize: '20px',\n                                                    fontWeight: 'bold',\n                                                }}\n                                            >\n                                                БЛАГО ОБЩЕЕ <br/> ВЫШЕ МОЕГО\n                                            </div>\n                                        </div>\n\n                                        <Div\n                                            style={{\n                                                padding: '20px',\n                                                background: '#ffffff',\n                                                borderRadius: '12px',\n                                                boxShadow: '0px 6px 12px rgba(0, 0, 0, 0.1)',\n                                            }}\n                                        >\n                                            <p\n                                                style={{\n                                                    color: '#6C828D',\n                                                    fontFamily: 'CodeNext',\n                                                    lineHeight: '1.6',\n                                                }}\n                                            >\n                                                Добро пожаловать в приложение <strong>«Кто ты из героев\n                                                прошлого?»</strong> — часть проекта <strong>«Вдохновители»</strong>.\n                                            </p>\n                                            <p\n                                                style={{\n                                                    color: '#6C828D',\n                                                    fontFamily: 'CodeNext',\n                                                    lineHeight: '1.6',\n                                                }}\n                                            >\n                                                Этот сервис создан, чтобы каждый мог почувствовать личную связь с\n                                                историей Великой Отечественной войны.\n                                            </p>\n                                            <p\n                                                style={{\n                                                    color: '#6C828D',\n                                                    fontFamily: 'CodeNext',\n                                                    lineHeight: '1.6',\n                                                }}\n                                            >\n                                                Отвечай на вопросы, рассказывая о себе — свободно и искренне.<br/>\n                                                После этого ты узнаешь, на кого из героев прошлого ты похож.<br/>\n                                                И сможешь поделиться результатом в соцсетях.\n                                            </p>\n                                        </Div>\n\n                                        <div\n                                            style={{\n                                                width: '100%',\n                                                display: 'flex',\n                                                justifyContent: 'center',\n                                                background: 'transparent',\n                                                padding: '24px',\n                                            }}\n                                        >\n                                            <Button\n                                                size=\"l\"\n                                                onClick={() => setActivePanel('chat')}\n                                                style={{\n                                                    backgroundColor: '#30663d',\n                                                    color: '#b6d3b6',\n                                                    width: '200px',\n                                                    fontFamily: 'Georgia, serif',\n                                                }}\n                                            >\n                                                Начать\n                                            </Button>\n                                        </div>\n                                    </Div>\n                                </Panel>\n\n                                <Panel id=\"chat\">\n                                    <div style={{\n                                        display: 'flex',\n                                        flexDirection: 'column',\n                                        height: '100vh',\n                                        position: 'relative',\n                                        background: '#FDF7F0',\n                                        overflow: 'hidden',\n                                    }}>\n\n                                        <div\n                                            style={{\n                                                backgroundColor: '#f0e8dd',\n                                                padding: '12px 16px',\n                                                borderBottom: '1px solid #aaa',\n                                                display: 'flex',\n                                                alignItems: 'center',\n                                                position: 'sticky',\n                                                top: 0,\n                                                zIndex: 20,\n                                            }}\n                                        >\n                                            <img\n                                                src=\"https://i.pinimg.com/736x/01/90/d6/0190d61dbacf5e04320ca41c47da3d6c.jpg\"\n                                                alt=\"Ассистент\"\n                                                style={{\n                                                    width: 40,\n                                                    height: 40,\n                                                    borderRadius: '50%',\n                                                    objectFit: 'cover',\n                                                    marginRight: 12,\n                                                }}\n                                            />\n                                            <div>\n                                                <div style={{fontWeight: 'bold', fontSize: 16, color: '#254E2E'}}>\n                                                    Ассистент\n                                                </div>\n                                                {loading && (\n                                                    <div style={{fontSize: 12, color: '#1c1c1c'}}>\n                                                        печатает...\n                                                    </div>\n                                                )}\n                                            </div>\n\n                                        </div>\n                                        <div style={{flex: '1 1 auto', overflowY: 'auto', padding: '16px'}}>\n                                            {renderMessages()}\n                                            {characterImage && (\n                                                <motion.div initial={{opacity: 0, scale: 0.9}}\n                                                            animate={{opacity: 1, scale: 1}}\n                                                            transition={{duration: 0.5}}>\n                                                    <Div>\n                                                        <img src={characterImage} alt=\"Character\" style={{\n                                                            maxWidth: '100%',\n                                                            height: 'auto',\n                                                            borderRadius: '8px',\n                                                            marginTop: '20px',\n                                                            maxHeight: '400px'\n                                                        }}/>\n                                                    </Div>\n                                                </motion.div>\n                                            )}\n                                        </div>\n                                        {!finished ? (\n                                            <div style={{\n                                                position: 'sticky',\n                                                bottom: 0,\n                                                backgroundColor: '#f0e8dd',\n                                                padding: '12px 16px',\n                                                zIndex: 10\n                                            }}>\n                                                <Textarea\n                                                    value={input}\n                                                    onChange={e => setInput(e.target.value)}\n                                                    onKeyDown={e => {\n                                                        if (e.key === 'Enter' && !e.shiftKey) {\n                                                            e.preventDefault();\n                                                            sendAnswer();\n                                                        }\n                                                    }}\n                                                    placeholder=\"Введите ответ...\"\n                                                    style={{\n                                                        backgroundColor: 'rgba(84,129,84,0.76)',\n                                                        color: '#1c1c1c',\n                                                        borderRadius: '12px',\n                                                        padding: '10px',\n                                                        fontSize: '16px',\n                                                        resize: 'none'\n                                                    }}\n                                                />\n                                                <Button\n                                                    size=\"l\"\n                                                    stretched\n                                                    style={{\n                                                        marginTop: 8,\n                                                        backgroundColor: '#30663d',\n                                                        color: '#b6d3b6'\n                                                    }}\n                                                    onClick={sendAnswer}\n                                                    loading={loading}\n                                                >\n                                                    Отправить\n                                                </Button>\n                                            </div>\n                                        ) : characterImage ? (\n                                            <Div style={{\n                                                padding: '16px',\n                                                display: 'flex',\n                                                flexDirection: 'column',\n                                                gap: '12px',\n                                                backgroundColor: '#fdf7f0',\n                                                borderTop: '1px solid #ddd',\n                                            }}>\n                                                <Button\n                                                    size=\"l\"\n                                                    stretched\n                                                    style={{backgroundColor: '#30663d', color: '#ffffff'}}\n                                                    onClick={async () => {\n                                                        try {\n                                                            const data = await bridge.send('VKWebAppShowStoryBox', {\n                                                                background_type: 'image',\n                                                                url: characterImage\n                                                            });\n                                                            if (data.code_data) console.log('История открыта:', data);\n                                                        } catch (err) {\n                                                            console.log('Ошибка:', err);\n                                                        }\n                                                    }}\n                                                >\n                                                    Поделиться\n                                                </Button>\n                                                <Button\n                                                    size=\"l\"\n                                                    stretched\n                                                    style={{backgroundColor: '#30663d', color: '#ffffff'}}\n                                                    href=\"https://xn--b1aaffobumib0c5a.xn--p1ai/\"\n                                                    target=\"_blank\"\n                                                >\n                                                    Узнать больше о движении вдохновителей\n                                                </Button>\n                                                <Button\n                                                    size=\"l\"\n                                                    stretched\n                                                    style={{backgroundColor: '#30663d', color: '#ffffff'}}\n                                                    href=\"https://xn--b1aaffobumib0c5a.xn--p1ai/\"\n                                                    target=\"_blank\"\n                                                >\n                                                    Узнать истории других героев\n                                                </Button>\n                                            </Div>\n                                        ) : null}\n\n                                    </div>\n                                </Panel>\n\n                            </View>\n                        </SplitCol>\n                    </SplitLayout>\n                </AppRoot>\n                </div>\n            </AdaptivityProvider>\n        </ConfigProvider>\n    )\n        ;\n};\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}