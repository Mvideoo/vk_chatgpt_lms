{"ast":null,"code":"import { BREAKPOINTS } from \"./breakpoints.js\";\nimport { VIEW_WIDTH_TO_CSS_BREAKPOINT_MAP, ViewHeight, ViewWidth } from \"./constants.js\";\n/**\n * @public\n */\nexport function getViewWidthByViewportWidth(viewportWidth) {\n  if (viewportWidth >= BREAKPOINTS.DESKTOP) {\n    return ViewWidth.DESKTOP;\n  }\n  if (viewportWidth >= BREAKPOINTS.TABLET) {\n    return ViewWidth.TABLET;\n  }\n  if (viewportWidth >= BREAKPOINTS.SMALL_TABLET) {\n    return ViewWidth.SMALL_TABLET;\n  }\n  if (viewportWidth >= BREAKPOINTS.MOBILE) {\n    return ViewWidth.MOBILE;\n  }\n  return ViewWidth.SMALL_MOBILE;\n}\nexport function getViewWidthByMediaQueries(mediaQueries) {\n  /* eslint-disable no-restricted-properties */if (mediaQueries.desktopPlus.matches) {\n    return ViewWidth.DESKTOP;\n  }\n  if (mediaQueries.tablet.matches) {\n    return ViewWidth.TABLET;\n  }\n  if (mediaQueries.smallTablet.matches) {\n    return ViewWidth.SMALL_TABLET;\n  }\n  if (mediaQueries.mobile.matches) {\n    return ViewWidth.MOBILE;\n  }\n  /* eslint-enable no-restricted-properties */\n  return ViewWidth.SMALL_MOBILE;\n}\n/**\n * @public\n */\nexport function getViewHeightByViewportHeight(viewportHeight) {\n  if (viewportHeight >= BREAKPOINTS.MEDIUM_HEIGHT) {\n    return ViewHeight.MEDIUM;\n  }\n  if (viewportHeight >= BREAKPOINTS.MOBILE_LANDSCAPE_HEIGHT) {\n    return ViewHeight.SMALL;\n  }\n  return ViewHeight.EXTRA_SMALL;\n}\nexport function getViewHeightByMediaQueries(mediaQueries) {\n  /* eslint-disable no-restricted-properties */if (mediaQueries.mediumHeight.matches) {\n    return ViewHeight.MEDIUM;\n  }\n  if (mediaQueries.mobileLandscapeHeight.matches) {\n    return ViewHeight.SMALL;\n  }\n  /* eslint-enable no-restricted-properties */\n  return ViewHeight.EXTRA_SMALL;\n}\nexport function getSizeX(viewWidth) {\n  return viewWidth <= ViewWidth.MOBILE ? 'compact' : 'regular';\n}\nexport function isCompactByViewWidth(viewWidth, hasPointer) {\n  return viewWidth !== undefined && viewWidth >= ViewWidth.SMALL_TABLET && hasPointer;\n}\nexport function isCompactByViewHeight(viewHeight) {\n  return viewHeight !== undefined && viewHeight <= ViewHeight.EXTRA_SMALL;\n}\nexport function getSizeY(viewWidth, viewHeight, hasPointer) {\n  if (isCompactByViewWidth(viewWidth, hasPointer) || isCompactByViewHeight(viewHeight)) {\n    return 'compact';\n  }\n  return 'regular';\n}\nexport function tryToCheckIsDesktop(viewWidth, viewHeight, hasPointer, platform) {\n  // см. https://github.com/VKCOM/VKUI/pull/2473\n  const IS_VKCOM_CRUTCH = platform === 'vkcom';\n  if ((viewWidth === undefined || hasPointer === undefined) && (viewWidth === undefined || viewHeight === undefined) || hasPointer === undefined && viewHeight === undefined) {\n    return IS_VKCOM_CRUTCH ? true : null;\n  }\n  const widthIsLikeDesktop = viewWidth >= ViewWidth.SMALL_TABLET;\n  const otherParametersIsLikeDesktop = hasPointer || (viewHeight !== undefined ? viewHeight >= ViewHeight.MEDIUM : false);\n  return widthIsLikeDesktop && otherParametersIsLikeDesktop || IS_VKCOM_CRUTCH;\n}\n/**\n * Конвертирует `viewWidth` в CSS брейкпоинты (см. тесты для наглядности).\n *\n * > Note: используется восклицательный знак (!), чтобы принудить TS поверить, что св-во точно не может быть\n * > `undefined`. Это всё из-за применения `Partial<...>` для объекта.\n */\nexport function viewWidthToClassName(breakpointClassNames) {\n  let viewWidth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'none';\n  if (viewWidth === 'none') {\n    return breakpointClassNames.hasOwnProperty('none') ? breakpointClassNames['none'] : null;\n  }\n  const breakpoints = [];\n  const breakpointName = VIEW_WIDTH_TO_CSS_BREAKPOINT_MAP[viewWidth];\n  if (breakpointClassNames.hasOwnProperty(breakpointName)) {\n    breakpoints.push(breakpointClassNames[breakpointName]);\n  }\n  if (viewWidth >= ViewWidth.MOBILE) {\n    if (breakpointClassNames.hasOwnProperty('mobilePlus')) {\n      breakpoints.push(breakpointClassNames['mobilePlus']);\n    }\n  }\n  if (viewWidth >= ViewWidth.SMALL_TABLET) {\n    if (breakpointClassNames.hasOwnProperty('smallTabletPlus')) {\n      breakpoints.push(breakpointClassNames['smallTabletPlus']);\n    }\n  } else {\n    if (breakpointClassNames.hasOwnProperty('smallTabletMinus')) {\n      breakpoints.push(breakpointClassNames['smallTabletMinus']);\n    }\n  }\n  if (viewWidth >= ViewWidth.TABLET) {\n    if (breakpointClassNames.hasOwnProperty('tabletPlus')) {\n      breakpoints.push(breakpointClassNames['tabletPlus']);\n    }\n  } else {\n    if (breakpointClassNames.hasOwnProperty('tabletMinus')) {\n      breakpoints.push(breakpointClassNames['tabletMinus']);\n    }\n  }\n  return breakpoints.length > 0 ? breakpoints.join(' ') : null;\n}","map":{"version":3,"names":["BREAKPOINTS","VIEW_WIDTH_TO_CSS_BREAKPOINT_MAP","ViewHeight","ViewWidth","getViewWidthByViewportWidth","viewportWidth","DESKTOP","TABLET","SMALL_TABLET","MOBILE","SMALL_MOBILE","getViewWidthByMediaQueries","mediaQueries","desktopPlus","matches","tablet","smallTablet","mobile","getViewHeightByViewportHeight","viewportHeight","MEDIUM_HEIGHT","MEDIUM","MOBILE_LANDSCAPE_HEIGHT","SMALL","EXTRA_SMALL","getViewHeightByMediaQueries","mediumHeight","mobileLandscapeHeight","getSizeX","viewWidth","isCompactByViewWidth","hasPointer","undefined","isCompactByViewHeight","viewHeight","getSizeY","tryToCheckIsDesktop","platform","IS_VKCOM_CRUTCH","widthIsLikeDesktop","otherParametersIsLikeDesktop","viewWidthToClassName","breakpointClassNames","arguments","length","hasOwnProperty","breakpoints","breakpointName","push","join"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkui/src/lib/adaptivity/functions.ts"],"sourcesContent":["import type { Exact } from '../../types';\nimport { type PlatformType } from '../platform';\nimport { BREAKPOINTS } from './breakpoints';\nimport {\n  type SizeTypeValues,\n  VIEW_WIDTH_TO_CSS_BREAKPOINT_MAP,\n  ViewHeight,\n  type ViewHeightType,\n  ViewWidth,\n  type ViewWidthType,\n} from './constants';\nimport type { CSSBreakpointsClassNames, MediaQueries } from './types';\n\n/**\n * @public\n */\nexport function getViewWidthByViewportWidth(viewportWidth: number): ViewWidthType {\n  if (viewportWidth >= BREAKPOINTS.DESKTOP) {\n    return ViewWidth.DESKTOP;\n  }\n  if (viewportWidth >= BREAKPOINTS.TABLET) {\n    return ViewWidth.TABLET;\n  }\n  if (viewportWidth >= BREAKPOINTS.SMALL_TABLET) {\n    return ViewWidth.SMALL_TABLET;\n  }\n  if (viewportWidth >= BREAKPOINTS.MOBILE) {\n    return ViewWidth.MOBILE;\n  }\n  return ViewWidth.SMALL_MOBILE;\n}\n\nexport function getViewWidthByMediaQueries(mediaQueries: MediaQueries): ViewWidthType {\n  /* eslint-disable no-restricted-properties */\n  if (mediaQueries.desktopPlus.matches) {\n    return ViewWidth.DESKTOP;\n  }\n  if (mediaQueries.tablet.matches) {\n    return ViewWidth.TABLET;\n  }\n  if (mediaQueries.smallTablet.matches) {\n    return ViewWidth.SMALL_TABLET;\n  }\n  if (mediaQueries.mobile.matches) {\n    return ViewWidth.MOBILE;\n  }\n  /* eslint-enable no-restricted-properties */\n  return ViewWidth.SMALL_MOBILE;\n}\n\n/**\n * @public\n */\nexport function getViewHeightByViewportHeight(viewportHeight: number): ViewHeightType {\n  if (viewportHeight >= BREAKPOINTS.MEDIUM_HEIGHT) {\n    return ViewHeight.MEDIUM;\n  }\n  if (viewportHeight >= BREAKPOINTS.MOBILE_LANDSCAPE_HEIGHT) {\n    return ViewHeight.SMALL;\n  }\n  return ViewHeight.EXTRA_SMALL;\n}\n\nexport function getViewHeightByMediaQueries(mediaQueries: MediaQueries): ViewHeightType {\n  /* eslint-disable no-restricted-properties */\n  if (mediaQueries.mediumHeight.matches) {\n    return ViewHeight.MEDIUM;\n  }\n  if (mediaQueries.mobileLandscapeHeight.matches) {\n    return ViewHeight.SMALL;\n  }\n  /* eslint-enable no-restricted-properties */\n  return ViewHeight.EXTRA_SMALL;\n}\n\nexport function getSizeX(viewWidth: ViewWidthType): SizeTypeValues {\n  return viewWidth <= ViewWidth.MOBILE ? 'compact' : 'regular';\n}\n\nexport function isCompactByViewWidth(\n  viewWidth: ViewWidthType | undefined,\n  hasPointer?: boolean,\n): boolean | undefined {\n  return viewWidth !== undefined && viewWidth >= ViewWidth.SMALL_TABLET && hasPointer;\n}\n\nexport function isCompactByViewHeight(viewHeight: ViewHeightType | undefined): boolean {\n  return viewHeight !== undefined && viewHeight <= ViewHeight.EXTRA_SMALL;\n}\n\nexport function getSizeY(\n  viewWidth: ViewWidthType,\n  viewHeight: ViewHeightType,\n  hasPointer: boolean,\n): SizeTypeValues {\n  if (isCompactByViewWidth(viewWidth, hasPointer) || isCompactByViewHeight(viewHeight)) {\n    return 'compact';\n  }\n  return 'regular';\n}\n\n/**\n * Проверка на Desktop.\n *\n * Функция гарантировано вернёт `boolean` или `null` в зависимости от условий.\n *\n * Возвращаем `null` в случае, если у нас недостаточно данных, чтобы определить платформу.\n *\n * ⚠️ При передаче 'vkcom' всегда будет возвращать `true`.\n */\nexport function tryToCheckIsDesktop(viewWidth: ViewWidthType, viewHeight: ViewHeightType, hasPointer: undefined | boolean, platform?: PlatformType): boolean; // prettier-ignore\nexport function tryToCheckIsDesktop(viewWidth: ViewWidthType, viewHeight: undefined, hasPointer: boolean, platform?: PlatformType): boolean; // prettier-ignore\nexport function tryToCheckIsDesktop(viewWidth: undefined | ViewWidthType, viewHeight: undefined, hasPointer: undefined, platform?: PlatformType): null; // prettier-ignore\nexport function tryToCheckIsDesktop(viewWidth: undefined, viewHeight: undefined | ViewHeightType, hasPointer: undefined, platform?: PlatformType): null; // prettier-ignore\nexport function tryToCheckIsDesktop(viewWidth: undefined, viewHeight: undefined, hasPointer: undefined | boolean, platform?: PlatformType): null; // prettier-ignore\nexport function tryToCheckIsDesktop(viewWidth: undefined | ViewWidthType, viewHeight: undefined | ViewHeightType, hasPointer: undefined | boolean, platform?: PlatformType): null | boolean; // prettier-ignore\nexport function tryToCheckIsDesktop(\n  viewWidth: undefined | ViewWidthType,\n  viewHeight: undefined | ViewHeightType,\n  hasPointer: undefined | boolean,\n  platform?: PlatformType,\n): null | boolean {\n  // см. https://github.com/VKCOM/VKUI/pull/2473\n  const IS_VKCOM_CRUTCH = platform === 'vkcom';\n\n  if (\n    ((viewWidth === undefined || hasPointer === undefined) &&\n      (viewWidth === undefined || viewHeight === undefined)) ||\n    (hasPointer === undefined && viewHeight === undefined)\n  ) {\n    return IS_VKCOM_CRUTCH ? true : null;\n  }\n\n  const widthIsLikeDesktop = viewWidth >= ViewWidth.SMALL_TABLET;\n  const otherParametersIsLikeDesktop =\n    hasPointer || (viewHeight !== undefined ? viewHeight >= ViewHeight.MEDIUM : false);\n\n  return (widthIsLikeDesktop && otherParametersIsLikeDesktop) || IS_VKCOM_CRUTCH;\n}\n\n/**\n * Конвертирует `viewWidth` в CSS брейкпоинты (см. тесты для наглядности).\n *\n * > Note: используется восклицательный знак (!), чтобы принудить TS поверить, что св-во точно не может быть\n * > `undefined`. Это всё из-за применения `Partial<...>` для объекта.\n */\nexport function viewWidthToClassName<T extends Partial<CSSBreakpointsClassNames>>(\n  breakpointClassNames: Exact<CSSBreakpointsClassNames, T>,\n  viewWidth: ViewWidthType | 'none' = 'none',\n): string | null {\n  if (viewWidth === 'none') {\n    return breakpointClassNames.hasOwnProperty('none') ? breakpointClassNames['none']! : null;\n  }\n\n  const breakpoints: string[] = [];\n  const breakpointName = VIEW_WIDTH_TO_CSS_BREAKPOINT_MAP[viewWidth];\n\n  if (breakpointClassNames.hasOwnProperty(breakpointName)) {\n    breakpoints.push(breakpointClassNames[breakpointName]!);\n  }\n\n  if (viewWidth >= ViewWidth.MOBILE) {\n    if (breakpointClassNames.hasOwnProperty('mobilePlus')) {\n      breakpoints.push(breakpointClassNames['mobilePlus']!);\n    }\n  }\n\n  if (viewWidth >= ViewWidth.SMALL_TABLET) {\n    if (breakpointClassNames.hasOwnProperty('smallTabletPlus')) {\n      breakpoints.push(breakpointClassNames['smallTabletPlus']!);\n    }\n  } else {\n    if (breakpointClassNames.hasOwnProperty('smallTabletMinus')) {\n      breakpoints.push(breakpointClassNames['smallTabletMinus']!);\n    }\n  }\n\n  if (viewWidth >= ViewWidth.TABLET) {\n    if (breakpointClassNames.hasOwnProperty('tabletPlus')) {\n      breakpoints.push(breakpointClassNames['tabletPlus']!);\n    }\n  } else {\n    if (breakpointClassNames.hasOwnProperty('tabletMinus')) {\n      breakpoints.push(breakpointClassNames['tabletMinus']!);\n    }\n  }\n\n  return breakpoints.length > 0 ? breakpoints.join(' ') : null;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}