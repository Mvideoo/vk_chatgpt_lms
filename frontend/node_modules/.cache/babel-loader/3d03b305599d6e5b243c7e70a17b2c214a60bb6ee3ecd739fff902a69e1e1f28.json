{"ast":null,"code":"import { useIsomorphicLayoutEffect } from \"../lib/useIsomorphicLayoutEffect.js\";\nimport { useStableCallback } from \"./useStableCallback.js\";\nexport const useMutationObserver = (ref, callback) => {\n  const stableCallback = useStableCallback(callback);\n  useIsomorphicLayoutEffect(() => {\n    if (!ref || !ref.current) {\n      return;\n    }\n    const observer = new MutationObserver(stableCallback);\n    observer.observe(ref.current, {\n      subtree: true,\n      childList: true\n    });\n    return () => observer.disconnect();\n  }, [ref, stableCallback]);\n};","map":{"version":3,"names":["useIsomorphicLayoutEffect","useStableCallback","useMutationObserver","ref","callback","stableCallback","current","observer","MutationObserver","observe","subtree","childList","disconnect"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkui/src/hooks/useMutationObserver.ts"],"sourcesContent":["import type * as React from 'react';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\nimport { useStableCallback } from './useStableCallback';\n\nexport const useMutationObserver = (\n  ref: React.RefObject<HTMLElement | null> | null,\n  callback: () => void,\n): void => {\n  const stableCallback = useStableCallback(callback);\n\n  useIsomorphicLayoutEffect(() => {\n    if (!ref || !ref.current) {\n      return;\n    }\n    const observer = new MutationObserver(stableCallback);\n    observer.observe(ref.current, {\n      subtree: true,\n      childList: true,\n    });\n    return () => observer.disconnect();\n  }, [ref, stableCallback]);\n};\n"],"mappings":"AACA,SAASA,yBAAyB,QAAQ;AAC1C,SAASC,iBAAiB,QAAQ;AAElC,OAAO,MAAMC,mBAAA,GAAsBA,CACjCC,GAAA,EACAC,QAAA;EAEA,MAAMC,cAAA,GAAiBJ,iBAAA,CAAkBG,QAAA;EAEzCJ,yBAAA,CAA0B;IACxB,IAAI,CAACG,GAAA,IAAO,CAACA,GAAA,CAAIG,OAAO,EAAE;MACxB;IACF;IACA,MAAMC,QAAA,GAAW,IAAIC,gBAAA,CAAiBH,cAAA;IACtCE,QAAA,CAASE,OAAO,CAACN,GAAA,CAAIG,OAAO,EAAE;MAC5BI,OAAA,EAAS;MACTC,SAAA,EAAW;IACb;IACA,OAAO,MAAMJ,QAAA,CAASK,UAAU;EAClC,GAAG,CAACT,GAAA,EAAKE,cAAA,CAAe;AAC1B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}