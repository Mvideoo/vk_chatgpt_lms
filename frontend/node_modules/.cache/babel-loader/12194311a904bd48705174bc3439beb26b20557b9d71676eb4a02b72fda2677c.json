{"ast":null,"code":"/* eslint-disable no-restricted-properties */import * as React from \"react\";\nimport { useDOM } from \"../dom.js\";\nimport { matchMediaListAddListener, matchMediaListRemoveListener } from \"../matchMedia.js\";\nimport { useIsomorphicLayoutEffect } from \"../useIsomorphicLayoutEffect.js\";\nexport const REDUCE_MOTION_MEDIA_QUERY = 'screen and (prefers-reduced-motion: reduce)';\nexport const useReducedMotion = () => {\n  const {\n    window\n  } = useDOM();\n  const [reducedMotion, setReducedMotion] = React.useState(() => undefined);\n  useIsomorphicLayoutEffect(() => {\n    /* istanbul ignore if: невозможный кейс (в SSR вызова этой функции не будет) */if (!window) {\n      return;\n    }\n    const match = window.matchMedia(REDUCE_MOTION_MEDIA_QUERY);\n    setReducedMotion(match.matches);\n    /* istanbul ignore next: на текущий момент, покрытие данного кейса неинтересно  */\n    const handleMediaQueryChange = event => {\n      /* istanbul ignore next */setReducedMotion(event.matches);\n    };\n    matchMediaListAddListener(match, handleMediaQueryChange);\n    return () => matchMediaListRemoveListener(match, handleMediaQueryChange);\n  }, [window]);\n  return reducedMotion;\n};","map":{"version":3,"names":["React","useDOM","matchMediaListAddListener","matchMediaListRemoveListener","useIsomorphicLayoutEffect","REDUCE_MOTION_MEDIA_QUERY","useReducedMotion","window","reducedMotion","setReducedMotion","useState","undefined","match","matchMedia","matches","handleMediaQueryChange","event"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkui/src/lib/animation/useReducedMotion.ts"],"sourcesContent":["/* eslint-disable no-restricted-properties */\nimport * as React from 'react';\nimport { useDOM } from '../dom';\nimport { matchMediaListAddListener, matchMediaListRemoveListener } from '../matchMedia';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\n\nexport const REDUCE_MOTION_MEDIA_QUERY = 'screen and (prefers-reduced-motion: reduce)';\n\nexport const useReducedMotion = (): boolean | undefined => {\n  const { window } = useDOM();\n\n  const [reducedMotion, setReducedMotion] = React.useState<boolean | undefined>(() => undefined);\n\n  useIsomorphicLayoutEffect(() => {\n    /* istanbul ignore if: невозможный кейс (в SSR вызова этой функции не будет) */\n    if (!window) {\n      return;\n    }\n    const match = window.matchMedia(REDUCE_MOTION_MEDIA_QUERY);\n    setReducedMotion(match.matches);\n    /* istanbul ignore next: на текущий момент, покрытие данного кейса неинтересно  */\n    const handleMediaQueryChange = (event: MediaQueryListEvent) => {\n      /* istanbul ignore next */\n      setReducedMotion(event.matches);\n    };\n    matchMediaListAddListener(match, handleMediaQueryChange);\n    return () => matchMediaListRemoveListener(match, handleMediaQueryChange);\n  }, [window]);\n\n  return reducedMotion;\n};\n"],"mappings":"AAAA,6CACA,YAAYA,KAAA,MAAW;AACvB,SAASC,MAAM,QAAQ;AACvB,SAASC,yBAAyB,EAAEC,4BAA4B,QAAQ;AACxE,SAASC,yBAAyB,QAAQ;AAE1C,OAAO,MAAMC,yBAAA,GAA4B;AAEzC,OAAO,MAAMC,gBAAA,GAAmBA,CAAA;EAC9B,MAAM;IAAEC;EAAM,CAAE,GAAGN,MAAA;EAEnB,MAAM,CAACO,aAAA,EAAeC,gBAAA,CAAiB,GAAGT,KAAA,CAAMU,QAAQ,CAAsB,MAAMC,SAAA;EAEpFP,yBAAA,CAA0B;IACxB,+EACA,IAAI,CAACG,MAAA,EAAQ;MACX;IACF;IACA,MAAMK,KAAA,GAAQL,MAAA,CAAOM,UAAU,CAACR,yBAAA;IAChCI,gBAAA,CAAiBG,KAAA,CAAME,OAAO;IAC9B;IACA,MAAMC,sBAAA,GAA0BC,KAAA;MAC9B,0BACAP,gBAAA,CAAiBO,KAAA,CAAMF,OAAO;IAChC;IACAZ,yBAAA,CAA0BU,KAAA,EAAOG,sBAAA;IACjC,OAAO,MAAMZ,4BAAA,CAA6BS,KAAA,EAAOG,sBAAA;EACnD,GAAG,CAACR,MAAA,CAAO;EAEX,OAAOC,aAAA;AACT","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}