{"ast":null,"code":"'use client';\n\nimport { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { classNames } from \"@vkontakte/vkjs\";\nimport { isSameDay, isSameMonth } from \"date-fns\";\nimport { useExternRef } from \"../../hooks/useExternRef.js\";\nimport { useTodayDate } from \"../../hooks/useTodayDate.js\";\nimport { getDaysNames, getWeeks } from \"../../lib/calendar.js\";\nimport { CalendarDay } from \"../CalendarDay/CalendarDay.js\";\nimport { useConfigProvider } from \"../ConfigProvider/ConfigProviderContext.js\";\nimport { RootComponent } from \"../RootComponent/RootComponent.js\";\nimport { Footnote } from \"../Typography/Footnote/Footnote.js\";\nexport const CalendarDays = _param => {\n  var {\n      viewDate,\n      value,\n      weekStartsOn,\n      onDayChange,\n      isDaySelected,\n      isDayActive,\n      isDaySelectionEnd,\n      isDaySelectionStart,\n      onDayEnter,\n      onDayLeave,\n      isDayHinted,\n      isHintedDaySelectionStart,\n      isHintedDaySelectionEnd,\n      isDayFocused,\n      isDayDisabled,\n      size,\n      showNeighboringMonth = false,\n      dayProps,\n      listenDayChangesForUpdate = false,\n      getRootRef,\n      renderDayContent,\n      dayTestId\n    } = _param,\n    props = _object_without_properties(_param, [\"viewDate\", \"value\", \"weekStartsOn\", \"onDayChange\", \"isDaySelected\", \"isDayActive\", \"isDaySelectionEnd\", \"isDaySelectionStart\", \"onDayEnter\", \"onDayLeave\", \"isDayHinted\", \"isHintedDaySelectionStart\", \"isHintedDaySelectionEnd\", \"isDayFocused\", \"isDayDisabled\", \"size\", \"showNeighboringMonth\", \"dayProps\", \"listenDayChangesForUpdate\", \"getRootRef\", \"renderDayContent\", \"dayTestId\"]);\n  const {\n    locale\n  } = useConfigProvider();\n  const ref = useExternRef(getRootRef);\n  const now = useTodayDate(listenDayChangesForUpdate);\n  const weeks = React.useMemo(() => getWeeks(viewDate, weekStartsOn), [weekStartsOn, viewDate]);\n  const daysNames = React.useMemo(() => getDaysNames(now, weekStartsOn, locale), [locale, now, weekStartsOn]);\n  const handleDayChange = React.useCallback(date => {\n    var _ref_current;\n    onDayChange(date);\n    (_ref_current = ref.current) === null || _ref_current === void 0 ? void 0 : _ref_current.focus();\n  }, [onDayChange, ref]);\n  return /*#__PURE__*/_jsxs(RootComponent, _object_spread_props(_object_spread({}, props), {\n    baseClassName: \"vkuiCalendarDays__host\",\n    getRootRef: ref,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: classNames(\"vkuiCalendarDays__row\", size === 's' && \"vkuiCalendarDays__rowSizeS\"),\n      children: daysNames.map(dayName => /*#__PURE__*/_jsx(Footnote, {\n        className: \"vkuiCalendarDays__weekday\",\n        children: dayName\n      }, dayName))\n    }), weeks.map((week, i) => /*#__PURE__*/_jsx(\"div\", {\n      className: classNames(\"vkuiCalendarDays__row\", size === 's' && \"vkuiCalendarDays__rowSizeS\"),\n      children: week.map((day, i) => {\n        const sameMonth = isSameMonth(day, viewDate);\n        return /*#__PURE__*/_jsx(CalendarDay, _object_spread_props(_object_spread({\n          day: day,\n          today: isSameDay(day, now),\n          active: isDayActive(day),\n          onChange: handleDayChange,\n          hidden: !showNeighboringMonth && !sameMonth,\n          disabled: isDayDisabled(day),\n          selectionStart: isDaySelectionStart(day, i),\n          selectionEnd: isDaySelectionEnd(day, i),\n          hintedSelectionStart: isHintedDaySelectionStart === null || isHintedDaySelectionStart === void 0 ? void 0 : isHintedDaySelectionStart(day, i),\n          hintedSelectionEnd: isHintedDaySelectionEnd === null || isHintedDaySelectionEnd === void 0 ? void 0 : isHintedDaySelectionEnd(day, i),\n          selected: isDaySelected === null || isDaySelected === void 0 ? void 0 : isDaySelected(day),\n          focused: isDayFocused(day),\n          onEnter: onDayEnter,\n          onLeave: onDayLeave,\n          hinted: isDayHinted === null || isDayHinted === void 0 ? void 0 : isDayHinted(day),\n          sameMonth: sameMonth,\n          size: size,\n          renderDayContent: renderDayContent,\n          testId: dayTestId\n        }, dayProps), {\n          className: classNames(dayProps === null || dayProps === void 0 ? void 0 : dayProps.className, \"vkuiCalendarDays__rowDay\")\n        }), day.toISOString());\n      })\n    }, i))]\n  }));\n};","map":{"version":3,"names":["React","classNames","isSameDay","isSameMonth","useExternRef","useTodayDate","getDaysNames","getWeeks","CalendarDay","useConfigProvider","RootComponent","Footnote","CalendarDays","_param","viewDate","value","weekStartsOn","onDayChange","isDaySelected","isDayActive","isDaySelectionEnd","isDaySelectionStart","onDayEnter","onDayLeave","isDayHinted","isHintedDaySelectionStart","isHintedDaySelectionEnd","isDayFocused","isDayDisabled","size","showNeighboringMonth","dayProps","listenDayChangesForUpdate","getRootRef","renderDayContent","dayTestId","props","_object_without_properties","locale","ref","now","weeks","useMemo","daysNames","handleDayChange","useCallback","date","_ref_current","current","focus","_jsxs","_object_spread_props","_object_spread","baseClassName","_jsx","className","map","dayName","week","i","day","sameMonth","today","active","onChange","hidden","disabled","selectionStart","selectionEnd","hintedSelectionStart","hintedSelectionEnd","selected","focused","onEnter","onLeave","hinted","testId","toISOString"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkui/src/components/CalendarDays/CalendarDays.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { isSameDay, isSameMonth } from 'date-fns';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useTodayDate } from '../../hooks/useTodayDate';\nimport { getDaysNames, getWeeks } from '../../lib/calendar';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport {\n  CalendarDay,\n  type CalendarDayElementProps,\n  type CalendarDayProps,\n  type CalendarDayTestsProps,\n} from '../CalendarDay/CalendarDay';\nimport { useConfigProvider } from '../ConfigProvider/ConfigProviderContext';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport styles from './CalendarDays.module.css';\n\nexport type CalendarDaysTestsProps = {\n  /**\n   * Передает атрибут `data-testid` для дня в календаре\n   */\n  dayTestId?: CalendarDayTestsProps['testId'];\n};\n\nexport interface CalendarDaysProps\n  extends Omit<HTMLAttributesWithRootRef<HTMLDivElement>, 'onChange'>,\n    Pick<CalendarDayProps, 'renderDayContent'>,\n    CalendarDaysTestsProps {\n  value?: Date | Array<Date | null>;\n  viewDate: Date;\n  weekStartsOn: 0 | 1 | 2 | 3 | 4 | 5 | 6;\n  showNeighboringMonth?: boolean;\n  size?: 's' | 'm';\n  dayProps?: CalendarDayElementProps;\n  listenDayChangesForUpdate?: boolean;\n  onDayChange: (value: Date) => void;\n  isDayDisabled: (value: Date) => boolean;\n  isDaySelectionStart: (value: Date, dayOfWeek: number) => boolean;\n  isDaySelectionEnd: (value: Date, dayOfWeek: number) => boolean;\n  isHintedDaySelectionStart?: (value: Date, dayOfWeek: number) => boolean;\n  isHintedDaySelectionEnd?: (value: Date, dayOfWeek: number) => boolean;\n  isDayActive: (value: Date) => boolean;\n  isDayHinted?: (value: Date) => boolean;\n  isDaySelected?: (value: Date) => boolean;\n  isDayFocused: (value: Date) => boolean;\n  onDayEnter?: (value: Date) => void;\n  onDayLeave?: (value: Date) => void;\n}\n\nexport const CalendarDays = ({\n  viewDate,\n  value,\n  weekStartsOn,\n  onDayChange,\n  isDaySelected,\n  isDayActive,\n  isDaySelectionEnd,\n  isDaySelectionStart,\n  onDayEnter,\n  onDayLeave,\n  isDayHinted,\n  isHintedDaySelectionStart,\n  isHintedDaySelectionEnd,\n  isDayFocused,\n  isDayDisabled,\n  size,\n  showNeighboringMonth = false,\n  dayProps,\n  listenDayChangesForUpdate = false,\n  getRootRef,\n  renderDayContent,\n  dayTestId,\n  ...props\n}: CalendarDaysProps): React.ReactNode => {\n  const { locale } = useConfigProvider();\n  const ref = useExternRef(getRootRef);\n  const now = useTodayDate(listenDayChangesForUpdate);\n\n  const weeks = React.useMemo(() => getWeeks(viewDate, weekStartsOn), [weekStartsOn, viewDate]);\n\n  const daysNames = React.useMemo(\n    () => getDaysNames(now, weekStartsOn, locale),\n    [locale, now, weekStartsOn],\n  );\n\n  const handleDayChange = React.useCallback(\n    (date: Date) => {\n      onDayChange(date);\n\n      ref.current?.focus();\n    },\n    [onDayChange, ref],\n  );\n\n  return (\n    <RootComponent {...props} baseClassName={styles.host} getRootRef={ref}>\n      <div className={classNames(styles.row, size === 's' && styles.rowSizeS)}>\n        {daysNames.map((dayName) => (\n          <Footnote key={dayName} className={styles.weekday}>\n            {dayName}\n          </Footnote>\n        ))}\n      </div>\n\n      {weeks.map((week, i) => (\n        <div className={classNames(styles.row, size === 's' && styles.rowSizeS)} key={i}>\n          {week.map((day, i) => {\n            const sameMonth = isSameMonth(day, viewDate);\n            return (\n              <CalendarDay\n                key={day.toISOString()}\n                day={day}\n                today={isSameDay(day, now)}\n                active={isDayActive(day)}\n                onChange={handleDayChange}\n                hidden={!showNeighboringMonth && !sameMonth}\n                disabled={isDayDisabled(day)}\n                selectionStart={isDaySelectionStart(day, i)}\n                selectionEnd={isDaySelectionEnd(day, i)}\n                hintedSelectionStart={isHintedDaySelectionStart?.(day, i)}\n                hintedSelectionEnd={isHintedDaySelectionEnd?.(day, i)}\n                selected={isDaySelected?.(day)}\n                focused={isDayFocused(day)}\n                onEnter={onDayEnter}\n                onLeave={onDayLeave}\n                hinted={isDayHinted?.(day)}\n                sameMonth={sameMonth}\n                size={size}\n                renderDayContent={renderDayContent}\n                testId={dayTestId}\n                {...dayProps}\n                className={classNames(dayProps?.className, styles.rowDay)}\n              />\n            );\n          })}\n        </div>\n      ))}\n    </RootComponent>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}