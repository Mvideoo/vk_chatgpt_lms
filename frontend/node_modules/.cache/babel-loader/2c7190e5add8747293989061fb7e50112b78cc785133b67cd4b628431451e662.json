{"ast":null,"code":"import { getOverflowAncestors } from \"../../lib/floating/index.js\";\nconst swipeBackExcludedSelector = 'input, textarea, [data-vkui-swipe-back=false]';\nexport function swipeBackExcluded(e) {\n  var _target_closest;\n  const target = e.originalEvent.target;\n  // eslint-disable-next-line no-restricted-properties\n  return Boolean(target === null || target === void 0 ? void 0 : (_target_closest = target.closest) === null || _target_closest === void 0 ? void 0 : _target_closest.call(target, swipeBackExcludedSelector));\n}\nexport function hasHorizontalScrollableElementWithScrolledToLeft(node) {\n  return getOverflowAncestors(node).some(node => 'scrollLeft' in node ? node.scrollLeft > 0 : false);\n}\nexport const SWIPE_BACK_EDGE_SIZE_THRESHOLD = 20;\nexport const SWIPE_BACK_SHIFT_THRESHOLD = 10;\nexport const getSwipeBackPredicates = (startX, shiftX, innerWidth) => {\n  const swipedToOpposite = shiftX < 0;\n  const swipeBackTriggered = shiftX >= SWIPE_BACK_SHIFT_THRESHOLD;\n  const viewportStartEdgeTouched = startX <= SWIPE_BACK_EDGE_SIZE_THRESHOLD;\n  const viewportEndEdgeTouched = startX >= innerWidth - SWIPE_BACK_EDGE_SIZE_THRESHOLD;\n  return {\n    swipedToOpposite,\n    swipeBackTriggered,\n    viewportStartEdgeTouched,\n    viewportEndEdgeTouched\n  };\n};","map":{"version":3,"names":["getOverflowAncestors","swipeBackExcludedSelector","swipeBackExcluded","e","_target_closest","target","originalEvent","Boolean","closest","call","hasHorizontalScrollableElementWithScrolledToLeft","node","some","scrollLeft","SWIPE_BACK_EDGE_SIZE_THRESHOLD","SWIPE_BACK_SHIFT_THRESHOLD","getSwipeBackPredicates","startX","shiftX","innerWidth","swipedToOpposite","swipeBackTriggered","viewportStartEdgeTouched","viewportEndEdgeTouched"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkui/src/components/View/utils.ts"],"sourcesContent":["import { getOverflowAncestors } from '../../lib/floating';\nimport { type CustomTouchEvent } from '../Touch/Touch';\n\nconst swipeBackExcludedSelector = 'input, textarea, [data-vkui-swipe-back=false]';\n\nexport function swipeBackExcluded(e: CustomTouchEvent): boolean {\n  const target = e.originalEvent.target as HTMLElement;\n  // eslint-disable-next-line no-restricted-properties\n  return Boolean(target?.closest?.(swipeBackExcludedSelector));\n}\n\nexport function hasHorizontalScrollableElementWithScrolledToLeft(node: HTMLElement): boolean {\n  return getOverflowAncestors(node).some((node) =>\n    'scrollLeft' in node ? node.scrollLeft > 0 : false,\n  );\n}\n\nexport const SWIPE_BACK_EDGE_SIZE_THRESHOLD = 20;\n\nexport const SWIPE_BACK_SHIFT_THRESHOLD = 10;\n\nexport const getSwipeBackPredicates = (\n  startX: number,\n  shiftX: number,\n  innerWidth: number,\n): {\n  swipedToOpposite: boolean;\n  swipeBackTriggered: boolean;\n  viewportStartEdgeTouched: boolean;\n  viewportEndEdgeTouched: boolean;\n} => {\n  const swipedToOpposite = shiftX < 0;\n  const swipeBackTriggered = shiftX >= SWIPE_BACK_SHIFT_THRESHOLD;\n  const viewportStartEdgeTouched = startX <= SWIPE_BACK_EDGE_SIZE_THRESHOLD;\n  const viewportEndEdgeTouched = startX >= innerWidth - SWIPE_BACK_EDGE_SIZE_THRESHOLD;\n  return { swipedToOpposite, swipeBackTriggered, viewportStartEdgeTouched, viewportEndEdgeTouched };\n};\n"],"mappings":"AAAA,SAASA,oBAAoB,QAAQ;AAGrC,MAAMC,yBAAA,GAA4B;AAElC,OAAO,SAASC,kBAAkBC,CAAmB;MAGpCC,eAAA;EAFf,MAAMC,MAAA,GAASF,CAAA,CAAEG,aAAa,CAACD,MAAM;EACrC;EACA,OAAOE,OAAA,CAAQF,MAAA,aAAAA,MAAA,wBAAAD,eAAA,GAAAC,MAAA,CAAQG,OAAO,cAAfJ,eAAA,uBAAAA,eAAA,CAAAK,IAAA,CAAAJ,MAAA,EAAkBJ,yBAAA;AACnC;AAEA,OAAO,SAASS,iDAAiDC,IAAiB;EAChF,OAAOX,oBAAA,CAAqBW,IAAA,EAAMC,IAAI,CAAED,IAAA,IACtC,gBAAgBA,IAAA,GAAOA,IAAA,CAAKE,UAAU,GAAG,IAAI;AAEjD;AAEA,OAAO,MAAMC,8BAAA,GAAiC;AAE9C,OAAO,MAAMC,0BAAA,GAA6B;AAE1C,OAAO,MAAMC,sBAAA,GAAyBA,CACpCC,MAAA,EACAC,MAAA,EACAC,UAAA;EAOA,MAAMC,gBAAA,GAAmBF,MAAA,GAAS;EAClC,MAAMG,kBAAA,GAAqBH,MAAA,IAAUH,0BAAA;EACrC,MAAMO,wBAAA,GAA2BL,MAAA,IAAUH,8BAAA;EAC3C,MAAMS,sBAAA,GAAyBN,MAAA,IAAUE,UAAA,GAAaL,8BAAA;EACtD,OAAO;IAAEM,gBAAA;IAAkBC,kBAAA;IAAoBC,wBAAA;IAA0BC;EAAuB;AAClG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}