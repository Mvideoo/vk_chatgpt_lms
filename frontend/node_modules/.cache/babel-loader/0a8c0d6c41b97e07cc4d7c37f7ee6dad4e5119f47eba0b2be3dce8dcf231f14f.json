{"ast":null,"code":"import { useIsomorphicLayoutEffect } from \"../lib/useIsomorphicLayoutEffect.js\";\nconst layoutClassNames = {\n  card: 'vkui--layout-card',\n  plain: 'vkui--layout-plain'\n};\nexport function useSyncHTMLWithBaseVKUIClasses(_ref) {\n  let {\n    appRootRef,\n    mode,\n    enable,\n    layout\n  } = _ref;\n  useIsomorphicLayoutEffect(() => {\n    var _appRootRef_current, _appRootRef_current1;\n    if (!enable) {\n      return;\n    }\n    const htmlElement = (_appRootRef_current = appRootRef.current) === null || _appRootRef_current === void 0 ? void 0 : _appRootRef_current.ownerDocument.documentElement;\n    var _appRootRef_current_parentElement;\n    const parentElement = (_appRootRef_current_parentElement = (_appRootRef_current1 = appRootRef.current) === null || _appRootRef_current1 === void 0 ? void 0 : _appRootRef_current1.parentElement) !== null && _appRootRef_current_parentElement !== void 0 ? _appRootRef_current_parentElement : null;\n    const htmlElementClasses = ['vkui'];\n    const parentElementClasses = ['vkui__root'];\n    if (mode === 'embedded') {\n      parentElementClasses.push('vkui__root--embedded');\n    }\n    if (mode === 'full') {\n      if (layout) {\n        htmlElementClasses.push(layoutClassNames[layout]);\n      }\n      /* eslint-disable-next-line no-restricted-properties */\n      htmlElement === null || htmlElement === void 0 ? void 0 : htmlElement.classList.add(...htmlElementClasses);\n    }\n    /* eslint-disable-next-line no-restricted-properties */\n    parentElement === null || parentElement === void 0 ? void 0 : parentElement.classList.add(...parentElementClasses);\n    return () => {\n      if (mode === 'full') {\n        /* eslint-disable-next-line no-restricted-properties */htmlElement === null || htmlElement === void 0 ? void 0 : htmlElement.classList.remove(...htmlElementClasses);\n      }\n      /* eslint-disable-next-line no-restricted-properties */\n      parentElement === null || parentElement === void 0 ? void 0 : parentElement.classList.remove(...parentElementClasses);\n    };\n  }, [mode, enable, layout]);\n}","map":{"version":3,"names":["useIsomorphicLayoutEffect","layoutClassNames","card","plain","useSyncHTMLWithBaseVKUIClasses","_ref","appRootRef","mode","enable","layout","_appRootRef_current","_appRootRef_current1","htmlElement","current","ownerDocument","documentElement","_appRootRef_current_parentElement","parentElement","htmlElementClasses","parentElementClasses","push","classList","add","remove"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkui/src/hooks/useSyncHTMLWithBaseVKUIClasses.ts"],"sourcesContent":["import type * as React from 'react';\nimport type { AppRootLayout, AppRootMode } from '../components/AppRoot/types';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\n\nconst layoutClassNames = { card: 'vkui--layout-card', plain: 'vkui--layout-plain' };\n\nexport function useSyncHTMLWithBaseVKUIClasses({\n  appRootRef,\n  mode,\n  enable,\n  layout,\n}: {\n  appRootRef: React.RefObject<HTMLElement | null>;\n  mode: AppRootMode;\n  layout?: AppRootLayout;\n  enable: boolean;\n}) {\n  useIsomorphicLayoutEffect(() => {\n    if (!enable) {\n      return;\n    }\n\n    const htmlElement = appRootRef.current?.ownerDocument.documentElement;\n    const parentElement = appRootRef.current?.parentElement ?? null;\n\n    const htmlElementClasses = ['vkui'];\n    const parentElementClasses = ['vkui__root'];\n\n    if (mode === 'embedded') {\n      parentElementClasses.push('vkui__root--embedded');\n    }\n\n    if (mode === 'full') {\n      if (layout) {\n        htmlElementClasses.push(layoutClassNames[layout]);\n      }\n      /* eslint-disable-next-line no-restricted-properties */\n      htmlElement?.classList.add(...htmlElementClasses);\n    }\n\n    /* eslint-disable-next-line no-restricted-properties */\n    parentElement?.classList.add(...parentElementClasses);\n\n    return () => {\n      if (mode === 'full') {\n        /* eslint-disable-next-line no-restricted-properties */\n        htmlElement?.classList.remove(...htmlElementClasses);\n      }\n      /* eslint-disable-next-line no-restricted-properties */\n      parentElement?.classList.remove(...parentElementClasses);\n    };\n  }, [mode, enable, layout]);\n}\n"],"mappings":"AAEA,SAASA,yBAAyB,QAAQ;AAE1C,MAAMC,gBAAA,GAAmB;EAAEC,IAAA,EAAM;EAAqBC,KAAA,EAAO;AAAqB;AAElF,OAAO,SAASC,+BAAAC,IAAA,EAUf;EAAA,IAV8C;IAC7CC,UAAU;IACVC,IAAI;IACJC,MAAM;IACNC;EAAM,CAMP,GAAAJ,IAAA;EACCL,yBAAA,CAA0B;QAKJU,mBAAA,EACEC,oBAAA;IALtB,IAAI,CAACH,MAAA,EAAQ;MACX;IACF;IAEA,MAAMI,WAAA,IAAcF,mBAAA,GAAAJ,UAAA,CAAWO,OAAO,cAAlBH,mBAAA,uBAAAA,mBAAA,CAAoBI,aAAa,CAACC,eAAe;QAC/CC,iCAAA;IAAtB,MAAMC,aAAA,GAAgB,CAAAD,iCAAA,IAAAL,oBAAA,GAAAL,UAAA,CAAWO,OAAO,cAAlBF,oBAAA,uBAAAA,oBAAA,CAAoBM,aAAa,cAAjCD,iCAAA,cAAAA,iCAAA,GAAqC;IAE3D,MAAME,kBAAA,GAAqB,CAAC,OAAO;IACnC,MAAMC,oBAAA,GAAuB,CAAC,aAAa;IAE3C,IAAIZ,IAAA,KAAS,YAAY;MACvBY,oBAAA,CAAqBC,IAAI,CAAC;IAC5B;IAEA,IAAIb,IAAA,KAAS,QAAQ;MACnB,IAAIE,MAAA,EAAQ;QACVS,kBAAA,CAAmBE,IAAI,CAACnB,gBAAgB,CAACQ,MAAA,CAAO;MAClD;MACA;MACAG,WAAA,aAAAA,WAAA,uBAAAA,WAAA,CAAaS,SAAS,CAACC,GAAG,IAAIJ,kBAAA;IAChC;IAEA;IACAD,aAAA,aAAAA,aAAA,uBAAAA,aAAA,CAAeI,SAAS,CAACC,GAAG,IAAIH,oBAAA;IAEhC,OAAO;MACL,IAAIZ,IAAA,KAAS,QAAQ;QACnB,uDACAK,WAAA,aAAAA,WAAA,uBAAAA,WAAA,CAAaS,SAAS,CAACE,MAAM,IAAIL,kBAAA;MACnC;MACA;MACAD,aAAA,aAAAA,aAAA,uBAAAA,aAAA,CAAeI,SAAS,CAACE,MAAM,IAAIJ,oBAAA;IACrC;EACF,GAAG,CAACZ,IAAA,EAAMC,MAAA,EAAQC,MAAA,CAAO;AAC3B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}