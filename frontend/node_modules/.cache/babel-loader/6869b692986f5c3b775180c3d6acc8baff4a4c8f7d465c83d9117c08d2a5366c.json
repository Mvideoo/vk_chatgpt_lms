{"ast":null,"code":"'use client';\n\nimport { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { classNames, hasReactNode } from \"@vkontakte/vkjs\";\nimport { useConfigDirection } from \"../../hooks/useConfigDirection.js\";\nimport { RootComponent } from \"../RootComponent/RootComponent.js\";\nimport { Caption } from \"../Typography/Caption/Caption.js\";\nimport { Footnote } from \"../Typography/Footnote/Footnote.js\";\nconst stylesSize = {\n  s: \"vkuiUsersStack__sizeS\",\n  m: \"vkuiUsersStack__sizeM\",\n  l: \"vkuiUsersStack__sizeL\"\n};\nconst avatarsPositionStyles = {\n  'inline-start': \"vkuiUsersStack__avatarsPositionInlineStart\",\n  'inline-end': \"vkuiUsersStack__avatarsPositionInlineEnd\",\n  'block-start': \"vkuiUsersStack__avatarsPositionBlockStart\"\n};\nfunction PathElement(_param) {\n  var {\n      photoSize,\n      direction\n    } = _param,\n    props = _object_without_properties(_param, [\"photoSize\", \"direction\"]);\n  switch (direction) {\n    case 'circle':\n      const radius = photoSize / 2;\n      return /*#__PURE__*/_jsx(\"circle\", _object_spread({\n        cx: radius,\n        cy: radius,\n        r: radius\n      }, props));\n    case 'right':\n      switch (photoSize) {\n        case 16:\n          return /*#__PURE__*/_jsx(\"path\", _object_spread({\n            d: \"M14,13.285A8 8 0 0 1 8 16A8 8 0 0 1 8 0A8 8 0 0 1 14 2.715A8 8 0 0 0 14,13.285\"\n          }, props));\n        case 24:\n          return /*#__PURE__*/_jsx(\"path\", _object_spread({\n            d: \"M22,18.625A12 12 0 0 1 12 24A12 12 0 0 1 12 0A12 12 0 0 1 22 5.375A12 12 0 0 0 22,18.625\"\n          }, props));\n        default:\n          return /*#__PURE__*/_jsx(\"path\", _object_spread({\n            d: \"M30,23.75A16 16 0 0 1 16 32A16 16 0 0 1 16 0A16 16 0 0 1 30 8.25A16 16 0 0 0 30,23.75\"\n          }, props));\n      }\n    default:\n      switch (photoSize) {\n        case 16:\n          return /*#__PURE__*/_jsx(\"path\", _object_spread({\n            d: \"M2,13.285A8 8 0 0 0 8 16A8 8 0 0 0 8 0A8 8 0 0 0 2 2.715A8 8 0 0 1 2,13.285\"\n          }, props));\n        case 24:\n          return /*#__PURE__*/_jsx(\"path\", _object_spread({\n            d: \"M2,18.625A12 12 0 0 0 12 24A12 12 0 0 0 12 0A12 12 0 0 0 2 5.375A12 12 0 0 1 2,18.625\"\n          }, props));\n        default:\n          return /*#__PURE__*/_jsx(\"path\", _object_spread({\n            d: \"M2,23.75A16 16 0 0 0 16 32A16 16 0 0 0 16 0A16 16 0 0 0 2 8.25A16 16 0 0 1 2,23.75\"\n          }, props));\n      }\n  }\n}\nconst photoSizes = {\n  s: 16,\n  m: 24,\n  l: 32\n};\n/**\n * @see https://vkcom.github.io/VKUI/#/UsersStack\n */\nexport const UsersStack = _param => {\n  var {\n      photos = [],\n      visibleCount = 3,\n      count = Math.max(0, photos.length - visibleCount),\n      size = 'm',\n      children,\n      avatarsPosition = 'inline-start'\n    } = _param,\n    restProps = _object_without_properties(_param, [\"photos\", \"visibleCount\", \"count\", \"size\", \"children\", \"avatarsPosition\"]);\n  const cmpId = React.useId();\n  const direction = useConfigDirection();\n  const canShowOthers = count > 0 && count < 100 && size !== 's';\n  const CounterTypography = size === 'l' ? Footnote : Caption;\n  const photoSize = photoSizes[size];\n  const directionClip = direction === 'ltr' ? canShowOthers ? 'right' : 'left' : canShowOthers ? 'left' : 'right';\n  const photosElements = photos.slice(0, visibleCount).map((photo, i) => {\n    const direction = i === 0 && !canShowOthers ? 'circle' : directionClip;\n    const id = `UsersStackDefs${cmpId}${i}`;\n    const hrefID = `#${id}`;\n    const maskID = `UsersStackMask${cmpId}${i}`;\n    const isPhotoType = typeof photo === 'object';\n    const photoSrc = isPhotoType ? photo.src : photo;\n    let photoElement = /*#__PURE__*/_jsxs(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      className: classNames(\"vkuiUsersStack__photo\", \"vkuiUsersStack__item\"),\n      \"aria-hidden\": true,\n      display: \"block\",\n      children: [/*#__PURE__*/_jsx(\"defs\", {\n        children: /*#__PURE__*/_jsx(PathElement, {\n          id: id,\n          direction: direction,\n          photoSize: photoSize\n        })\n      }), /*#__PURE__*/_jsx(\"clipPath\", {\n        id: maskID,\n        children: /*#__PURE__*/_jsx(\"use\", {\n          href: hrefID\n        })\n      }), /*#__PURE__*/_jsxs(\"g\", {\n        clipPath: `url(#${maskID})`,\n        children: [/*#__PURE__*/_jsx(\"use\", {\n          href: hrefID,\n          className: \"vkuiUsersStack__fill\"\n        }), /*#__PURE__*/_jsx(\"image\", {\n          href: photoSrc,\n          width: photoSize,\n          height: photoSize\n        }), /*#__PURE__*/_jsx(\"use\", {\n          href: hrefID,\n          fill: \"none\",\n          stroke: \"rgba(0, 0, 0, 0.08)\"\n        })]\n      })]\n    });\n    if (isPhotoType && photo.renderWrapper) {\n      photoElement = photo.renderWrapper({\n        'children': photoElement,\n        'data-src': photoSrc\n      });\n    }\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: \"vkuiUsersStack__photoWrapper\",\n      children: photoElement\n    }, i);\n  });\n  const othersElement = canShowOthers ? /*#__PURE__*/_jsx(\"div\", {\n    className: \"vkuiUsersStack__photoWrapper\",\n    children: /*#__PURE__*/_jsxs(CounterTypography, {\n      caps: true,\n      weight: \"1\",\n      className: classNames(\"vkuiUsersStack__item\", \"vkuiUsersStack__counter\"),\n      children: [\"+\", count]\n    })\n  }) : null;\n  return /*#__PURE__*/_jsxs(RootComponent, _object_spread_props(_object_spread({}, restProps), {\n    baseClassName: classNames(\"vkuiUsersStack__host\", stylesSize[size], avatarsPositionStyles[avatarsPosition]),\n    children: [(photosElements.length > 0 || othersElement) && /*#__PURE__*/_jsxs(\"div\", {\n      className: \"vkuiUsersStack__photos\",\n      \"aria-hidden\": true,\n      children: [photosElements, othersElement]\n    }), hasReactNode(children) && /*#__PURE__*/_jsx(Footnote, {\n      className: \"vkuiUsersStack__text\",\n      children: children\n    })]\n  }));\n};","map":{"version":3,"names":["React","classNames","hasReactNode","useConfigDirection","RootComponent","Caption","Footnote","stylesSize","s","m","l","avatarsPositionStyles","PathElement","_param","photoSize","direction","props","_object_without_properties","radius","_jsx","_object_spread","cx","cy","r","d","photoSizes","UsersStack","photos","visibleCount","count","Math","max","length","size","children","avatarsPosition","restProps","cmpId","useId","canShowOthers","CounterTypography","directionClip","photosElements","slice","map","photo","i","id","hrefID","maskID","isPhotoType","photoSrc","src","photoElement","_jsxs","xmlns","className","display","href","clipPath","width","height","fill","stroke","renderWrapper","othersElement","caps","weight","_object_spread_props","baseClassName"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkui/src/components/UsersStack/UsersStack.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { useConfigDirection } from '../../hooks/useConfigDirection';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Caption } from '../Typography/Caption/Caption';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport styles from './UsersStack.module.css';\n\nconst stylesSize = {\n  s: styles.sizeS,\n  m: styles.sizeM,\n  l: styles.sizeL,\n};\n\nconst avatarsPositionStyles = {\n  'inline-start': styles.avatarsPositionInlineStart,\n  'inline-end': styles.avatarsPositionInlineEnd,\n  'block-start': styles.avatarsPositionBlockStart,\n};\n\nexport type UsersStackRenderWrapperProps = {\n  children: React.ReactElement;\n  ['data-src']: string;\n};\n\nexport type UsersStackPhoto = {\n  src: string;\n  renderWrapper?: (props: UsersStackRenderWrapperProps) => React.ReactElement;\n};\n\nexport interface UsersStackProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Массив ссылок на фотографии либо массив структур типа `UsersStackPhoto`:\n   */\n  photos?: string[] | UsersStackPhoto[];\n  /**\n   * Размер аватарок\n   */\n  size?: 's' | 'm' | 'l';\n  /**\n   * Количество аватарок, которые будут показаны.\n   * Если в массиве `photos` больше элементов и используется размер `m`, то будет показано количество остальных элементов\n   */\n  visibleCount?: number;\n  /**\n   * Число, которое будет указано в счетчике.\n   * По умолчанию высчитывается по формуле `photos.length - visibleCount`.\n   * Если число больше 99, то счетчик скроется.\n   */\n  count?: number;\n  /**\n   * Определяет положение аватаров\n   * Режим `block-start` рекомендуется использовать с размером `m`\n   */\n  avatarsPosition?: 'inline-start' | 'block-start' | 'inline-end';\n}\n\ninterface PathElementProps extends React.SVGAttributes<SVGElement> {\n  photoSize: number;\n  direction: 'circle' | 'right' | 'left';\n}\n\ntype PhotoSizeType = 16 | 24 | 32;\n\nfunction PathElement({ photoSize, direction, ...props }: PathElementProps) {\n  switch (direction) {\n    case 'circle':\n      const radius = photoSize / 2;\n\n      return <circle cx={radius} cy={radius} r={radius} {...props} />;\n\n    case 'right':\n      switch (photoSize) {\n        case 16:\n          return (\n            <path\n              d=\"M14,13.285A8 8 0 0 1 8 16A8 8 0 0 1 8 0A8 8 0 0 1 14 2.715A8 8 0 0 0 14,13.285\"\n              {...props}\n            />\n          );\n        case 24:\n          return (\n            <path\n              d=\"M22,18.625A12 12 0 0 1 12 24A12 12 0 0 1 12 0A12 12 0 0 1 22 5.375A12 12 0 0 0 22,18.625\"\n              {...props}\n            />\n          );\n\n        default:\n          return (\n            <path\n              d=\"M30,23.75A16 16 0 0 1 16 32A16 16 0 0 1 16 0A16 16 0 0 1 30 8.25A16 16 0 0 0 30,23.75\"\n              {...props}\n            />\n          );\n      }\n\n    default:\n      switch (photoSize) {\n        case 16:\n          return (\n            <path\n              d=\"M2,13.285A8 8 0 0 0 8 16A8 8 0 0 0 8 0A8 8 0 0 0 2 2.715A8 8 0 0 1 2,13.285\"\n              {...props}\n            />\n          );\n        case 24:\n          return (\n            <path\n              d=\"M2,18.625A12 12 0 0 0 12 24A12 12 0 0 0 12 0A12 12 0 0 0 2 5.375A12 12 0 0 1 2,18.625\"\n              {...props}\n            />\n          );\n\n        default:\n          return (\n            <path\n              d=\"M2,23.75A16 16 0 0 0 16 32A16 16 0 0 0 16 0A16 16 0 0 0 2 8.25A16 16 0 0 1 2,23.75\"\n              {...props}\n            />\n          );\n      }\n  }\n}\n\nconst photoSizes: Record<NonNullable<UsersStackProps['size']>, PhotoSizeType> = {\n  s: 16,\n  m: 24,\n  l: 32,\n};\n\n/**\n * @see https://vkcom.github.io/VKUI/#/UsersStack\n */\nexport const UsersStack = ({\n  photos = [],\n  visibleCount = 3,\n  count = Math.max(0, photos.length - visibleCount),\n  size = 'm',\n  children,\n  avatarsPosition = 'inline-start',\n  ...restProps\n}: UsersStackProps): React.ReactNode => {\n  const cmpId = React.useId();\n  const direction = useConfigDirection();\n\n  const canShowOthers = count > 0 && count < 100 && size !== 's';\n  const CounterTypography = size === 'l' ? Footnote : Caption;\n\n  const photoSize = photoSizes[size];\n  const directionClip =\n    direction === 'ltr' ? (canShowOthers ? 'right' : 'left') : canShowOthers ? 'left' : 'right';\n\n  const photosElements = photos.slice(0, visibleCount).map((photo, i) => {\n    const direction = i === 0 && !canShowOthers ? 'circle' : directionClip;\n\n    const id = `UsersStackDefs${cmpId}${i}`;\n    const hrefID = `#${id}`;\n    const maskID = `UsersStackMask${cmpId}${i}`;\n\n    const isPhotoType = typeof photo === 'object';\n    const photoSrc = isPhotoType ? photo.src : photo;\n\n    let photoElement = (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        className={classNames(styles.photo, styles.item)}\n        aria-hidden\n        display=\"block\"\n      >\n        <defs>\n          <PathElement id={id} direction={direction} photoSize={photoSize} />\n        </defs>\n        <clipPath id={maskID}>\n          <use href={hrefID} />\n        </clipPath>\n        <g clipPath={`url(#${maskID})`}>\n          <use href={hrefID} className={styles.fill} />\n          <image href={photoSrc} width={photoSize} height={photoSize} />\n          <use href={hrefID} fill=\"none\" stroke=\"rgba(0, 0, 0, 0.08)\" />\n        </g>\n      </svg>\n    );\n    if (isPhotoType && photo.renderWrapper) {\n      photoElement = photo.renderWrapper({\n        'children': photoElement,\n        'data-src': photoSrc,\n      });\n    }\n\n    return (\n      <div className={styles.photoWrapper} key={i}>\n        {photoElement}\n      </div>\n    );\n  });\n\n  const othersElement = canShowOthers ? (\n    <div className={styles.photoWrapper}>\n      <CounterTypography caps weight=\"1\" className={classNames(styles.item, styles.counter)}>\n        +{count}\n      </CounterTypography>\n    </div>\n  ) : null;\n\n  return (\n    <RootComponent\n      {...restProps}\n      baseClassName={classNames(\n        styles.host,\n        stylesSize[size],\n        avatarsPositionStyles[avatarsPosition],\n      )}\n    >\n      {(photosElements.length > 0 || othersElement) && (\n        <div className={styles.photos} aria-hidden>\n          {photosElements}\n          {othersElement}\n        </div>\n      )}\n      {hasReactNode(children) && <Footnote className={styles.text}>{children}</Footnote>}\n    </RootComponent>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}