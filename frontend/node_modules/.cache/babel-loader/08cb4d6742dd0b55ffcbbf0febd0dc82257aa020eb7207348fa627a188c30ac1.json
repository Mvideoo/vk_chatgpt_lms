{"ast":null,"code":"/**\n * Возвращает throttled функцию, которая задерживает вызов `fn` на\n * `threshold` миллисекунд от последнего вызова. Если метод вызывается снова до\n * выполнения предыдущего, предыдущий вызов будет прерван.\n *\n * @param fn Функция, которую надо вызывать\n * @param threshold Длительность в миллисекундах\n * @param scope Контекст, с которым будет совершен вызов функции\n */export function throttle(fn) {\n  var threshold = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 50,\n    scope = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : typeof window !== 'undefined' ? window : undefined;\n  var prevDate = Date.now() - threshold;\n  var timeoutId;\n  var throttledFn = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    var timeLeft = prevDate + threshold - Date.now();\n    clearTimeout(timeoutId);\n    if (timeLeft > 0) {\n      timeoutId = setTimeout(function () {\n        prevDate = Date.now();\n        fn.apply(scope, args);\n      }, timeLeft);\n      return;\n    }\n    prevDate = Date.now();\n    fn.apply(scope, args);\n  };\n  throttledFn.cancel = function () {\n    clearTimeout(timeoutId);\n  };\n  return throttledFn;\n}","map":{"version":3,"names":["throttle","fn","threshold","arguments","length","scope","window","undefined","prevDate","Date","now","timeoutId","throttledFn","args","Array","_len","_key","timeLeft","clearTimeout","setTimeout","apply","cancel"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkjs/src/async/throttle.ts"],"sourcesContent":["/**\n * Возвращает throttled функцию, которая задерживает вызов `fn` на\n * `threshold` миллисекунд от последнего вызова. Если метод вызывается снова до\n * выполнения предыдущего, предыдущий вызов будет прерван.\n *\n * @param fn Функция, которую надо вызывать\n * @param threshold Длительность в миллисекундах\n * @param scope Контекст, с которым будет совершен вызов функции\n */\nexport function throttle<T extends any[]>(\n  fn: (...args: T) => unknown,\n  threshold = 50,\n  scope = typeof window !== 'undefined' ? window : undefined,\n) {\n  let prevDate: number = Date.now() - threshold;\n  let timeoutId: ReturnType<typeof setTimeout>;\n\n  const throttledFn = (...args: T) => {\n    const timeLeft = prevDate + threshold - Date.now();\n\n    clearTimeout(timeoutId);\n    if (timeLeft > 0) {\n      timeoutId = setTimeout(() => {\n        prevDate = Date.now();\n        fn.apply(scope, args);\n      }, timeLeft);\n      return;\n    }\n\n    prevDate = Date.now();\n    fn.apply(scope, args);\n  };\n\n  throttledFn.cancel = () => {\n    clearTimeout(timeoutId);\n  };\n\n  return throttledFn;\n}\n"],"mappings":"AAAA;;;;;;;;GASA,OAAO,SAASA,SACdC,EAA2B;MAC3BC,SAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,iBAAAA,SAAA,MAAY;IACZE,KAAA,GAAAF,SAAA,CAAAC,MAAA,QAAAD,SAAA,iBAAAA,SAAA,MAAQ,OAAOG,MAAA,KAAW,cAAcA,MAAA,GAASC,SAAA;EAEjD,IAAIC,QAAA,GAAmBC,IAAA,CAAKC,GAAG,KAAKR,SAAA;EACpC,IAAIS,SAAA;EAEJ,IAAMC,WAAA,GAAc,SAAAA,CAAA;sCAAIC,IAAA,OAAAC,KAAA,CAAAC,IAAA,GAAAC,IAAA,MAAAA,IAAA,GAAAD,IAAA,EAAAC,IAAA;MAAAH,IAAA,CAAAG,IAAA,IAAAb,SAAA,CAAAa,IAAA;;IACtB,IAAMC,QAAA,GAAWT,QAAA,GAAWN,SAAA,GAAYO,IAAA,CAAKC,GAAG;IAEhDQ,YAAA,CAAaP,SAAA;IACb,IAAIM,QAAA,GAAW,GAAG;MAChBN,SAAA,GAAYQ,UAAA,CAAW;QACrBX,QAAA,GAAWC,IAAA,CAAKC,GAAG;QACnBT,EAAA,CAAGmB,KAAK,CAACf,KAAA,EAAOQ,IAAA;MAClB,GAAGI,QAAA;MACH;IACF;IAEAT,QAAA,GAAWC,IAAA,CAAKC,GAAG;IACnBT,EAAA,CAAGmB,KAAK,CAACf,KAAA,EAAOQ,IAAA;EAClB;EAEAD,WAAA,CAAYS,MAAM,GAAG;IACnBH,YAAA,CAAaP,SAAA;EACf;EAEA,OAAOC,WAAA;AACT","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}