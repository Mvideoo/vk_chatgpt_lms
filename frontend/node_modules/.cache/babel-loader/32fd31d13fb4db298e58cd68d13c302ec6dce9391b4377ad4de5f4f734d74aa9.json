{"ast":null,"code":"import * as React from \"react\";\nimport { MEDIA_QUERIES } from \"../lib/adaptivity/index.js\";\nimport { mediaQueryNull } from \"../lib/browser.js\";\nimport { useDOM } from \"../lib/dom.js\";\nconst mediaQueriesCache = new WeakMap();\nfunction getMediaQueries(matchMedia) {\n  return {\n    desktopPlus: matchMedia(MEDIA_QUERIES.DESKTOP_PLUS),\n    smallTabletPlus: matchMedia(MEDIA_QUERIES.SMALL_TABLET_PLUS),\n    tablet: matchMedia(MEDIA_QUERIES.TABLET),\n    smallTablet: matchMedia(MEDIA_QUERIES.SMALL_TABLET),\n    mobile: matchMedia(MEDIA_QUERIES.MOBILE),\n    mediumHeight: matchMedia(MEDIA_QUERIES.MEDIUM_HEIGHT),\n    mobileLandscapeHeight: matchMedia(MEDIA_QUERIES.MOBILE_LANDSCAPE_HEIGHT)\n  };\n}\n/**\n * Возвращает медиа выражения определенные дизайн-системой.\n */\nexport const useMediaQueries = () => {\n  const {\n    window\n  } = useDOM();\n  return React.useMemo(function initializeStoreOrUpdateStoreIfWindowChanges() {\n    if (!window) {\n      return getMediaQueries(mediaQueryNull);\n    }\n    const storedMediaQueries = mediaQueriesCache.get(window);\n    if (storedMediaQueries) {\n      return storedMediaQueries;\n    }\n    const mediaQueries = getMediaQueries(window.matchMedia.bind(window));\n    mediaQueriesCache.set(window, mediaQueries);\n    return mediaQueries;\n  }, [window]);\n};","map":{"version":3,"names":["React","MEDIA_QUERIES","mediaQueryNull","useDOM","mediaQueriesCache","WeakMap","getMediaQueries","matchMedia","desktopPlus","DESKTOP_PLUS","smallTabletPlus","SMALL_TABLET_PLUS","tablet","TABLET","smallTablet","SMALL_TABLET","mobile","MOBILE","mediumHeight","MEDIUM_HEIGHT","mobileLandscapeHeight","MOBILE_LANDSCAPE_HEIGHT","useMediaQueries","window","useMemo","initializeStoreOrUpdateStoreIfWindowChanges","storedMediaQueries","get","mediaQueries","bind","set"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkui/src/hooks/useMediaQueries.ts"],"sourcesContent":["import * as React from 'react';\nimport { MEDIA_QUERIES, type MediaQueries } from '../lib/adaptivity';\nimport { mediaQueryNull } from '../lib/browser';\nimport { useDOM } from '../lib/dom';\n\nconst mediaQueriesCache = new WeakMap<Window, MediaQueries>();\n\nfunction getMediaQueries(matchMedia: (query: string) => MediaQueryList): MediaQueries {\n  return {\n    desktopPlus: matchMedia(MEDIA_QUERIES.DESKTOP_PLUS),\n    smallTabletPlus: matchMedia(MEDIA_QUERIES.SMALL_TABLET_PLUS),\n    tablet: matchMedia(MEDIA_QUERIES.TABLET),\n    smallTablet: matchMedia(MEDIA_QUERIES.SMALL_TABLET),\n    mobile: matchMedia(MEDIA_QUERIES.MOBILE),\n    mediumHeight: matchMedia(MEDIA_QUERIES.MEDIUM_HEIGHT),\n    mobileLandscapeHeight: matchMedia(MEDIA_QUERIES.MOBILE_LANDSCAPE_HEIGHT),\n  };\n}\n\n/**\n * Возвращает медиа выражения определенные дизайн-системой.\n */\nexport const useMediaQueries = (): MediaQueries => {\n  const { window } = useDOM();\n\n  return React.useMemo<MediaQueries>(\n    function initializeStoreOrUpdateStoreIfWindowChanges() {\n      if (!window) {\n        return getMediaQueries(mediaQueryNull);\n      }\n\n      const storedMediaQueries = mediaQueriesCache.get(window);\n      if (storedMediaQueries) {\n        return storedMediaQueries;\n      }\n\n      const mediaQueries = getMediaQueries(window.matchMedia.bind(window));\n\n      mediaQueriesCache.set(window, mediaQueries);\n\n      return mediaQueries;\n    },\n    [window],\n  );\n};\n"],"mappings":"AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,aAAa,QAA2B;AACjD,SAASC,cAAc,QAAQ;AAC/B,SAASC,MAAM,QAAQ;AAEvB,MAAMC,iBAAA,GAAoB,IAAIC,OAAA;AAE9B,SAASC,gBAAgBC,UAA6C;EACpE,OAAO;IACLC,WAAA,EAAaD,UAAA,CAAWN,aAAA,CAAcQ,YAAY;IAClDC,eAAA,EAAiBH,UAAA,CAAWN,aAAA,CAAcU,iBAAiB;IAC3DC,MAAA,EAAQL,UAAA,CAAWN,aAAA,CAAcY,MAAM;IACvCC,WAAA,EAAaP,UAAA,CAAWN,aAAA,CAAcc,YAAY;IAClDC,MAAA,EAAQT,UAAA,CAAWN,aAAA,CAAcgB,MAAM;IACvCC,YAAA,EAAcX,UAAA,CAAWN,aAAA,CAAckB,aAAa;IACpDC,qBAAA,EAAuBb,UAAA,CAAWN,aAAA,CAAcoB,uBAAuB;EACzE;AACF;AAEA;;;AAGA,OAAO,MAAMC,eAAA,GAAkBA,CAAA;EAC7B,MAAM;IAAEC;EAAM,CAAE,GAAGpB,MAAA;EAEnB,OAAOH,KAAA,CAAMwB,OAAO,CAClB,SAASC,4CAAA;IACP,IAAI,CAACF,MAAA,EAAQ;MACX,OAAOjB,eAAA,CAAgBJ,cAAA;IACzB;IAEA,MAAMwB,kBAAA,GAAqBtB,iBAAA,CAAkBuB,GAAG,CAACJ,MAAA;IACjD,IAAIG,kBAAA,EAAoB;MACtB,OAAOA,kBAAA;IACT;IAEA,MAAME,YAAA,GAAetB,eAAA,CAAgBiB,MAAA,CAAOhB,UAAU,CAACsB,IAAI,CAACN,MAAA;IAE5DnB,iBAAA,CAAkB0B,GAAG,CAACP,MAAA,EAAQK,YAAA;IAE9B,OAAOA,YAAA;EACT,GACA,CAACL,MAAA,CAAO;AAEZ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}