{"ast":null,"code":"'use client';\n\nimport { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { classNames } from \"@vkontakte/vkjs\";\nimport { useIsomorphicLayoutEffect } from \"../../../lib/useIsomorphicLayoutEffect.js\";\nimport { RootComponent } from \"../../RootComponent/RootComponent.js\";\nimport { ImageBaseContext } from \"../context.js\";\nimport { mutableRemoveElement, resolveIndent } from \"./helpers.js\";\nconst positionPlacementClassNames = {\n  'top-start': \"vkuiImageBaseFloatElement__placementTopStart\",\n  'top': \"vkuiImageBaseFloatElement__placementTop\",\n  'top-end': \"vkuiImageBaseFloatElement__placementTopEnd\",\n  'bottom-start': \"vkuiImageBaseFloatElement__placementBottomStart\",\n  'bottom': \"vkuiImageBaseFloatElement__placementBottom\",\n  'bottom-end': \"vkuiImageBaseFloatElement__placementBottomEnd\",\n  'middle-start': \"vkuiImageBaseFloatElement__placementMiddleStart\",\n  'middle': \"vkuiImageBaseFloatElement__placementMiddle\",\n  'middle-end': \"vkuiImageBaseFloatElement__placementMiddleEnd\"\n};\nconst inlineIndentClassNames = {\n  '2xs': \"vkuiImageBaseFloatElement__inlineIndent2xs\",\n  'xs': \"vkuiImageBaseFloatElement__inlineIndentXs\",\n  's': \"vkuiImageBaseFloatElement__inlineIndentS\",\n  'm': \"vkuiImageBaseFloatElement__inlineIndentM\",\n  'l': \"vkuiImageBaseFloatElement__inlineIndentL\",\n  'xl': \"vkuiImageBaseFloatElement__inlineIndentXl\",\n  '2xl': \"vkuiImageBaseFloatElement__inlineIndent2xl\",\n  '3xl': \"vkuiImageBaseFloatElement__inlineIndent3xl\",\n  '4xl': \"vkuiImageBaseFloatElement__inlineIndent4xl\"\n};\nconst blockIndentClassNames = {\n  '2xs': \"vkuiImageBaseFloatElement__blockIndent2xs\",\n  'xs': \"vkuiImageBaseFloatElement__blockIndentXs\",\n  's': \"vkuiImageBaseFloatElement__blockIndentS\",\n  'm': \"vkuiImageBaseFloatElement__blockIndentM\",\n  'l': \"vkuiImageBaseFloatElement__blockIndentL\",\n  'xl': \"vkuiImageBaseFloatElement__blockIndentXl\",\n  '2xl': \"vkuiImageBaseFloatElement__blockIndent2xl\",\n  '3xl': \"vkuiImageBaseFloatElement__blockIndent3xl\",\n  '4xl': \"vkuiImageBaseFloatElement__blockIndent4xl\"\n};\nexport const ImageBaseFloatElement = _param => {\n  var {\n      placement,\n      visibility = 'always',\n      style,\n      className,\n      inlineIndent,\n      blockIndent\n    } = _param,\n    restProps = _object_without_properties(_param, [\"placement\", \"visibility\", \"style\", \"className\", \"inlineIndent\", \"blockIndent\"]);\n  const [hidden, setHidden] = React.useState(visibility !== 'always');\n  const {\n    onMouseOverHandlers,\n    onMouseOutHandlers\n  } = React.useContext(ImageBaseContext);\n  useIsomorphicLayoutEffect(function resetHidden() {\n    setHidden(visibility === 'on-hover');\n  }, [visibility]);\n  useIsomorphicLayoutEffect(function addMouseHandlers() {\n    if (visibility === 'on-hover') {\n      const onMouseOver = () => setHidden(false);\n      const onMouseOut = () => setHidden(true);\n      onMouseOverHandlers.push(onMouseOver);\n      onMouseOutHandlers.push(onMouseOut);\n      return () => {\n        mutableRemoveElement(onMouseOverHandlers, onMouseOver);\n        mutableRemoveElement(onMouseOutHandlers, onMouseOut);\n      };\n    }\n    return;\n  }, [visibility]);\n  const [inlineIndentStyle, blockIndentStyle, inlineIndentClassName, blockIndentClassName] = React.useMemo(() => {\n    const [inlineIndentStyle, inlineIndentClassName] = resolveIndent(inlineIndent, '--vkui_internal--FloatElement_horizontal_indent', inlineIndentClassNames);\n    const [blockIndentStyle, blockIndentClassName] = resolveIndent(blockIndent, '--vkui_internal--FloatElement_vertical_indent', blockIndentClassNames);\n    return [inlineIndentStyle, blockIndentStyle, inlineIndentClassName, blockIndentClassName];\n  }, [inlineIndent, blockIndent]);\n  return /*#__PURE__*/_jsx(RootComponent, _object_spread_props(_object_spread({}, restProps), {\n    style: _object_spread({}, style, inlineIndentStyle, blockIndentStyle),\n    className: classNames(\"vkuiImageBaseFloatElement__host\", hidden && \"vkuiImageBaseFloatElement__hidden\", positionPlacementClassNames[placement], inlineIndentClassName, blockIndentClassName, className)\n  }));\n};\nImageBaseFloatElement.displayName = 'ImageBaseFloatElement';","map":{"version":3,"names":["React","classNames","useIsomorphicLayoutEffect","RootComponent","ImageBaseContext","mutableRemoveElement","resolveIndent","positionPlacementClassNames","inlineIndentClassNames","blockIndentClassNames","ImageBaseFloatElement","_param","placement","visibility","style","className","inlineIndent","blockIndent","restProps","_object_without_properties","hidden","setHidden","useState","onMouseOverHandlers","onMouseOutHandlers","useContext","resetHidden","addMouseHandlers","onMouseOver","onMouseOut","push","inlineIndentStyle","blockIndentStyle","inlineIndentClassName","blockIndentClassName","useMemo","_jsx","_object_spread_props","_object_spread","displayName"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkui/src/components/ImageBase/ImageBaseFloatElement/ImageBaseFloatElement.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useIsomorphicLayoutEffect } from '../../../lib/useIsomorphicLayoutEffect';\nimport { type HTMLAttributesWithRootRef } from '../../../types';\nimport { RootComponent } from '../../RootComponent/RootComponent';\nimport { ImageBaseContext } from '../context';\nimport { mutableRemoveElement, resolveIndent } from './helpers';\nimport styles from './ImageBaseFloatElement.module.css';\n\nexport type FloatElementPlacement =\n  | 'top-start'\n  | 'top'\n  | 'top-end'\n  | 'bottom-start'\n  | 'bottom'\n  | 'bottom-end'\n  | 'middle-start'\n  | 'middle'\n  | 'middle-end';\n\nexport type FloatElementIndentation =\n  | '2xs'\n  | 'xs'\n  | 's'\n  | 'm'\n  | 'l'\n  | 'xl'\n  | '2xl'\n  | '3xl'\n  | '4xl'\n  | number\n  | string;\n\nconst positionPlacementClassNames = {\n  'top-start': styles.placementTopStart,\n  'top': styles.placementTop,\n  'top-end': styles.placementTopEnd,\n  'bottom-start': styles.placementBottomStart,\n  'bottom': styles.placementBottom,\n  'bottom-end': styles.placementBottomEnd,\n  'middle-start': styles.placementMiddleStart,\n  'middle': styles.placementMiddle,\n  'middle-end': styles.placementMiddleEnd,\n};\n\nconst inlineIndentClassNames = {\n  '2xs': styles.inlineIndent2xs,\n  'xs': styles.inlineIndentXs,\n  's': styles.inlineIndentS,\n  'm': styles.inlineIndentM,\n  'l': styles.inlineIndentL,\n  'xl': styles.inlineIndentXl,\n  '2xl': styles.inlineIndent2xl,\n  '3xl': styles.inlineIndent3xl,\n  '4xl': styles.inlineIndent4xl,\n};\n\nconst blockIndentClassNames = {\n  '2xs': styles.blockIndent2xs,\n  'xs': styles.blockIndentXs,\n  's': styles.blockIndentS,\n  'm': styles.blockIndentM,\n  'l': styles.blockIndentL,\n  'xl': styles.blockIndentXl,\n  '2xl': styles.blockIndent2xl,\n  '3xl': styles.blockIndent3xl,\n  '4xl': styles.blockIndent4xl,\n};\n\nexport interface ImageBaseFloatElementProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Позиция компонента относительно родителя\n   */\n  placement: FloatElementPlacement;\n  /**\n   * Отступ компонента от края контейнера по горизонтали\n   */\n  inlineIndent?: FloatElementIndentation;\n  /**\n   * Отступ компонента от края контейнера по вертикали\n   */\n  blockIndent?: FloatElementIndentation;\n  /**\n   * Режим отображения компонента:\n   *\n   * - `\"always\"`: Всегда\n   * - `\"on-hover\"`: При наведении на картинку\n   */\n  visibility?: 'always' | 'on-hover';\n}\n\nexport const ImageBaseFloatElement = ({\n  placement,\n  visibility = 'always',\n  style,\n  className,\n  inlineIndent,\n  blockIndent,\n  ...restProps\n}: ImageBaseFloatElementProps) => {\n  const [hidden, setHidden] = React.useState(visibility !== 'always');\n  const { onMouseOverHandlers, onMouseOutHandlers } = React.useContext(ImageBaseContext);\n\n  useIsomorphicLayoutEffect(\n    function resetHidden() {\n      setHidden(visibility === 'on-hover');\n    },\n    [visibility],\n  );\n\n  useIsomorphicLayoutEffect(\n    function addMouseHandlers() {\n      if (visibility === 'on-hover') {\n        const onMouseOver = () => setHidden(false);\n        const onMouseOut = () => setHidden(true);\n\n        onMouseOverHandlers.push(onMouseOver);\n        onMouseOutHandlers.push(onMouseOut);\n\n        return () => {\n          mutableRemoveElement(onMouseOverHandlers, onMouseOver);\n          mutableRemoveElement(onMouseOutHandlers, onMouseOut);\n        };\n      }\n      return;\n    },\n    [visibility],\n  );\n\n  const [inlineIndentStyle, blockIndentStyle, inlineIndentClassName, blockIndentClassName] =\n    React.useMemo(() => {\n      const [inlineIndentStyle, inlineIndentClassName] = resolveIndent(\n        inlineIndent,\n        '--vkui_internal--FloatElement_horizontal_indent',\n        inlineIndentClassNames,\n      );\n      const [blockIndentStyle, blockIndentClassName] = resolveIndent(\n        blockIndent,\n        '--vkui_internal--FloatElement_vertical_indent',\n        blockIndentClassNames,\n      );\n\n      return [inlineIndentStyle, blockIndentStyle, inlineIndentClassName, blockIndentClassName];\n    }, [inlineIndent, blockIndent]);\n\n  return (\n    <RootComponent\n      {...restProps}\n      style={{\n        ...style,\n        ...inlineIndentStyle,\n        ...blockIndentStyle,\n      }}\n      className={classNames(\n        styles.host,\n        hidden && styles.hidden,\n        positionPlacementClassNames[placement],\n        inlineIndentClassName,\n        blockIndentClassName,\n        className,\n      )}\n    />\n  );\n};\n\nImageBaseFloatElement.displayName = 'ImageBaseFloatElement';\n"],"mappings":"AAAA;;;;;;AAEA,YAAYA,KAAA,MAAW;AACvB,SAASC,UAAU,QAAQ;AAC3B,SAASC,yBAAyB,QAAQ;AAE1C,SAASC,aAAa,QAAQ;AAC9B,SAASC,gBAAgB,QAAQ;AACjC,SAASC,oBAAoB,EAAEC,aAAa,QAAQ;AA2BpD,MAAMC,2BAAA,GAA8B;EAClC,WAAW;EACX,KAAK;EACL,SAAS;EACT,cAAc;EACd,QAAQ;EACR,YAAY;EACZ,cAAc;EACd,QAAQ;EACR,YAAY;AACd;AAEA,MAAMC,sBAAA,GAAyB;EAC7B,KAAK;EACL,IAAI;EACJ,GAAG;EACH,GAAG;EACH,GAAG;EACH,IAAI;EACJ,KAAK;EACL,KAAK;EACL,KAAK;AACP;AAEA,MAAMC,qBAAA,GAAwB;EAC5B,KAAK;EACL,IAAI;EACJ,GAAG;EACH,GAAG;EACH,GAAG;EACH,IAAI;EACJ,KAAK;EACL,KAAK;EACL,KAAK;AACP;AAwBA,OAAO,MAAMC,qBAAA,GAAwBC,MAAA;MAAC;MACpCC,SAAS;MACTC,UAAA,GAAa,QAAQ;MACrBC,KAAK;MACLC,SAAS;MACTC,YAAY;MACZC;IAAW,CAEgB,GAAAN,MAAA;IADxBO,SAAA,GAAAC,0BAAA,CAAAR,MAAA,GANH,aACA,cACA,SACA,aACA,gBACA,c;EAGA,MAAM,CAACS,MAAA,EAAQC,SAAA,CAAU,GAAGrB,KAAA,CAAMsB,QAAQ,CAACT,UAAA,KAAe;EAC1D,MAAM;IAAEU,mBAAmB;IAAEC;EAAkB,CAAE,GAAGxB,KAAA,CAAMyB,UAAU,CAACrB,gBAAA;EAErEF,yBAAA,CACE,SAASwB,YAAA;IACPL,SAAA,CAAUR,UAAA,KAAe;EAC3B,GACA,CAACA,UAAA,CAAW;EAGdX,yBAAA,CACE,SAASyB,iBAAA;IACP,IAAId,UAAA,KAAe,YAAY;MAC7B,MAAMe,WAAA,GAAcA,CAAA,KAAMP,SAAA,CAAU;MACpC,MAAMQ,UAAA,GAAaA,CAAA,KAAMR,SAAA,CAAU;MAEnCE,mBAAA,CAAoBO,IAAI,CAACF,WAAA;MACzBJ,kBAAA,CAAmBM,IAAI,CAACD,UAAA;MAExB,OAAO;QACLxB,oBAAA,CAAqBkB,mBAAA,EAAqBK,WAAA;QAC1CvB,oBAAA,CAAqBmB,kBAAA,EAAoBK,UAAA;MAC3C;IACF;IACA;EACF,GACA,CAAChB,UAAA,CAAW;EAGd,MAAM,CAACkB,iBAAA,EAAmBC,gBAAA,EAAkBC,qBAAA,EAAuBC,oBAAA,CAAqB,GACtFlC,KAAA,CAAMmC,OAAO,CAAC;IACZ,MAAM,CAACJ,iBAAA,EAAmBE,qBAAA,CAAsB,GAAG3B,aAAA,CACjDU,YAAA,EACA,mDACAR,sBAAA;IAEF,MAAM,CAACwB,gBAAA,EAAkBE,oBAAA,CAAqB,GAAG5B,aAAA,CAC/CW,WAAA,EACA,iDACAR,qBAAA;IAGF,OAAO,CAACsB,iBAAA,EAAmBC,gBAAA,EAAkBC,qBAAA,EAAuBC,oBAAA,CAAqB;EAC3F,GAAG,CAAClB,YAAA,EAAcC,WAAA,CAAY;EAEhC,oBACEmB,IAAA,CAACjC,aAAA,EAAAkC,oBAAA,CAAAC,cAAA,KACKpB,SAAA;IACJJ,KAAA,EAAOwB,cAAA,KACFxB,KAAA,EACAiB,iBAAA,EACAC,gBAAA;IAELjB,SAAA,EAAWd,UAAA,oCAETmB,MAAA,yCACAb,2BAA2B,CAACK,SAAA,CAAU,EACtCqB,qBAAA,EACAC,oBAAA,EACAnB,SAAA;;AAIR;AAEAL,qBAAA,CAAsB6B,WAAW,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}