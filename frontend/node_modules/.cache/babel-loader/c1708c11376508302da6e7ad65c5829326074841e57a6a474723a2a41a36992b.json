{"ast":null,"code":"import { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _type_of } from \"@swc/helpers/_/_type_of\";\nfunction parse(input) {\n  if (typeof input !== 'string') {\n    return {};\n  }\n  var query = input.trim().replace(/^[?#&]/, '');\n  if (!query) {\n    return {};\n  }\n  var str = query.substring(query.indexOf('?') + 1);\n  return str.split('&').reduce(function (acc, item) {\n    var param = item.split('=');\n    if (param[1]) {\n      acc[decodeURIComponent(param[0])] = decodeURIComponent(param[1].replace(/\\+/g, ' '));\n    }\n    return acc;\n  }, {});\n}\n/**\n   * URL encode the keys and values\n   *\n   * @default true\n   */ /**\n      * Skip keys with `null` as the value.\n      * Keys with `undefined` as the value are always ignored.\n      *\n      * @default true\n      */\nfunction stringify(data) {\n  var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n  if ((typeof data === \"undefined\" ? \"undefined\" : _type_of(data)) !== 'object' || data === null) {\n    return '';\n  }\n  options = _object_spread({\n    encode: true\n  }, options);\n  var encode = function (value) {\n    return options.encode ? encodeURIComponent(value) : String(value);\n  };\n  return Object.keys(data).reduce(function (acc, key) {\n    var value = data[key];\n    if (value === undefined) {\n      return acc;\n    }\n    if (value === null) {\n      if (!options.skipNull) {\n        acc.push([encode(key), ''].join('='));\n      }\n      return acc;\n    }\n    if (Array.isArray(value)) {\n      value.map(function (arrayItem) {\n        acc.push(\"\".concat(encode(key), \"[]=\").concat(encode(arrayItem)));\n      }).join();\n      return acc;\n    }\n    acc.push([encode(key), encode(value)].join('='));\n    return acc;\n  }, []).join('&');\n}\nexport var querystring = {\n  parse: parse,\n  stringify: stringify\n};","map":{"version":3,"names":["parse","input","query","trim","replace","str","substring","indexOf","split","reduce","acc","item","param","decodeURIComponent","stringify","data","options","arguments","length","_type_of","_object_spread","encode","value","encodeURIComponent","String","Object","keys","key","undefined","skipNull","push","join","Array","isArray","map","arrayItem","concat","querystring"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkjs/src/other/querystring.ts"],"sourcesContent":["export interface ParsedQuery<T = string> {\n  [key: string]: T | T[] | null;\n}\n\nfunction parse(input: string | any): ParsedQuery {\n  if (typeof input !== 'string') {\n    return {};\n  }\n\n  const query = input.trim().replace(/^[?#&]/, '');\n  if (!query) {\n    return {};\n  }\n\n  const str = query.substring(query.indexOf('?') + 1);\n\n  return str.split('&').reduce((acc: ParsedQuery, item: string) => {\n    const param = item.split('=');\n\n    if (param[1]) {\n      acc[decodeURIComponent(param[0])] = decodeURIComponent(param[1].replace(/\\+/g, ' '));\n    }\n\n    return acc;\n  }, {});\n}\n\ntype StringifyQueryItem = string | boolean | number | null | undefined;\n\ntype StringifyQuery = Record<string, StringifyQueryItem | readonly StringifyQueryItem[]>;\n\ninterface StringifyOptions {\n  /**\n   * URL encode the keys and values\n   *\n   * @default true\n   */\n  encode?: boolean;\n\n  /**\n   * Skip keys with `null` as the value.\n   * Keys with `undefined` as the value are always ignored.\n   *\n   * @default true\n   */\n  skipNull?: true;\n}\n\nfunction stringify(data: StringifyQuery, options: StringifyOptions = {}): string {\n  if (typeof data !== 'object' || data === null) {\n    return '';\n  }\n\n  options = {\n    encode: true,\n    ...options,\n  };\n\n  const encode = (value: any): string => {\n    return options.encode ? encodeURIComponent(value) : String(value);\n  };\n\n  return Object.keys(data)\n    .reduce<string[]>((acc, key) => {\n      const value = data[key];\n\n      if (value === undefined) {\n        return acc;\n      }\n\n      if (value === null) {\n        if (!options.skipNull) {\n          acc.push([encode(key), ''].join('='));\n        }\n\n        return acc;\n      }\n\n      if (Array.isArray(value)) {\n        value\n          .map((arrayItem) => {\n            acc.push(`${encode(key)}[]=${encode(arrayItem)}`);\n          })\n          .join();\n        return acc;\n      }\n\n      acc.push([encode(key), encode(value)].join('='));\n      return acc;\n    }, [])\n    .join('&');\n}\n\nexport const querystring = {\n  parse,\n  stringify,\n};\n"],"mappings":";;AAIA,SAASA,MAAMC,KAAmB;EAChC,IAAI,OAAOA,KAAA,KAAU,UAAU;IAC7B,OAAO,CAAC;EACV;EAEA,IAAMC,KAAA,GAAQD,KAAA,CAAME,IAAI,GAAGC,OAAO,CAAC,UAAU;EAC7C,IAAI,CAACF,KAAA,EAAO;IACV,OAAO,CAAC;EACV;EAEA,IAAMG,GAAA,GAAMH,KAAA,CAAMI,SAAS,CAACJ,KAAA,CAAMK,OAAO,CAAC,OAAO;EAEjD,OAAOF,GAAA,CAAIG,KAAK,CAAC,KAAKC,MAAM,CAAC,UAACC,GAAA,EAAkBC,IAAA;IAC9C,IAAMC,KAAA,GAAQD,IAAA,CAAKH,KAAK,CAAC;IAEzB,IAAII,KAAK,CAAC,EAAE,EAAE;MACZF,GAAG,CAACG,kBAAA,CAAmBD,KAAK,CAAC,EAAE,EAAE,GAAGC,kBAAA,CAAmBD,KAAK,CAAC,EAAE,CAACR,OAAO,CAAC,OAAO;IACjF;IAEA,OAAOM,GAAA;EACT,GAAG,CAAC;AACN;AAOE;;;;KAAA,CAOA;;;;;;AASF,SAASI,UAAUC,IAAoB;MAAEC,OAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,iBAAAA,SAAA,MAA4B,CAAC;EACpE,IAAI,QAAOF,IAAA,iCAAPI,QAAA,CAAOJ,IAAA,CAAG,MAAM,YAAYA,IAAA,KAAS,MAAM;IAC7C,OAAO;EACT;EAEAC,OAAA,GAAUI,cAAA;IACRC,MAAA,EAAQ;KACLL,OAAA;EAGL,IAAMK,MAAA,GAAS,SAAAA,CAACC,KAAA;IACd,OAAON,OAAA,CAAQK,MAAM,GAAGE,kBAAA,CAAmBD,KAAA,IAASE,MAAA,CAAOF,KAAA;EAC7D;EAEA,OAAOG,MAAA,CAAOC,IAAI,CAACX,IAAA,EAChBN,MAAM,CAAW,UAACC,GAAA,EAAKiB,GAAA;IACtB,IAAML,KAAA,GAAQP,IAAI,CAACY,GAAA,CAAI;IAEvB,IAAIL,KAAA,KAAUM,SAAA,EAAW;MACvB,OAAOlB,GAAA;IACT;IAEA,IAAIY,KAAA,KAAU,MAAM;MAClB,IAAI,CAACN,OAAA,CAAQa,QAAQ,EAAE;QACrBnB,GAAA,CAAIoB,IAAI,CAAC,CAACT,MAAA,CAAOM,GAAA,GAAM,GAAG,CAACI,IAAI,CAAC;MAClC;MAEA,OAAOrB,GAAA;IACT;IAEA,IAAIsB,KAAA,CAAMC,OAAO,CAACX,KAAA,GAAQ;MACxBA,KAAA,CACGY,GAAG,CAAC,UAACC,SAAA;QACJzB,GAAA,CAAIoB,IAAI,CAAC,EAAC,CAAmBM,MAAA,CAAjBf,MAAA,CAAOM,GAAA,GAAK,OAAuBS,MAAA,CAAlBf,MAAA,CAAOc,SAAA;MACtC,GACCJ,IAAI;MACP,OAAOrB,GAAA;IACT;IAEAA,GAAA,CAAIoB,IAAI,CAAC,CAACT,MAAA,CAAOM,GAAA,GAAMN,MAAA,CAAOC,KAAA,EAAO,CAACS,IAAI,CAAC;IAC3C,OAAOrB,GAAA;EACT,GAAG,EAAE,EACJqB,IAAI,CAAC;AACV;AAEA,OAAO,IAAMM,WAAA,GAAc;EACzBrC,KAAA,EAAAA,KAAA;EACAc,SAAA,EAAAA;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}