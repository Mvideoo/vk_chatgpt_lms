{"ast":null,"code":"'use client';\n\nimport { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { classNames, hasReactNode } from \"@vkontakte/vkjs\";\nimport { useAdaptivity } from \"../../hooks/useAdaptivity.js\";\nimport { useExternRef } from \"../../hooks/useExternRef.js\";\nimport { usePrevious } from \"../../hooks/usePrevious.js\";\nimport { useDOM } from \"../../lib/dom.js\";\nimport { warnOnce } from \"../../lib/warnOnce.js\";\nimport { TabsModeContext } from \"../Tabs/Tabs.js\";\nimport { Tappable } from \"../Tappable/Tappable.js\";\nimport { Headline } from \"../Typography/Headline/Headline.js\";\nimport { Subhead } from \"../Typography/Subhead/Subhead.js\";\nimport { VisuallyHidden } from \"../VisuallyHidden/VisuallyHidden.js\";\nconst sizeYClassNames = {\n  none: \"vkuiTabsItem__sizeYNone\",\n  compact: \"vkuiTabsItem__sizeYCompact\"\n};\nconst stylesMode = {\n  default: \"vkuiTabsItem__modeDefault\",\n  accent: \"vkuiTabsItem__modeAccent\",\n  secondary: \"vkuiTabsItem__modeSecondary\"\n};\nconst fillModeClassNames = {\n  stretched: \"vkuiTabsItem__stretched\",\n  shrinked: \"vkuiTabsItem__shrinked\"\n};\nconst warn = warnOnce('TabsItem');\n/**\n * @see https://vkcom.github.io/VKUI/#/TabsItem\n */\nexport const TabsItem = _param => {\n  var {\n      before,\n      children,\n      status,\n      after,\n      selected = false,\n      role = 'tab',\n      tabIndex: tabIndexProp,\n      getRootRef,\n      hoverMode = \"vkuiTabsItem__hover\",\n      activeMode = '',\n      hovered,\n      activated,\n      hasHover,\n      hasActive = false,\n      focusVisibleMode = 'inside'\n    } = _param,\n    restProps = _object_without_properties(_param, [\"before\", \"children\", \"status\", \"after\", \"selected\", \"role\", \"tabIndex\", \"getRootRef\", \"hoverMode\", \"activeMode\", \"hovered\", \"activated\", \"hasHover\", \"hasActive\", \"focusVisibleMode\"]);\n  const {\n    sizeY = 'none'\n  } = useAdaptivity();\n  const {\n    mode,\n    withGaps,\n    layoutFillMode,\n    scrollBehaviorToSelectedTab,\n    withScrollToSelectedTab\n  } = React.useContext(TabsModeContext);\n  let statusComponent = null;\n  const isTabFlow = role === 'tab';\n  if (hasReactNode(status)) {\n    statusComponent = typeof status === 'number' ? /*#__PURE__*/_jsxs(Subhead, {\n      Component: \"span\",\n      className: classNames(\"vkuiTabsItem__status\", \"vkuiTabsItem__statusCount\"),\n      weight: \"2\",\n      children: [/*#__PURE__*/_jsx(VisuallyHidden, {\n        children: \" \"\n      }), status]\n    }) : /*#__PURE__*/_jsxs(\"span\", {\n      className: \"vkuiTabsItem__status\",\n      children: [/*#__PURE__*/_jsx(VisuallyHidden, {\n        children: \" \"\n      }), status]\n    });\n  }\n  if (process.env.NODE_ENV === 'development' && isTabFlow) {\n    if (!restProps['aria-controls']) {\n      warn(`Передайте в \"aria-controls\" id контролируемого блока`, 'warn');\n    } else if (!restProps['id']) {\n      warn(`Передайте \"id\" компоненту для использования в \"aria-labelledby\" контролируемого блока`, 'warn');\n    }\n  }\n  let tabIndex = tabIndexProp;\n  if (isTabFlow && tabIndex === undefined) {\n    tabIndex = selected ? 0 : -1;\n  }\n  const rootRef = useExternRef(getRootRef);\n  const prevSelected = usePrevious(selected);\n  const isInitialRender = prevSelected === undefined;\n  const shouldScrollToSelected = withScrollToSelectedTab && !isInitialRender && prevSelected !== selected && selected;\n  const {\n    document\n  } = useDOM();\n  React.useEffect(function scrollToSelectedItem() {\n    if (!shouldScrollToSelected || !rootRef.current || !document) {\n      return;\n    }\n    const tabDOMRect = rootRef.current.getBoundingClientRect();\n    const isTabVerticallyOutsideOfViewport = tabDOMRect.top < 0 || tabDOMRect.bottom > document.documentElement.clientHeight;\n    /* проверяем, возможен ли вертикальный скролл, а он возможен для scrollIntoView если\n    * элемент вертикально вне зоны видимости */\n    if (isTabVerticallyOutsideOfViewport) {\n      return;\n    }\n    /* Не все браузеры поддерживают используемые нами опции. */\n    try {\n      rootRef.current.scrollIntoView({\n        inline: scrollBehaviorToSelectedTab,\n        block: 'nearest',\n        behavior: 'smooth'\n      });\n    } catch (e) {\n      /* Вызывать scrollIntoView с булевым аргументом не следует, потому что это повлечёт\n       * вертикальный скролл.\n       **/}\n  }, [rootRef, document, shouldScrollToSelected, scrollBehaviorToSelectedTab]);\n  return /*#__PURE__*/_jsxs(Tappable, _object_spread_props(_object_spread({}, restProps), {\n    getRootRef: rootRef,\n    baseClassName: classNames(\"vkuiTabsItem__host\", mode && stylesMode[mode], selected && \"vkuiTabsItem__selected\", sizeY !== 'regular' && sizeYClassNames[sizeY], withGaps && \"vkuiTabsItem__withGaps\", layoutFillMode !== 'auto' && fillModeClassNames[layoutFillMode]),\n    hoverMode: hoverMode,\n    activeMode: activeMode,\n    hasHover: hasHover,\n    hasActive: hasActive,\n    hovered: hovered,\n    activated: activated,\n    focusVisibleMode: focusVisibleMode,\n    role: role,\n    \"aria-selected\": selected,\n    tabIndex: tabIndex,\n    children: [before && /*#__PURE__*/_jsx(\"div\", {\n      className: \"vkuiTabsItem__before\",\n      children: before\n    }), /*#__PURE__*/_jsx(Headline, {\n      Component: \"span\",\n      className: \"vkuiTabsItem__label\",\n      level: mode === 'default' ? '1' : '2',\n      weight: \"2\",\n      children: children\n    }), statusComponent, after && /*#__PURE__*/_jsx(\"div\", {\n      className: \"vkuiTabsItem__after\",\n      children: after\n    }), mode === 'default' && /*#__PURE__*/_jsx(\"div\", {\n      className: \"vkuiTabsItem__underline\",\n      \"aria-hidden\": true,\n      \"data-selected\": selected\n    })]\n  }));\n};","map":{"version":3,"names":["React","classNames","hasReactNode","useAdaptivity","useExternRef","usePrevious","useDOM","warnOnce","TabsModeContext","Tappable","Headline","Subhead","VisuallyHidden","sizeYClassNames","none","compact","stylesMode","default","accent","secondary","fillModeClassNames","stretched","shrinked","warn","TabsItem","_param","before","children","status","after","selected","role","tabIndex","tabIndexProp","getRootRef","hoverMode","activeMode","hovered","activated","hasHover","hasActive","focusVisibleMode","restProps","_object_without_properties","sizeY","mode","withGaps","layoutFillMode","scrollBehaviorToSelectedTab","withScrollToSelectedTab","useContext","statusComponent","isTabFlow","_jsxs","Component","className","weight","_jsx","process","env","NODE_ENV","undefined","rootRef","prevSelected","isInitialRender","shouldScrollToSelected","document","useEffect","scrollToSelectedItem","current","tabDOMRect","getBoundingClientRect","isTabVerticallyOutsideOfViewport","top","bottom","documentElement","clientHeight","scrollIntoView","inline","block","behavior","e","_object_spread_props","_object_spread","baseClassName","level"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkui/src/components/TabsItem/TabsItem.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { usePrevious } from '../../hooks/usePrevious';\nimport { useDOM } from '../../lib/dom';\nimport { warnOnce } from '../../lib/warnOnce';\nimport type { AnchorHTMLAttributesOnly, HTMLAttributesWithRootRef } from '../../types';\nimport { type TabsContextProps, TabsModeContext } from '../Tabs/Tabs';\nimport { Tappable, type TappableProps } from '../Tappable/Tappable';\nimport { Headline } from '../Typography/Headline/Headline';\nimport { Subhead } from '../Typography/Subhead/Subhead';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './TabsItem.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nconst stylesMode = {\n  default: styles.modeDefault,\n  accent: styles.modeAccent,\n  secondary: styles.modeSecondary,\n};\n\nconst fillModeClassNames = {\n  stretched: styles.stretched,\n  shrinked: styles.shrinked,\n};\n\nexport interface TabsItemProps\n  extends HTMLAttributesWithRootRef<HTMLElement>,\n    AnchorHTMLAttributesOnly,\n    Pick<\n      TappableProps,\n      | 'Component'\n      | 'activeMode'\n      | 'hoverMode'\n      | 'hovered'\n      | 'activated'\n      | 'hasActive'\n      | 'hasHover'\n      | 'focusVisibleMode'\n    > {\n  /**\n   * Добавляет иконку слева.\n   *\n   * - Для `mode=\"default\"` используйте иконки размером 24.\n   * - Для всех остальных `mode` используйте иконки размером 20.\n   */\n  before?: React.ReactNode;\n  /**\n   * Добавляет элемент слева от `after`.\n   *\n   * - `React.ReactElement` – либо [`Badge`](https://vkcom.github.io/VKUI/#/Badge) с параметром `mode=\"prominent\"`.\n   *   либо [`Counter`](https://vkcom.github.io/VKUI/#/Counter) с параметрами `mode=\"prominent\" size=\"s\"`.\n   * - `number` – для показа текстового блока с переданным числом.\n   */\n  status?: React.ReactElement | number;\n  /**\n   * Добавляет иконку справа.\n   *\n   * Например, `<Icon16Dropdown />`\n   */\n  after?: React.ReactNode;\n  selected?: boolean;\n  disabled?: boolean;\n}\n\nconst warn = warnOnce('TabsItem');\n\n/**\n * @see https://vkcom.github.io/VKUI/#/TabsItem\n */\nexport const TabsItem = ({\n  before,\n  children,\n  status,\n  after,\n  selected = false,\n  role = 'tab',\n  tabIndex: tabIndexProp,\n  getRootRef,\n  hoverMode = styles.hover,\n  activeMode = '',\n  hovered,\n  activated,\n  hasHover,\n  hasActive = false,\n  focusVisibleMode = 'inside',\n  ...restProps\n}: TabsItemProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n  const {\n    mode,\n    withGaps,\n    layoutFillMode,\n    scrollBehaviorToSelectedTab,\n    withScrollToSelectedTab,\n  }: TabsContextProps = React.useContext(TabsModeContext);\n  let statusComponent = null;\n\n  const isTabFlow = role === 'tab';\n\n  if (hasReactNode(status)) {\n    statusComponent =\n      typeof status === 'number' ? (\n        <Subhead\n          Component=\"span\"\n          className={classNames(styles.status, styles.statusCount)}\n          weight=\"2\"\n        >\n          <VisuallyHidden>&nbsp;</VisuallyHidden>\n          {status}\n        </Subhead>\n      ) : (\n        <span className={styles.status}>\n          <VisuallyHidden>&nbsp;</VisuallyHidden>\n          {status}\n        </span>\n      );\n  }\n\n  if (process.env.NODE_ENV === 'development' && isTabFlow) {\n    if (!restProps['aria-controls']) {\n      warn(`Передайте в \"aria-controls\" id контролируемого блока`, 'warn');\n    } else if (!restProps['id']) {\n      warn(\n        `Передайте \"id\" компоненту для использования в \"aria-labelledby\" контролируемого блока`,\n        'warn',\n      );\n    }\n  }\n\n  let tabIndex = tabIndexProp;\n  if (isTabFlow && tabIndex === undefined) {\n    tabIndex = selected ? 0 : -1;\n  }\n\n  const rootRef = useExternRef(getRootRef);\n\n  const prevSelected = usePrevious(selected);\n  const isInitialRender = prevSelected === undefined;\n  const shouldScrollToSelected =\n    withScrollToSelectedTab && !isInitialRender && prevSelected !== selected && selected;\n\n  const { document } = useDOM();\n  React.useEffect(\n    function scrollToSelectedItem() {\n      if (!shouldScrollToSelected || !rootRef.current || !document) {\n        return;\n      }\n\n      const tabDOMRect = rootRef.current.getBoundingClientRect();\n      const isTabVerticallyOutsideOfViewport =\n        tabDOMRect.top < 0 || tabDOMRect.bottom > document.documentElement.clientHeight;\n\n      /* проверяем, возможен ли вертикальный скролл, а он возможен для scrollIntoView если\n       * элемент вертикально вне зоны видимости */\n      if (isTabVerticallyOutsideOfViewport) {\n        return;\n      }\n\n      /* Не все браузеры поддерживают используемые нами опции. */\n      try {\n        rootRef.current.scrollIntoView({\n          inline: scrollBehaviorToSelectedTab,\n          block: 'nearest',\n          behavior: 'smooth',\n        });\n      } catch {\n        /* Вызывать scrollIntoView с булевым аргументом не следует, потому что это повлечёт\n         * вертикальный скролл.\n         **/\n      }\n    },\n    [rootRef, document, shouldScrollToSelected, scrollBehaviorToSelectedTab],\n  );\n\n  return (\n    <Tappable\n      {...restProps}\n      getRootRef={rootRef}\n      baseClassName={classNames(\n        styles.host,\n        mode && stylesMode[mode],\n        selected && styles.selected,\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n        withGaps && styles.withGaps,\n        layoutFillMode !== 'auto' && fillModeClassNames[layoutFillMode],\n      )}\n      hoverMode={hoverMode}\n      activeMode={activeMode}\n      hasHover={hasHover}\n      hasActive={hasActive}\n      hovered={hovered}\n      activated={activated}\n      focusVisibleMode={focusVisibleMode}\n      role={role}\n      aria-selected={selected}\n      tabIndex={tabIndex}\n    >\n      {before && <div className={styles.before}>{before}</div>}\n      <Headline\n        Component=\"span\"\n        className={styles.label}\n        level={mode === 'default' ? '1' : '2'}\n        weight=\"2\"\n      >\n        {children}\n      </Headline>\n      {statusComponent}\n      {after && <div className={styles.after}>{after}</div>}\n      {mode === 'default' && (\n        <div className={styles.underline} aria-hidden data-selected={selected} />\n      )}\n    </Tappable>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}