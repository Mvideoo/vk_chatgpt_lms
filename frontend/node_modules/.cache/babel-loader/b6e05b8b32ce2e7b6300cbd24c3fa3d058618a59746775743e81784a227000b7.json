{"ast":null,"code":"import * as React from \"react\";\nimport { useIsomorphicLayoutEffect } from \"../../lib/useIsomorphicLayoutEffect.js\";\n/**\n * Возвращает функцию которая вызывает callback после изменения DOM, но до того\n * как пользователь увидит изменения\n */\nexport function useLayoutEffectCall() {\n  const [fns] = React.useState(() => []);\n  useIsomorphicLayoutEffect(() => {\n    while (fns.length > 0) {\n      fns.pop()();\n    }\n  });\n  const add = React.useCallback(fn => fns.push(fn), [fns]);\n  return add;\n}","map":{"version":3,"names":["React","useIsomorphicLayoutEffect","useLayoutEffectCall","fns","useState","length","pop","add","useCallback","fn","push"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkui/src/components/View/useLayoutEffectCall.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\n\n/**\n * Возвращает функцию которая вызывает callback после изменения DOM, но до того\n * как пользователь увидит изменения\n */\nexport function useLayoutEffectCall() {\n  const [fns] = React.useState<Array<() => void>>(() => []);\n\n  useIsomorphicLayoutEffect(() => {\n    while (fns.length > 0) {\n      fns.pop()!();\n    }\n  });\n\n  const add = React.useCallback((fn: () => void) => fns.push(fn), [fns]);\n\n  return add;\n}\n"],"mappings":"AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,yBAAyB,QAAQ;AAE1C;;;;AAIA,OAAO,SAASC,oBAAA;EACd,MAAM,CAACC,GAAA,CAAI,GAAGH,KAAA,CAAMI,QAAQ,CAAoB,MAAM,EAAE;EAExDH,yBAAA,CAA0B;IACxB,OAAOE,GAAA,CAAIE,MAAM,GAAG,GAAG;MACrBF,GAAA,CAAIG,GAAG;IACT;EACF;EAEA,MAAMC,GAAA,GAAMP,KAAA,CAAMQ,WAAW,CAAEC,EAAA,IAAmBN,GAAA,CAAIO,IAAI,CAACD,EAAA,GAAK,CAACN,GAAA,CAAI;EAErE,OAAOI,GAAA;AACT","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}