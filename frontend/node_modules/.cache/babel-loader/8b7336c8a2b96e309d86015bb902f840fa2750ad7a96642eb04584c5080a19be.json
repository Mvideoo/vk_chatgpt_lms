{"ast":null,"code":"!function (e, n) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? n(exports) : \"function\" == typeof define && define.amd ? define([\"exports\"], n) : n((e = \"undefined\" != typeof globalThis ? globalThis : e || self).vkBridge = {});\n}(this, function (e) {\n  \"use strict\";\n\n  var n = function () {\n    return n = Object.assign || function (e) {\n      for (var n, t = 1, r = arguments.length; t < r; t++) for (var o in n = arguments[t]) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o]);\n      return e;\n    }, n.apply(this, arguments);\n  };\n  function t(e, n, t, r) {\n    return new (t || (t = Promise))(function (o, a) {\n      function i(e) {\n        try {\n          s(r.next(e));\n        } catch (e) {\n          a(e);\n        }\n      }\n      function p(e) {\n        try {\n          s(r.throw(e));\n        } catch (e) {\n          a(e);\n        }\n      }\n      function s(e) {\n        var n;\n        e.done ? o(e.value) : (n = e.value, n instanceof t ? n : new t(function (e) {\n          e(n);\n        })).then(i, p);\n      }\n      s((r = r.apply(e, n || [])).next());\n    });\n  }\n  function r(e, n) {\n    var t,\n      r,\n      o,\n      a,\n      i = {\n        label: 0,\n        sent: function () {\n          if (1 & o[0]) throw o[1];\n          return o[1];\n        },\n        trys: [],\n        ops: []\n      };\n    return a = {\n      next: p(0),\n      throw: p(1),\n      return: p(2)\n    }, \"function\" == typeof Symbol && (a[Symbol.iterator] = function () {\n      return this;\n    }), a;\n    function p(p) {\n      return function (s) {\n        return function (p) {\n          if (t) throw new TypeError(\"Generator is already executing.\");\n          for (; a && (a = 0, p[0] && (i = 0)), i;) try {\n            if (t = 1, r && (o = 2 & p[0] ? r.return : p[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, p[1])).done) return o;\n            switch (r = 0, o && (p = [2 & p[0], o.value]), p[0]) {\n              case 0:\n              case 1:\n                o = p;\n                break;\n              case 4:\n                return i.label++, {\n                  value: p[1],\n                  done: !1\n                };\n              case 5:\n                i.label++, r = p[1], p = [0];\n                continue;\n              case 7:\n                p = i.ops.pop(), i.trys.pop();\n                continue;\n              default:\n                if (!(o = i.trys, (o = o.length > 0 && o[o.length - 1]) || 6 !== p[0] && 2 !== p[0])) {\n                  i = 0;\n                  continue;\n                }\n                if (3 === p[0] && (!o || p[1] > o[0] && p[1] < o[3])) {\n                  i.label = p[1];\n                  break;\n                }\n                if (6 === p[0] && i.label < o[1]) {\n                  i.label = o[1], o = p;\n                  break;\n                }\n                if (o && i.label < o[2]) {\n                  i.label = o[2], i.ops.push(p);\n                  break;\n                }\n                o[2] && i.ops.pop(), i.trys.pop();\n                continue;\n            }\n            p = n.call(e, i);\n          } catch (e) {\n            p = [6, e], r = 0;\n          } finally {\n            t = o = 0;\n          }\n          if (5 & p[0]) throw p[1];\n          return {\n            value: p[0] ? p[1] : void 0,\n            done: !0\n          };\n        }([p, s]);\n      };\n    }\n  }\n  function o(e, n, t) {\n    if (t || 2 === arguments.length) for (var r, o = 0, a = n.length; o < a; o++) !r && o in n || (r || (r = Array.prototype.slice.call(n, 0, o)), r[o] = n[o]);\n    return e.concat(r || Array.prototype.slice.call(n));\n  }\n  function a(e, t, r) {\n    var o = function (e) {\n      var n = {\n          current: 0,\n          next: function () {\n            return ++this.current;\n          }\n        },\n        t = {};\n      return {\n        add: function (r, o) {\n          var a = null != o ? o : \"\".concat(n.next(), \"_\").concat(e);\n          return t[a] = r, a;\n        },\n        resolve: function (e, n, r) {\n          var o = t[e];\n          o && (r(n) ? o.resolve(n) : o.reject(n), t[e] = null);\n        }\n      };\n    }(r);\n    return t(function (e) {\n      if (e.detail && e.detail.data && \"object\" == typeof e.detail.data && \"request_id\" in e.detail.data) {\n        var n = e.detail.data,\n          t = n.request_id,\n          r = function (e, n) {\n            var t = {};\n            for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && n.indexOf(r) < 0 && (t[r] = e[r]);\n            if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n              var o = 0;\n              for (r = Object.getOwnPropertySymbols(e); o < r.length; o++) n.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[o]) && (t[r[o]] = e[r[o]]);\n            }\n            return t;\n          }(n, [\"request_id\"]);\n        t && o.resolve(t, r, function (e) {\n          return !(\"error_type\" in e);\n        });\n      }\n    }), function (t, r) {\n      return void 0 === r && (r = {}), new Promise(function (a, i) {\n        var p = o.add({\n          resolve: a,\n          reject: i\n        }, r.request_id);\n        e(t, n(n({}, r), {\n          request_id: p\n        }));\n      });\n    };\n  }\n  var i,\n    p = \"undefined\" != typeof window,\n    s = Boolean(p && window.AndroidBridge),\n    u = Boolean(p && window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.VKWebAppClose),\n    c = Boolean(p && window.ReactNativeWebView && \"function\" == typeof window.ReactNativeWebView.postMessage),\n    d = p && !s && !u,\n    l = d && /(^\\?|&)vk_platform=mobile_web(&|$)/.test(location.search),\n    f = d ? \"message\" : \"VKWebAppEvent\",\n    b = o([\"VKWebAppInit\", \"VKWebAppGetCommunityAuthToken\", \"VKWebAppAddToCommunity\", \"VKWebAppAddToHomeScreenInfo\", \"VKWebAppClose\", \"VKWebAppCopyText\", \"VKWebAppCreateHash\", \"VKWebAppGetUserInfo\", \"VKWebAppSetLocation\", \"VKWebAppSendToClient\", \"VKWebAppGetClientVersion\", \"VKWebAppGetPhoneNumber\", \"VKWebAppGetEmail\", \"VKWebAppGetGroupInfo\", \"VKWebAppGetGeodata\", \"VKWebAppGetCommunityToken\", \"VKWebAppGetConfig\", \"VKWebAppGetLaunchParams\", \"VKWebAppSetTitle\", \"VKWebAppGetAuthToken\", \"VKWebAppCallAPIMethod\", \"VKWebAppJoinGroup\", \"VKWebAppLeaveGroup\", \"VKWebAppAllowMessagesFromGroup\", \"VKWebAppDenyNotifications\", \"VKWebAppAllowNotifications\", \"VKWebAppOpenPayForm\", \"VKWebAppOpenApp\", \"VKWebAppShare\", \"VKWebAppShowWallPostBox\", \"VKWebAppScroll\", \"VKWebAppShowOrderBox\", \"VKWebAppShowLeaderBoardBox\", \"VKWebAppShowInviteBox\", \"VKWebAppShowRequestBox\", \"VKWebAppAddToFavorites\", \"VKWebAppShowStoryBox\", \"VKWebAppStorageGet\", \"VKWebAppStorageGetKeys\", \"VKWebAppStorageSet\", \"VKWebAppFlashGetInfo\", \"VKWebAppSubscribeStoryApp\", \"VKWebAppOpenWallPost\", \"VKWebAppCheckAllowedScopes\", \"VKWebAppCheckBannerAd\", \"VKWebAppHideBannerAd\", \"VKWebAppShowBannerAd\", \"VKWebAppCheckNativeAds\", \"VKWebAppShowNativeAds\", \"VKWebAppRetargetingPixel\", \"VKWebAppConversionHit\", \"VKWebAppShowSubscriptionBox\", \"VKWebAppCheckSurvey\", \"VKWebAppShowSurvey\", \"VKWebAppScrollTop\", \"VKWebAppScrollTopStart\", \"VKWebAppScrollTopStop\", \"VKWebAppShowSlidesSheet\", \"VKWebAppTranslate\", \"VKWebAppRecommend\", \"VKWebAppAddToProfile\", \"VKWebAppGetFriends\"], d && !l ? [\"VKWebAppResizeWindow\", \"VKWebAppAddToMenu\", \"VKWebAppShowInstallPushBox\", \"VKWebAppShowCommunityWidgetPreviewBox\", \"VKWebAppCallStart\", \"VKWebAppCallJoin\", \"VKWebAppCallGetStatus\"] : [\"VKWebAppShowImages\"], !0),\n    A = p ? window.AndroidBridge : void 0,\n    v = u ? window.webkit.messageHandlers : void 0,\n    h = d ? parent : void 0;\n  var m, w, W, y, V, K, _, g, S, E;\n  e.EAdsFormats = void 0, (m = e.EAdsFormats || (e.EAdsFormats = {})).REWARD = \"reward\", m.INTERSTITIAL = \"interstitial\", e.BannerAdLayoutType = void 0, (w = e.BannerAdLayoutType || (e.BannerAdLayoutType = {})).RESIZE = \"resize\", w.OVERLAY = \"overlay\", e.BannerAdLocation = void 0, (W = e.BannerAdLocation || (e.BannerAdLocation = {})).TOP = \"top\", W.BOTTOM = \"bottom\", e.BannerAdAlign = void 0, (y = e.BannerAdAlign || (e.BannerAdAlign = {})).LEFT = \"left\", y.RIGHT = \"right\", y.CENTER = \"center\", e.BannerAdHeightType = void 0, (V = e.BannerAdHeightType || (e.BannerAdHeightType = {})).COMPACT = \"compact\", V.REGULAR = \"regular\", e.BannerAdOrientation = void 0, (K = e.BannerAdOrientation || (e.BannerAdOrientation = {})).HORIZONTAL = \"horizontal\", K.VERTICAL = \"vertical\", e.EGrantedPermission = void 0, (_ = e.EGrantedPermission || (e.EGrantedPermission = {})).CAMERA = \"camera\", _.LOCATION = \"location\", _.PHOTO = \"photo\", e.EGetLaunchParamsResponseLanguages = void 0, (g = e.EGetLaunchParamsResponseLanguages || (e.EGetLaunchParamsResponseLanguages = {})).RU = \"ru\", g.UK = \"uk\", g.UA = \"ua\", g.EN = \"en\", g.BE = \"be\", g.KZ = \"kz\", g.PT = \"pt\", g.ES = \"es\", e.EGetLaunchParamsResponseGroupRole = void 0, (S = e.EGetLaunchParamsResponseGroupRole || (e.EGetLaunchParamsResponseGroupRole = {})).ADMIN = \"admin\", S.EDITOR = \"editor\", S.MEMBER = \"member\", S.MODER = \"moder\", S.NONE = \"none\", e.EGetLaunchParamsResponsePlatforms = void 0, (E = e.EGetLaunchParamsResponsePlatforms || (e.EGetLaunchParamsResponsePlatforms = {})).DESKTOP_WEB = \"desktop_web\", E.DESKTOP_WEB_MESSENGER = \"desktop_web_messenger\", E.DESKTOP_APP_MESSENGER = \"desktop_app_messenger\", E.MOBILE_WEB = \"mobile_web\", E.MOBILE_ANDROID = \"mobile_android\", E.MOBILE_ANDROID_MESSENGER = \"mobile_android_messenger\", E.MOBILE_IPHONE = \"mobile_iphone\", E.MOBILE_IPHONE_MESSENGER = \"mobile_iphone_messenger\", E.MOBILE_IPAD = \"mobile_ipad\";\n  var O = function (e) {\n    var n = void 0,\n      p = [],\n      l = Math.random().toString(36).substring(2, 5);\n    function m(e) {\n      p.push(e);\n    }\n    function w(e) {\n      return s ? !(!A || \"function\" != typeof A[e]) : u ? !(!v || !v[e] || \"function\" != typeof v[e].postMessage) : !!d && b.includes(e);\n    }\n    function W() {\n      return u || s;\n    }\n    function y() {\n      return d && window.parent !== window;\n    }\n    function V() {\n      return W() || y();\n    }\n    function K(e) {\n      if (u || s) return o([], p, !0).map(function (n) {\n        return n.call(null, e);\n      });\n      var t = null == e ? void 0 : e.data;\n      if (d && t) {\n        if (c && \"string\" == typeof t) try {\n          t = JSON.parse(t);\n        } catch (e) {}\n        var r = t.type,\n          a = t.data,\n          i = t.frameId;\n        r && (\"VKWebAppSettings\" !== r ? o([], p, !0).map(function (e) {\n          return e({\n            detail: {\n              type: r,\n              data: a\n            }\n          });\n        }) : n = i);\n      }\n    }\n    c && /(android)/i.test(navigator.userAgent) ? document.addEventListener(f, K) : \"undefined\" != typeof window && \"addEventListener\" in window && window.addEventListener(f, K);\n    var _ = a(function (t, r) {\n      A && A[t] ? A[t](JSON.stringify(r)) : v && v[t] && \"function\" == typeof v[t].postMessage ? v[t].postMessage(r) : c ? window.ReactNativeWebView.postMessage(JSON.stringify({\n        handler: t,\n        params: r\n      })) : h && \"function\" == typeof h.postMessage && h.postMessage({\n        handler: t,\n        params: r,\n        type: \"vk-connect\",\n        webFrameId: n,\n        connectVersion: e\n      }, \"*\");\n    }, m, l);\n    return m(function (e) {\n      if (e.detail && \"SetSupportedHandlers\" === e.detail.type) i = new Set(e.detail.data.supportedHandlers);\n    }), {\n      send: _,\n      sendPromise: _,\n      subscribe: m,\n      unsubscribe: function (e) {\n        var n = p.indexOf(e);\n        n > -1 && p.splice(n, 1);\n      },\n      supports: function (e) {\n        return console.warn(\"bridge.supports method is deprecated. Use bridge.supportsAsync instead.\"), w(e);\n      },\n      supportsAsync: function (e) {\n        return t(this, void 0, void 0, function () {\n          var n;\n          return r(this, function (t) {\n            switch (t.label) {\n              case 0:\n                if (s || u) return [2, w(e)];\n                if (i) return [2, i.has(e)];\n                t.label = 1;\n              case 1:\n                return t.trys.push([1, 3,, 4]), [4, _(\"SetSupportedHandlers\")];\n              case 2:\n                return n = t.sent(), i = new Set(n.supportedHandlers), [3, 4];\n              case 3:\n                return t.sent(), i = new Set([\"VKWebAppInit\"]), [3, 4];\n              case 4:\n                return [2, i.has(e)];\n            }\n          });\n        });\n      },\n      isWebView: W,\n      isIframe: y,\n      isEmbedded: V,\n      isStandalone: function () {\n        return !V();\n      }\n    };\n  }(\"2.15.6\");\n  e.applyMiddleware = function e() {\n    for (var t = [], r = 0; r < arguments.length; r++) t[r] = arguments[r];\n    return t.includes(void 0) || t.includes(null) ? e.apply(void 0, t.filter(function (e) {\n      return \"function\" == typeof e;\n    })) : function (e) {\n      if (0 === t.length) return e;\n      var r,\n        o = {\n          subscribe: e.subscribe,\n          send: function () {\n            for (var n = [], t = 0; t < arguments.length; t++) n[t] = arguments[t];\n            return e.send.apply(e, n);\n          }\n        },\n        a = t.filter(function (e) {\n          return \"function\" == typeof e;\n        }).map(function (e) {\n          return e(o);\n        }).reduce(function (e, n) {\n          return function (t) {\n            return e(n(t));\n          };\n        });\n      return r = a(e.send), n(n({}, e), {\n        send: r\n      });\n    };\n  }, e.default = O, e.parseURLSearchParamsForGetLaunchParams = function (n) {\n    var t = {};\n    try {\n      var r = new URLSearchParams(n);\n      r.forEach(function (n, r) {\n        switch (r) {\n          case \"vk_ts\":\n          case \"vk_is_recommended\":\n          case \"vk_profile_id\":\n          case \"vk_has_profile_button\":\n          case \"vk_testing_group_id\":\n          case \"vk_user_id\":\n          case \"vk_app_id\":\n          case \"vk_group_id\":\n            t[r] = Number(n);\n            break;\n          case \"sign\":\n          case \"vk_chat_id\":\n          case \"vk_ref\":\n          case \"vk_access_token_settings\":\n            t[r] = n;\n            break;\n          case \"odr_enabled\":\n            t.odr_enabled = \"1\" === n ? 1 : void 0;\n            break;\n          case \"vk_is_app_user\":\n          case \"vk_are_notifications_enabled\":\n          case \"vk_is_favorite\":\n            t[r] = function (e) {\n              switch (e) {\n                case \"0\":\n                  return 0;\n                case \"1\":\n                  return 1;\n                default:\n                  return;\n              }\n            }(n);\n            break;\n          case \"vk_language\":\n            t.vk_language = function (n) {\n              return Object.values(e.EGetLaunchParamsResponseLanguages).some(function (e) {\n                return e === n;\n              });\n            }(n) ? n : void 0;\n            break;\n          case \"vk_viewer_group_role\":\n            t.vk_viewer_group_role = function (n) {\n              return Object.values(e.EGetLaunchParamsResponseGroupRole).some(function (e) {\n                return e === n;\n              });\n            }(n) ? n : void 0;\n            break;\n          case \"vk_platform\":\n            t.vk_platform = function (n) {\n              return Object.values(e.EGetLaunchParamsResponsePlatforms).some(function (e) {\n                return e === n;\n              });\n            }(n) ? n : void 0;\n        }\n      });\n    } catch (e) {\n      console.warn(e);\n    }\n    return t;\n  }, Object.defineProperty(e, \"__esModule\", {\n    value: !0\n  });\n});","map":{"version":3,"names":["a","e","t","r","o","n","current","next","add","concat","resolve","reject","detail","data","request_id","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","length","propertyIsEnumerable","Promise","i","p","window","s","Boolean","AndroidBridge","u","webkit","messageHandlers","VKWebAppClose","c","ReactNativeWebView","postMessage","d","l","test","location","search","f","b","A","v","h","parent","m","w","W","y","V","K","_","g","S","E","EAdsFormats","REWARD","INTERSTITIAL","BannerAdLayoutType","RESIZE","OVERLAY","BannerAdLocation","TOP","BOTTOM","BannerAdAlign","LEFT","RIGHT","CENTER","BannerAdHeightType","COMPACT","REGULAR","BannerAdOrientation","HORIZONTAL","VERTICAL","EGrantedPermission","CAMERA","LOCATION","PHOTO","EGetLaunchParamsResponseLanguages","RU","UK","UA","EN","BE","KZ","PT","ES","EGetLaunchParamsResponseGroupRole","ADMIN","EDITOR","MEMBER","MODER","NONE","EGetLaunchParamsResponsePlatforms","DESKTOP_WEB","DESKTOP_WEB_MESSENGER","DESKTOP_APP_MESSENGER","MOBILE_WEB","MOBILE_ANDROID","MOBILE_ANDROID_MESSENGER","MOBILE_IPHONE","MOBILE_IPHONE_MESSENGER","MOBILE_IPAD","O","Math","random","toString","substring","push","includes","map","JSON","parse","type","frameId","navigator","userAgent","document","addEventListener","stringify","handler","params","webFrameId","connectVersion","Set","supportedHandlers","send","sendPromise","subscribe","unsubscribe","splice","supports","console","warn","supportsAsync","label","has","trys","sent","isWebView","isIframe","isEmbedded","isStandalone","applyMiddleware","arguments","apply","filter","reduce","default","parseURLSearchParamsForGetLaunchParams","URLSearchParams","forEach","Number","odr_enabled","vk_language","values","some","vk_viewer_group_role","vk_platform","defineProperty","value"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vk-bridge/src/promisifySend.ts","/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vk-bridge/src/bridge.ts","/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vk-bridge/src/types/data.ts","/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vk-bridge/src/parseURLSearchParamsForGetLaunchParams.ts","/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vk-bridge/src/index.ts","/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vk-bridge/src/utils.ts","/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vk-bridge/src/applyMiddleware.ts"],"sourcesContent":["import {\n  VKBridgeSubscribeHandler,\n  AnyRequestMethodName,\n  RequestProps,\n  RequestIdProp,\n  ReceiveData,\n  AnyReceiveMethodName,\n} from './types/bridge';\n\n/**\n * Creates counter interface.\n */\nfunction createCounter() {\n  return {\n    current: 0,\n    next() {\n      return ++this.current;\n    },\n  };\n}\n\n/**\n * Creates interface for resolving request promises by request id's (or not).\n *\n * @param instanceId Uniq bridge instance ID.\n */\nfunction createRequestResolver(instanceId: string) {\n  /**\n   * @prop resolve Resolve function.\n   * @prop reject Reject function.\n   */\n  type PromiseController = {\n    resolve: (value: any) => any;\n    reject: (reason: any) => any;\n  };\n\n  const counter = createCounter();\n  const promiseControllers: Record<number | string, PromiseController | null> = {};\n\n  return {\n    /**\n     * Adds new controller with resolve/reject methods.\n     *\n     * @param controller Object with `resolve` and `reject` functions\n     * @param customId Custom `request_id`\n     * @returns New request id of the added controller.\n     */\n    add(controller: PromiseController, customId?: number | string): number | string {\n      const id = customId != null ? customId : `${counter.next()}_${instanceId}`;\n\n      promiseControllers[id] = controller;\n\n      return id;\n    },\n\n    /**\n     * Resolves/rejects an added promise by request id and the `isSuccess`\n     * predicate.\n     *\n     * @param requestId Request ID.\n     * @param data Data to pass to the resolve- or reject-function.\n     * @param isSuccess Predicate to select the desired function.\n     */\n    resolve<T>(requestId: number | string, data: T, isSuccess: (data: T) => boolean) {\n      const requestPromise = promiseControllers[requestId];\n\n      if (requestPromise) {\n        if (isSuccess(data)) {\n          requestPromise.resolve(data);\n        } else {\n          requestPromise.reject(data);\n        }\n\n        promiseControllers[requestId] = null;\n      }\n    },\n  };\n}\n\n/**\n * Returns send function that returns promises.\n *\n * @param sendEvent Send event function.\n * @param subscribe Subscribe event function.\n * @param instanceId Uniq bridge instance ID.\n * @returns Send function which returns the Promise object.\n */\nexport function promisifySend(\n  sendEvent: <K extends AnyRequestMethodName>(\n    method: K,\n    props?: RequestProps<K> & RequestIdProp,\n  ) => void,\n  subscribe: (fn: VKBridgeSubscribeHandler) => void,\n  instanceId: string,\n) {\n  const requestResolver = createRequestResolver(instanceId);\n\n  // Subscribe to receive a data\n  subscribe((event) => {\n    if (!event.detail || !event.detail.data || typeof event.detail.data !== 'object') {\n      return;\n    }\n\n    // There is no request_id in receive-only events, so we check its existence.\n    if ('request_id' in event.detail.data) {\n      const { request_id: requestId, ...data } = event.detail.data;\n\n      if (requestId) {\n        requestResolver.resolve(requestId, data, (data) => !('error_type' in data));\n      }\n    }\n  });\n\n  return function promisifiedSend<K extends AnyRequestMethodName>(\n    method: K,\n    props: RequestProps<K> & RequestIdProp = {} as RequestProps<K> & RequestIdProp, // eslint-disable-line @typescript-eslint/consistent-type-assertions\n  ): Promise<K extends AnyReceiveMethodName ? ReceiveData<K> : void> {\n    return new Promise((resolve, reject) => {\n      const requestId = requestResolver.add({ resolve, reject }, props.request_id);\n\n      sendEvent(method, {\n        ...props,\n        request_id: requestId,\n      });\n    });\n  };\n}\n","import { promisifySend } from './promisifySend';\nimport {\n  VKBridge,\n  VKBridgeSubscribeHandler,\n  AnyRequestMethodName,\n  RequestProps,\n  RequestIdProp,\n} from './types/bridge';\nimport { createInstanceId } from './utils';\n\n/** Is the client side runtime environment */\nexport const IS_CLIENT_SIDE = typeof window !== 'undefined';\n\n/** Is the runtime environment an Android app */\nexport const IS_ANDROID_WEBVIEW = Boolean(IS_CLIENT_SIDE && (window as any).AndroidBridge);\n\n/** Is the runtime environment an iOS app */\nexport const IS_IOS_WEBVIEW = Boolean(\n  IS_CLIENT_SIDE &&\n    (window as any).webkit &&\n    (window as any).webkit.messageHandlers &&\n    (window as any).webkit.messageHandlers.VKWebAppClose,\n);\n\nexport const IS_REACT_NATIVE_WEBVIEW = Boolean(\n  IS_CLIENT_SIDE &&\n    (window as any).ReactNativeWebView &&\n    typeof (window as any).ReactNativeWebView.postMessage === 'function',\n);\n\n/** Is the runtime environment a browser */\nexport const IS_WEB = IS_CLIENT_SIDE && !IS_ANDROID_WEBVIEW && !IS_IOS_WEBVIEW;\n\n/** Is the runtime environment m.vk.com */\nexport const IS_MVK = IS_WEB && /(^\\?|&)vk_platform=mobile_web(&|$)/.test(location.search);\n\n/** Is the runtime environment vk.com */\nexport const IS_DESKTOP_VK = IS_WEB && !IS_MVK;\n\n/** Type of subscribe event */\nexport const EVENT_TYPE = IS_WEB ? 'message' : 'VKWebAppEvent';\n\n/** Methods supported on the desktop */\nexport const DESKTOP_METHODS = [\n  'VKWebAppInit',\n  'VKWebAppGetCommunityAuthToken',\n  'VKWebAppAddToCommunity',\n  'VKWebAppAddToHomeScreenInfo',\n  'VKWebAppClose',\n  'VKWebAppCopyText',\n  'VKWebAppCreateHash',\n  'VKWebAppGetUserInfo',\n  'VKWebAppSetLocation',\n  'VKWebAppSendToClient',\n  'VKWebAppGetClientVersion',\n  'VKWebAppGetPhoneNumber',\n  'VKWebAppGetEmail',\n  'VKWebAppGetGroupInfo',\n  'VKWebAppGetGeodata',\n  'VKWebAppGetCommunityToken',\n  'VKWebAppGetConfig',\n  'VKWebAppGetLaunchParams',\n  'VKWebAppSetTitle',\n  'VKWebAppGetAuthToken',\n  'VKWebAppCallAPIMethod',\n  'VKWebAppJoinGroup',\n  'VKWebAppLeaveGroup',\n  'VKWebAppAllowMessagesFromGroup',\n  'VKWebAppDenyNotifications',\n  'VKWebAppAllowNotifications',\n  'VKWebAppOpenPayForm',\n  'VKWebAppOpenApp',\n  'VKWebAppShare',\n  'VKWebAppShowWallPostBox',\n  'VKWebAppScroll',\n  'VKWebAppShowOrderBox',\n  'VKWebAppShowLeaderBoardBox',\n  'VKWebAppShowInviteBox',\n  'VKWebAppShowRequestBox',\n  'VKWebAppAddToFavorites',\n  'VKWebAppShowStoryBox',\n  'VKWebAppStorageGet',\n  'VKWebAppStorageGetKeys',\n  'VKWebAppStorageSet',\n  'VKWebAppFlashGetInfo',\n  'VKWebAppSubscribeStoryApp',\n  'VKWebAppOpenWallPost',\n  'VKWebAppCheckAllowedScopes',\n  'VKWebAppCheckBannerAd',\n  'VKWebAppHideBannerAd',\n  'VKWebAppShowBannerAd',\n  'VKWebAppCheckNativeAds',\n  'VKWebAppShowNativeAds',\n  'VKWebAppRetargetingPixel',\n  'VKWebAppConversionHit',\n  'VKWebAppShowSubscriptionBox',\n  'VKWebAppCheckSurvey',\n  'VKWebAppShowSurvey',\n  'VKWebAppScrollTop',\n  'VKWebAppScrollTopStart',\n  'VKWebAppScrollTopStop',\n  'VKWebAppShowSlidesSheet',\n  'VKWebAppTranslate',\n  'VKWebAppRecommend',\n  'VKWebAppAddToProfile',\n  'VKWebAppGetFriends',\n\n  // Desktop web specific events\n  ...(IS_DESKTOP_VK\n    ? [\n        'VKWebAppResizeWindow',\n        'VKWebAppAddToMenu',\n        'VKWebAppShowInstallPushBox',\n        'VKWebAppShowCommunityWidgetPreviewBox',\n        'VKWebAppCallStart',\n        'VKWebAppCallJoin',\n        'VKWebAppCallGetStatus',\n      ]\n    : ['VKWebAppShowImages']),\n];\n\n/** Cache for supported methods */\nlet supportedHandlers: Set<AnyRequestMethodName>;\n\n/** Android VK Bridge interface. */\nconst androidBridge: Record<AnyRequestMethodName, (serializedData: string) => void> | undefined =\n  IS_CLIENT_SIDE ? (window as any).AndroidBridge : undefined;\n\n/** iOS VK Bridge interface. */\nconst iosBridge: Record<AnyRequestMethodName, { postMessage?: (data: any) => void }> | undefined =\n  IS_IOS_WEBVIEW ? (window as any).webkit.messageHandlers : undefined;\n\n/** Web VK Bridge interface. */\nconst webBridge: { postMessage?: (message: any, targetOrigin: string) => void } | undefined = IS_WEB\n  ? parent\n  : undefined;\n\n// [Примечание 1] Отключили использование в этом PR https://github.com/VKCOM/vk-bridge/pull/262\n// let webSdkHandlers: string[] | undefined;\n\n/**\n * Creates a VK Bridge API that holds functions for interact with runtime\n * environment.\n *\n * @param version Version of the package\n */\nexport function createVKBridge(version: string): VKBridge {\n  /** Current frame id. */\n  let webFrameId: string | undefined = undefined;\n\n  /** List of functions that subscribed on events. */\n  const subscribers: VKBridgeSubscribeHandler[] = [];\n\n  /** Uniq instance ID */\n  const instanceId = createInstanceId();\n\n  /**\n   * Sends an event to the runtime env. In the case of Android/iOS application\n   * env is the application itself. In the case of the browser, the parent\n   * frame in which the event handlers is located.\n   *\n   * @param method The method (event) name to send\n   * @param [props] Method properties\n   */\n  function send<K extends AnyRequestMethodName>(\n    method: K,\n    props?: RequestProps<K> & RequestIdProp,\n  ) {\n    // Sending data through Android bridge\n\n    if (androidBridge && androidBridge[method]) {\n      androidBridge[method](JSON.stringify(props));\n    }\n\n    // Sending data through iOS bridge\n    else if (\n      iosBridge &&\n      iosBridge[method] &&\n      typeof iosBridge[method].postMessage === 'function'\n    ) {\n      iosBridge[method].postMessage!(props);\n    }\n\n    // Sending data through React Native bridge\n    else if (IS_REACT_NATIVE_WEBVIEW) {\n      (window as any).ReactNativeWebView.postMessage(\n        JSON.stringify({\n          handler: method,\n          params: props,\n        }),\n      );\n    }\n\n    // Sending data through web bridge\n    else if (webBridge && typeof webBridge.postMessage === 'function') {\n      webBridge.postMessage(\n        {\n          handler: method,\n          params: props,\n          type: 'vk-connect',\n          webFrameId,\n          connectVersion: version,\n        },\n        '*',\n      );\n    }\n  }\n\n  /**\n   * Adds an event listener. It will be called any time a data is received.\n   *\n   * @param listener A callback to be invoked on every event receive.\n   */\n  function subscribe(listener: VKBridgeSubscribeHandler) {\n    subscribers.push(listener);\n  }\n\n  /**\n   * Removes an event listener which has been subscribed for event listening.\n   *\n   * @param listener A callback to unsubscribe.\n   */\n  function unsubscribe(listener: VKBridgeSubscribeHandler) {\n    const index = subscribers.indexOf(listener);\n\n    if (index > -1) {\n      subscribers.splice(index, 1);\n    }\n  }\n\n  function supportsInner<K extends AnyRequestMethodName>(method: K): boolean {\n    if (IS_ANDROID_WEBVIEW) {\n      // Android support check\n      return !!(androidBridge && typeof androidBridge[method] === 'function');\n    } else if (IS_IOS_WEBVIEW) {\n      // iOS support check\n      return !!(\n        iosBridge &&\n        iosBridge[method] &&\n        typeof iosBridge[method].postMessage === 'function'\n      );\n    } else if (IS_WEB) {\n      // Web support check\n      return DESKTOP_METHODS.includes(method);\n      // см. Примечание 1\n      // if (!webSdkHandlers) {\n      //   console.error('You should call bridge.send(\"VKWebAppInit\") first');\n      //   return false;\n      // }\n      // return webSdkHandlers.includes(method);\n    }\n\n    return false;\n  }\n\n  /**\n   * Checks if a method is supported on runtime platform.\n   *\n   * @param method Method (event) name to check.\n   * @returns Result of checking.\n   * @deprecated This method is deprecated. Use supportsAsync instead.\n   */\n  function supports<K extends AnyRequestMethodName>(method: K): boolean {\n    console.warn('bridge.supports method is deprecated. Use bridge.supportsAsync instead.');\n\n    return supportsInner(method);\n  }\n\n  /**\n   * Checks whether the runtime is a WebView.\n   *\n   * @returns Result of checking.\n   */\n  function isWebView(): boolean {\n    return IS_IOS_WEBVIEW || IS_ANDROID_WEBVIEW;\n  }\n\n  /**\n   * Checks whether the runtime is an iframe.\n   *\n   * @returns Result of checking.\n   */\n  function isIframe(): boolean {\n    return IS_WEB && window.parent !== window;\n  }\n\n  /**\n   * Checks whether the runtime is embedded.\n   *\n   * @returns Result of checking.\n   */\n  function isEmbedded(): boolean {\n    return isWebView() || isIframe();\n  }\n\n  /**\n   * Checks whether the runtime is standalone.\n   *\n   * @returns Result of checking.\n   */\n  function isStandalone(): boolean {\n    return !isEmbedded();\n  }\n\n  function handleEvent(event: any) {\n    if (IS_IOS_WEBVIEW || IS_ANDROID_WEBVIEW) {\n      // If it's webview\n      return [...subscribers].map((fn) => fn.call(null, event));\n    }\n\n    let bridgeEventData = event?.data;\n    if (!IS_WEB || !bridgeEventData) {\n      return;\n    }\n\n    if (IS_REACT_NATIVE_WEBVIEW && typeof bridgeEventData === 'string') {\n      try {\n        bridgeEventData = JSON.parse(bridgeEventData);\n      } catch {}\n    }\n\n    const { type, data, frameId } = bridgeEventData;\n    if (!type) {\n      return;\n    }\n\n    // см. Примечание 1\n    // if (type === 'SetSupportedHandlers') {\n    //   webSdkHandlers = data.supportedHandlers;\n    //   return;\n    // }\n\n    if (type === 'VKWebAppSettings') {\n      webFrameId = frameId;\n      return;\n    }\n\n    [...subscribers].map((fn) => fn({ detail: { type, data } }));\n  }\n\n  // Subscribes to listening messages from a runtime for calling each\n  // subscribed event listener.\n  if (IS_REACT_NATIVE_WEBVIEW && /(android)/i.test(navigator.userAgent)) {\n    document.addEventListener(EVENT_TYPE, handleEvent);\n  } else if (typeof window !== 'undefined' && 'addEventListener' in window) {\n    window.addEventListener(EVENT_TYPE, handleEvent);\n  }\n\n  /**\n   * Enhanced send functions for the ability to receive response data in\n   * the Promise object.\n   */\n  const sendPromise = promisifySend(send, subscribe, instanceId);\n\n  async function supportsAsync(method: AnyRequestMethodName): Promise<boolean> {\n    if (IS_ANDROID_WEBVIEW || IS_IOS_WEBVIEW) {\n      return supportsInner(method);\n    }\n\n    if (supportedHandlers) {\n      return supportedHandlers.has(method);\n    }\n\n    try {\n      const response = await sendPromise('SetSupportedHandlers');\n      supportedHandlers = new Set(response.supportedHandlers);\n    } catch (error) {\n      supportedHandlers = new Set(['VKWebAppInit'] as const);\n    }\n\n    return supportedHandlers.has(method);\n  }\n\n  subscribe((event) => {\n    if (!event.detail) {\n      return;\n    }\n    switch (event.detail.type) {\n      case 'SetSupportedHandlers':\n        supportedHandlers = new Set(event.detail.data.supportedHandlers);\n    }\n  });\n\n  return {\n    send: sendPromise,\n    sendPromise,\n    subscribe,\n    unsubscribe,\n    supports,\n    supportsAsync,\n    isWebView,\n    isIframe,\n    isEmbedded,\n    isStandalone,\n  };\n}\n","/** Type of the Personal Card */\nexport type PersonalCardType = 'phone' | 'email' | 'address';\n\n/** Access Permissions for User Token */\nexport type PersonalAuthScope =\n  | 'friends'\n  | 'photos'\n  | 'video'\n  | 'stories'\n  | 'pages'\n  | 'status'\n  | 'notes'\n  | 'wall'\n  | 'docs'\n  | 'groups'\n  | 'stats'\n  | 'market';\n\n/** Access Permissions for Community Token */\nexport type CommunityAuthScope =\n  | 'stories'\n  | 'photos'\n  | 'app_widget'\n  | 'messages'\n  | 'docs'\n  | 'manage';\n\n/**\n * Type of VKWebAppGetFriendsResult user\n */\nexport type UserGetFriendsFriend = {\n  /** User id */\n  id: number;\n  /** User name */\n  first_name: string;\n  /** User surname */\n  last_name: string;\n  /** User sex: 0 - not specified, 1 - female, 2 - male */\n  sex: 0 | 1 | 2;\n  /**\n   * URL of the square user's photo with 200px width.\n   * https://vk.com/images/camera_200.png will be returned if the photo\n   * is not set.\n   */\n  photo_200: string;\n};\n\n/**\n * Type of user info object\n */\nexport type UserInfo = {\n  /** User id */\n  id: number;\n  /** User name */\n  first_name: string;\n  /** User surname */\n  last_name: string;\n  /** User sex: 0 - not specified, 1 - female, 2 - male */\n  sex: 0 | 1 | 2;\n  /** User's city */\n  city: {\n    /** City ID */\n    id: number;\n    /** City title */\n    title: string;\n  };\n  /** User's country */\n  country: {\n    /** Country ID */\n    id: number;\n    /** Country  title */\n    title: string;\n  };\n  /**\n   * Date of Birth. It is returned in the format D.M.YYYY or D.M (if the\n   * year of birth is hidden). If the date of birth is hidden entirely,\n   * the field is not in the response.\n   */\n  bdate?: string;\n  /**\n   * Visibility of Date of birth: 0 - hidden, 1 - entire date of birth is visible,\n   * 2 - day and month are visible */\n  bdate_visibility: 0 | 1 | 2;\n  /** Can see a private user profile */\n  can_access_closed: boolean;\n  /** Is user profile closed */\n  is_closed: boolean;\n  /**\n   * URL of the square user's photo with 100px width.\n   * https://vk.com/images/camera_100.png will be returned if the photo\n   * is not set.\n   */\n  photo_100: string;\n  /**\n   * URL of the square user's photo with 200px width.\n   * https://vk.com/images/camera_200.png will be returned if the photo\n   * is not set.\n   */\n  photo_200: string;\n  /**\n   * URL of the square user's photo with maximum size.\n   * https://vk.com/images/camera_400.png will be returned if the photo\n   * is not set.\n   */\n  photo_max_orig?: string;\n  /** User's timezone */\n  timezone?: number;\n};\n\n/**\n * User's contact data from the Personal Card from\n */\nexport type PersonalCardData = {\n  phone?: string;\n  email?: string;\n  address?: {\n    country?: {\n      id: number;\n      name: string;\n    };\n    city?: {\n      id: number;\n      name: string;\n    };\n    specified_address?: string;\n    postal_code?: string;\n  };\n};\n\n/**\n * Map of VK Pay request params\n */\nexport type VKPayActionParamsMap = {\n  /** Payment with a given amount to a user */\n  'pay-to-user': {\n    /** The amount of payment in rubles. The minimum value is 1 */\n    amount?: number;\n    /** User ID */\n    user_id: number;\n    /** Payment description */\n    description?: string;\n  };\n  /** Payment with a given amount to a community */\n  'pay-to-group': {\n    /** The amount of payment in rubles. The minimum value is 1 */\n    amount: number;\n    /** Community ID */\n    group_id: number;\n    /** Payment description */\n    description?: string;\n    /** Dictionary with arbitrary parameters */\n    data?: string;\n  };\n  /** Transferring an arbitrary amount to a user */\n  'transfer-to-user': {\n    user_id: number;\n  };\n  /** Transferring an arbitrary amount to a community */\n  'transfer-to-group': {\n    group_id: number;\n  };\n  /**\n   * Payment in favor of the merchant\n   * @see {@link https://vk.com/@devpay-vk-pay-how-to VK Pay How To}\n   */\n  'pay-to-service': {\n    /**\n     * Amount of payment. The minimum value is 1. The amount field is\n     * involved in the formation of merchant_data for the signature of\n     * the seller.\n     */\n    amount: number | string;\n    /**\n     * Description of the payment for user. The text will be shown in\n     * payment dialog\n     */\n    description: string;\n    /**\n     * Merchant ID. This is your ID in the payment system, obtained after\n     * the conclusion of the contract along with the seller’s private key\n     */\n    merchant_id: number;\n    /** Version of the payment form */\n    version: number;\n    /** The signature of the VK app that caused the payment */\n    sign: string;\n    /** Service data */\n    data: {\n      /** Currency. Only RUB is currently supported */\n      currency: 'RUB';\n      /** Base64-string of data for the signature of the seller */\n      merchant_data: string;\n      /** SHA-1 seller sign */\n      merchant_sign: string;\n      /** Sales order id */\n      order_id: string | number;\n      /** Timestamp */\n      ts: number;\n      /** Cashback data */\n      cashback?: {\n        /** Cashback timestamp */\n        pay_time: number;\n        /** Cashback size */\n        amount?: number;\n        /** Percentage cashback size */\n        amount_percent?: number;\n      };\n    };\n  };\n};\n\n/**\n * Possible types VK Pay operations\n */\nexport type VKPayActionType = keyof VKPayActionParamsMap;\n\n/**\n * VK Pay request props\n */\nexport type VKPayProps<ActionType extends VKPayActionType> = {\n  app_id: number;\n  action: ActionType;\n  params: VKPayActionParamsMap[ActionType];\n};\n\n/**\n * Appearance type\n */\nexport type AppearanceType = 'light' | 'dark';\n\n/**\n * Application color scheme type\n */\nexport type AppearanceSchemeType = 'vkcom_light' | 'vkcom_dark' | 'space_gray' | 'bright_light';\n\n/**\n * Vibration type for Taptic Engine\n */\nexport type TapticVibrationPowerType = 'light' | 'medium' | 'heavy';\n\n/**\n * Notification type for Taptic Engine\n */\nexport type TapticNotificationType = 'error' | 'success' | 'warning';\n\n/** Status of showing order box */\nexport type OrderBoxShowingStatus = 'cancel' | 'success' | 'fail';\n\n/**\n * Community widget type\n */\nexport type CommunityWidgetType =\n  | 'text'\n  | 'list'\n  | 'table'\n  | 'tiles'\n  | 'compact_list'\n  | 'cover_list'\n  | 'match'\n  | 'matches'\n  | 'donation';\n\n/**\n * Output data from code reader\n */\nexport type CodeReaderOutput = {\n  /** Read QR code data */\n  code_data: string;\n};\n\n/**\n * Selected contact data\n */\nexport type SelectedContact = {\n  phone: string;\n  first_name: string;\n  last_name: string;\n};\n\n/**\n * Request result data\n */\nexport type RequestResult = {\n  /** Operation success */\n  success: boolean;\n  /** `requestKey` from request */\n  requestKey: string;\n};\n\n/**\n * Result data of transaction\n */\nexport type TransactionResult = {\n  /** Payment (true — successful, false — unsuccessful). */\n  status: boolean;\n  /** Payment transaction identifier (for `status=true`). */\n  transaction_id: string;\n  /** Payment amount */\n  amount: string;\n  /** Additional information of the seller */\n  extra?: string | null;\n};\n\n/**\n * Screen insets.\n */\nexport type Insets = {\n  top: number;\n  left: number;\n  right: number;\n  bottom: number;\n};\n\nexport type AdaptivityType = 'force_mobile' | 'force_mobile_compact' | 'adaptive';\n\n/** Default fields for config response on all platforms */\nexport type DefaultUpdateConfigData = {\n  /** App_id of opened app */\n  app_id: string;\n  /** Native app appearance */\n  appearance: AppearanceType;\n  /** Native app scheme */\n  scheme: AppearanceSchemeType;\n};\n\n/** Config response for native platforms */\nexport type MobileUpdateConfigData = DefaultUpdateConfigData & {\n  /** Client type */\n  app: 'vkclient' | 'vkme';\n  /** Safe area insets. iOS only */\n  insets?: Insets;\n};\n\n/** Config response for m.vk.com and vk.com */\nexport type SharedUpdateConfigData = DefaultUpdateConfigData & {\n  /** window.innerWidth of the parent window */\n  viewport_width: number;\n  /** window.innerHeight of the parent window */\n  viewport_height: number;\n  /** Server API host for direct requests. */\n  api_host: string;\n  /** Adaptivity type. */\n  adaptivity?: AdaptivityType;\n};\n\n/** Config response for m.vk.com (mobile browser) */\nexport type MVKUpdateConfigData = SharedUpdateConfigData;\n\n/** Config response for vk.com (full web) */\nexport type VKUpdateConfigData = SharedUpdateConfigData & {\n  /** Is app opened in layer */\n  is_layer: boolean;\n};\n\n/** Update config data */\nexport type ParentConfigData = MobileUpdateConfigData | MVKUpdateConfigData | VKUpdateConfigData;\n\nexport type WidgetPreviewRequestOptions = {\n  /** Widget type */\n  type: CommunityWidgetType;\n  /** Community ID */\n  group_id: number;\n  /**\n   * Widget code\n   * @see {@link https://vk.com/dev/execute Execute method}\n   */\n  code: string;\n};\n\nexport type VKWebAppLibverifyOnFailedCode =\n  | 'GENERAL_ERROR'\n  | 'UNSUPPORTED_NUMBER'\n  | 'INCORRECT_PHONE_NUMBER'\n  | 'INCORRECT_SMS_CODE'\n  | 'RATELIMIT'\n  | 'NETWORK_ERROR'\n  | 'NO_NETWORK';\n\n/**\n * App close status\n */\nexport type AppCloseStatus = 'success' | 'failed';\n\nexport type CommunityTokenRequestOptions = {\n  app_id: number;\n  group_id: number;\n  scope: CommunityAuthScope | string;\n};\n\nexport type MessageRequestOptions = {\n  /** Receiver ID (user, community, chat) */\n  peer_id: number;\n  /** Message text */\n  message: string;\n  /** List of attaches */\n  attachment?: string;\n  /** Geographic latitude of a point, specified in degrees (from -90 to 90). */\n  lat?: number;\n  /** Geographic longitude of a point, specified in degrees (from -180 to 180). */\n  lng?: number;\n};\n\nexport enum EAdsFormats {\n  REWARD = 'reward',\n  INTERSTITIAL = 'interstitial',\n}\n\nexport type ShowNativeAdsRequest = {\n  ad_format: EAdsFormats;\n  use_waterfall?: boolean;\n};\n\nexport type CheckNativeAdsRequest = {\n  ad_format: EAdsFormats;\n  use_waterfall?: boolean;\n};\n\nexport enum BannerAdLayoutType {\n  RESIZE = 'resize',\n  OVERLAY = 'overlay',\n}\n\nexport enum BannerAdLocation {\n  TOP = 'top',\n  BOTTOM = 'bottom',\n}\n\nexport enum BannerAdAlign {\n  LEFT = 'left',\n  RIGHT = 'right',\n  CENTER = 'center',\n}\n\nexport enum BannerAdHeightType {\n  COMPACT = 'compact',\n  REGULAR = 'regular',\n}\n\nexport enum BannerAdOrientation {\n  HORIZONTAL = 'horizontal',\n  VERTICAL = 'vertical',\n}\n\nexport type ShowBannerAdRequest = {\n  banner_location: BannerAdLocation;\n  banner_align?: BannerAdAlign;\n  layout_type?: BannerAdLayoutType;\n  height_type?: BannerAdHeightType;\n  orientation?: BannerAdOrientation;\n  can_close?: boolean;\n};\n\nexport type OrderRequestOptions = {\n  /** Always `item` */\n  type: 'item';\n  /**\n   * Name of product. Will be transmitted in the notification of receipt\n   * of product information\n   */\n  item: string;\n};\n\nexport type RequestForRequestOptions = {\n  /** User Id */\n  uid: number;\n  /** Request test */\n  message: string;\n  /**\n   * Optional parameter. Custom string to track conversion. It is passed\n   * in the application launch parameters in case of launch from the\n   * request.\n   */\n  requestKey?: string;\n};\n\nexport type PostAttachmentLink = {\n  type: string;\n  link: string;\n};\n\nexport type WallPostRequestOptions = {\n  /**\n   * ID of the user or community on whose wall the post is to be\n   * published\n   */\n  owner_id?: number;\n  /**\n   * `true` - the post posted on behalf of the community will have a\n   * signature added (the name of the user who posted the post)\n   * `false` - the signature will not be added. The parameter is taken\n   * into account only when publishing on the community wall and\n   * specifying the from_group parameter. By default, the signature is\n   * not added\n   */\n  signed?: boolean;\n  /** Latitude, specified in degrees (from -90 to 90) */\n  lat?: number;\n  /** Longitude, specified in degrees (from -180 to 180) */\n  long?: number;\n  /** The place ID where the user is marked */\n  place_id?: number;\n  /**\n   * `true` - post will be available to friends only\n   * `false` - post will be available to all users (default)\n   */\n  friends_only?: boolean;\n  /**\n   * List of services or websites the update will be exported to, if the user has so requested.\n   * Sample values: 'twitter', 'facebook'\n   */\n  services?: 'twitter' | 'facebook' | string;\n  /** Publication date (in Unix time). If used, posting will be delayed until the set time */\n  publish_date?: number;\n  /**\n   * `true` - post comments will be closed\n   * `false` - permission to leave post comments will be up to user's settings (default)\n   */\n  close_comments?: boolean;\n  /** Source of the post. Internal and external links supported */\n  copyright?: string;\n} & (\n  | {\n      message?: string;\n      attachments: string;\n      upload_attachments?: PostAttachmentLink[];\n    }\n  | {\n      message: string;\n      attachments?: string;\n      upload_attachments?: PostAttachmentLink[];\n    }\n  | {\n      message?: string;\n      attachments?: string;\n      upload_attachments: PostAttachmentLink[];\n    }\n);\n\n/**\n * Result data user in Share\n */\nexport type ShareUserInfo = {\n  /** User id */\n  id: number;\n  /** User name */\n  first_name: string;\n  /** User surname */\n  last_name: string;\n  /** User sex: 0 - not specified, 1 - female, 2 - male */\n  sex: 0 | 1 | 2;\n  /** User profile photo */\n  photo: string;\n};\n\n/**\n * Result data of link share\n */\nexport type LinkShareResult =\n  | { type: 'message'; users: ShareUserInfo[] }\n  | { type: 'post'; post_id: string }\n  | { type: 'story'; story_id: string }\n  | { type: 'qr' | 'link' | 'other' };\n\nexport type StoryObjectTransform = {\n  /** Rotation, from 0 to 359 deg. Counterclockwise rotation. */\n  rotation?: number;\n  /**\n   * The desired width of the sticker relative to the screen is (0, 1), the\n   * height will be calculated taking into account maintaining the aspect ratio\n   * of the content.\n   */\n  relation_width?: number;\n  /** From -1 to 1 of screen with */\n  translation_x?: number;\n  /** From -1 to 1 of screen height */\n  translation_y?: number;\n  /** Gravity. Default: center. */\n  gravity?:\n    | 'left_top'\n    | 'left_center'\n    | 'left_bottom'\n    | 'center_top'\n    | 'center'\n    | 'center_bottom'\n    | 'right_top'\n    | 'right_center'\n    | 'right_bottom';\n};\n\nexport type StoryActionHashtag = {\n  /** Hashtag text */\n  hashtag: string;\n  /** Hashtag style. Default: `blue_gradient` */\n  style?: 'transparent' | 'blue_gradient';\n};\n\nexport type StoryActionMention = {\n  /**\n   * Text in mention format:\n   * for users: \"[id123|name]\"\n   * for communities: \"[club123|name]\"\n   */\n  mention: string;\n  /** Mention style. Default: `red_gradient` */\n  style?: 'transparent' | 'red_gradient';\n};\n\nexport type StoryActionPlace = {\n  /** Place id */\n  place_id: number;\n  /** Place name */\n  title: string;\n  /** Category id */\n  category_id?: number;\n  /** Style */\n  style?: 'transparent' | 'blue' | 'green' | 'white';\n};\n\n/**\n * Story action link\n */\nexport type StoryActionLink = {\n  /** Content link */\n  link: string;\n  /**\n   * The value of the string that will be displayed on the client when\n   * clicking on the tooltip.\n   */\n  tooltip_text_key:\n    | 'tooltip_open_post'\n    | 'tooltip_open_photo'\n    | 'tooltip_open_page'\n    | 'tooltip_open_default';\n};\n\nexport type StoryActionTime = {\n  /** Time style. Default: `date` */\n  style?: 'black' | 'white' | 'green' | 'text' | 'date';\n  /** Timestamp in milliseconds */\n  timestamp_ms?: number;\n  /**\n   * Date (`timestamp_ms` alternative) in format:\n   * `yyyy:MM:dd HH:mm:ss`\n   * (this format is chosen to unify dates from exif fields https://vk.cc/9NrgMr) */\n  date?: string;\n  /** Top sticker title, meaning only for date style */\n  title?: string;\n};\n\nexport type StoryActionGeo = {\n  /** Place id */\n  place_id: number;\n  /** Place name */\n  text: string;\n  /** Category id */\n  category_id?: number;\n  /** Sticker style. Default: `blue`*/\n  style?: 'blue' | 'green' | 'white' | 'transparent';\n};\n\nexport type StoryActionQuestion = {\n  /** Question text */\n  question: string;\n  /** Button text */\n  button: string;\n};\n\nexport type StoryActionText = {\n  /**\n   * The text may contain mentions/hashtags in the formats specified with\n   * the corresponding objects\n   */\n  text: string;\n  /** Text style */\n  style?: 'classic' | 'cursive' | 'marker' | 'italics' | 'typewriter' | 'poster' | 'retro';\n  /** Background/border style. Default: `none` */\n  background_style?: 'none' | 'alpha' | 'solid' | 'sticker' | 'neon';\n  /** Horizontal alignment */\n  alignment?: 'center' | 'left' | 'right';\n  /** HEX color */\n  selection_color?: string;\n};\n\nexport type StoryActionEmoji = {\n  emoji: string;\n};\n\nexport type StoryActionSticker = {\n  /** Sticker id */\n  sticker_id: number;\n  /** Sticker url */\n  url?: string;\n  /** JSON sticker url */\n  animation_url?: string;\n  /** Sticker pack id */\n  pack_id?: number;\n};\n\nexport type StoryActionMarketItem = {\n  /** Product name */\n  title: string;\n  /** Product id in VK Market */\n  product_id?: number;\n  /** Owner id of product in VK Market */\n  owner_id?: number;\n  /** Aliexpress product link */\n  link?: string;\n};\n\n/**\n * Story action type\n */\nexport type StoryAction =\n  | StoryActionHashtag\n  | StoryActionMention\n  | StoryActionPlace\n  | StoryActionLink\n  | StoryActionTime\n  | StoryActionGeo\n  | StoryActionQuestion\n  | StoryActionText\n  | StoryActionEmoji\n  | StoryActionSticker\n  | StoryActionMarketItem;\n\nexport type StoryClickableZoneOrigin = {\n  x: number;\n  y: number;\n};\n\nexport type StoryClickableZone = {\n  /** Action type */\n  action_type: 'hashtag' | 'mention' | 'link' | 'place' | 'question' | 'market_item';\n  /** Action data */\n  action: StoryAction;\n  /**\n   * Clickable area border on the sticker. The points should be located\n   * clockwise, forming a closed square.\n   */\n  clickable_area?: StoryClickableZoneOrigin[];\n};\n\nexport type StoryRenderableSticker = (\n  | {\n      /** Content url */\n      url: string;\n    }\n  | {\n      /** Base64 string with BLOB */\n      blob: string;\n    }\n) & {\n  /** Story type */\n  content_type: 'image' | 'gif' | 'video';\n  /** Object transform */\n  transform?: StoryObjectTransform;\n  /** Clickable zones */\n  clickable_zones?: StoryClickableZone[];\n  /** Content width */\n  original_width?: number;\n  /** Content height */\n  original_height?: number;\n  /** Whether the sticker can be removed from the screen, `true` by default */\n  can_delete?: boolean;\n};\n\nexport type StoryNativeSticker = {\n  /** Story action type */\n  action_type:\n    | 'text'\n    | 'hashtag'\n    | 'mention'\n    | 'time'\n    | 'place'\n    | 'question'\n    | 'emoji'\n    | 'sticker'\n    | 'market_item';\n  /** Story action */\n  action: StoryAction;\n  /** Object transform */\n  transform?: StoryObjectTransform;\n  /** Whether the sticker can be removed from the screen, `true` by default */\n  can_delete?: boolean;\n};\n\n/**\n * Sticker container\n */\nexport type StickerContainer =\n  | {\n      sticker_type: 'renderable';\n      sticker: StoryRenderableSticker;\n    }\n  | {\n      sticker_type: 'native';\n      sticker: StoryNativeSticker;\n    };\n\n/** Link text for moving from a story (community stories only) */\nexport type StoryButtonText =\n  | 'learn_more' // «Подробнее» (default)\n  | 'to_store' // «В магазин»\n  | 'vote' // «Голосовать»\n  | 'more' // «Ещё»\n  | 'book' // «Забронировать»\n  | 'order' // «Заказать»\n  | 'enroll' // «Записаться»\n  | 'fill' // «Заполнить»\n  | 'signup' // «Зарегистрироваться»\n  | 'buy' // «Купить»\n  | 'ticket' // «Купить билет»\n  | 'write' // «Написать»\n  | 'open' // «Открыть»\n  | 'view' // «Посмотреть»\n  | 'go_to' // «Перейти»\n  | 'contact' // «Связаться»\n  | 'watch' // «Смотреть»\n  | 'play' // «Слушать»\n  | 'install' // «Установить»\n  | 'read'; // «Читать»\n\nexport type StoryAttachment = {\n  /** Button text key (см. link_text в stories.getVideoUploadServer) */\n  text: string;\n  /** Attach type */\n  type: 'url' | 'audio' | 'video' | 'photo';\n  /** Content url */\n  url?: string;\n  /** Owner id */\n  owner_id?: number;\n  /** Object id */\n  id?: number;\n  /** Access key for the attachment */\n  access_key?: string;\n};\n\nexport type ShowStoryBoxOptions = {\n  /** Story type */\n  background_type: 'image' | 'video' | 'none';\n  /** Camera type (only for `background_type: none`). Default: `back` */\n  camera_type?: 'back' | 'front';\n  /** Link to an image or video (should follow a direct link to mp4) */\n  url?: string;\n  /** Base64 string with BLOB (supported only for image) */\n  blob?: string;\n  /** Lock to move the photo */\n  locked?: boolean;\n  /** Story attachment object */\n  attachment?: StoryAttachment;\n  /** Array of sticker objects */\n  stickers?: StickerContainer[];\n};\n\n/**\n * Params of method for subscribing to a story updates\n */\nexport type SubscribeStoryAppOptions = {\n  /** Story owner id */\n  story_owner_id: number;\n  /** Story id */\n  story_id: number;\n  /** Clickable sticker id */\n  sticker_id: number;\n  /** Private stories access key */\n  access_key?: string;\n};\n\n/**\n * Group info\n */\nexport type GroupInfo = {\n  id: number;\n  name: string;\n  screen_name: string;\n  is_closed: number;\n  type: string;\n  is_member: number;\n  description: string;\n  photo_50: string;\n  photo_100: string;\n  photo_200: string;\n};\n\n/*\n * Options for request to adding a user to an audience with a retargeting pixel\n */\nexport type RetargetingPixelOptions = {\n  /** Pixel code, e.g. `VK-RTRG-447253-dUuM` */\n  pixel_code: string;\n  /** Event id, pixel rule */\n  event?: string;\n  /** ID of the retargeting group to which the current user should be added */\n  target_group_id?: number;\n  /** ID of the price list */\n  price_list_id?: number;\n  /** Type of product event */\n  products_event?: string;\n  /** Product params */\n  products_params?: string;\n};\n\n/**\n * Type for params field in OKWebAppCallAPIMethod\n */\nexport type OKCallApiParams = {\n  application_key: string;\n  access_token: string;\n  format?: string;\n\n  [key: string]: any;\n};\n\n/**\n * Type for VKWebAppCheckAllowedScopes method results\n */\nexport type VKWebAppCheckAllowedScopesResponseEntry = {\n  scope: string;\n  allowed: boolean;\n};\n\ntype ActionSheetSlide = {\n  media: ActionSheetSlideMedia;\n  title: string;\n  subtitle: string;\n};\n\ntype ActionSheetSlideMedia = (\n  | {\n      /** Content url */\n      url: string;\n    }\n  | {\n      /** Base64 string with BLOB */\n      blob: string;\n    }\n) & {\n  /** Media type */\n  type: 'image' | 'gif' | 'video';\n};\n\nexport type ShowSlidesSheetResponse = {\n  result: true;\n} & (\n  | {\n      action: 'confirm' | 'cancel';\n    }\n  | {\n      action: 'reject';\n      slide_index: number;\n    }\n);\n\nexport type ShowSlidesSheetRequest = {\n  slides: ActionSheetSlide[];\n};\n\ntype TranslationLanguage = 'ru' | 'en' | 'es' | 'pt' | string;\n\nexport type TranslateResponse = {\n  result: {\n    texts: string[];\n    source_lang: TranslationLanguage;\n  };\n};\n\nexport type TranslateRequest = {\n  texts: string[];\n  translation_language: TranslationLanguage;\n};\n\nexport type CallStartResponse = {\n  result: true;\n  join_link: string;\n};\n\nexport type CallJoinRequest = {\n  join_link: string;\n};\n\nexport type CallJoinResponse = {\n  result: true;\n};\n\nexport type CallGetStatusResponse = {\n  result: true;\n  is_active: boolean;\n};\n\nexport type CallLeftResponse = {\n  reason: string;\n};\n\nexport type CallFinishedResponse = {\n  result: true;\n};\n\nexport enum EGrantedPermission {\n  CAMERA = 'camera',\n  LOCATION = 'location',\n  PHOTO = 'photo',\n}\n\nexport type GetGrantedPermissionsResponse = {\n  permissions: EGrantedPermission[];\n};\n\nexport type CreateHashRequest = {\n  payload?: string;\n};\n\nexport type CreateHashResponse = {\n  ts: number;\n  sign: string;\n  payload?: string;\n};\n\nexport type ChangeFragmentResponse = {\n  location: string;\n};\n\nexport enum EGetLaunchParamsResponseLanguages {\n  RU = 'ru',\n  UK = 'uk',\n  UA = 'ua',\n  EN = 'en',\n  BE = 'be',\n  KZ = 'kz',\n  PT = 'pt',\n  ES = 'es',\n}\n\nexport enum EGetLaunchParamsResponseGroupRole {\n  ADMIN = 'admin',\n  EDITOR = 'editor',\n  MEMBER = 'member',\n  MODER = 'moder',\n  NONE = 'none',\n}\n\nexport enum EGetLaunchParamsResponsePlatforms {\n  DESKTOP_WEB = 'desktop_web',\n  DESKTOP_WEB_MESSENGER = 'desktop_web_messenger',\n  DESKTOP_APP_MESSENGER = 'desktop_app_messenger',\n  MOBILE_WEB = 'mobile_web',\n  MOBILE_ANDROID = 'mobile_android',\n  MOBILE_ANDROID_MESSENGER = 'mobile_android_messenger',\n  MOBILE_IPHONE = 'mobile_iphone',\n  MOBILE_IPHONE_MESSENGER = 'mobile_iphone_messenger',\n  MOBILE_IPAD = 'mobile_ipad',\n}\n\nexport type GetLaunchParamsResponse = {\n  vk_user_id: number;\n  vk_app_id: number;\n  vk_is_app_user: 0 | 1;\n  vk_are_notifications_enabled: 0 | 1;\n  vk_language: EGetLaunchParamsResponseLanguages;\n  vk_ref: string;\n  vk_access_token_settings: string;\n  vk_group_id?: number;\n  vk_viewer_group_role?: EGetLaunchParamsResponseGroupRole;\n  vk_platform: EGetLaunchParamsResponsePlatforms;\n  vk_is_favorite: 0 | 1;\n  vk_ts: number;\n  sign: string;\n};\n\nexport type ConversionHitRequest = {\n  pixel_code: string;\n  conversion_event: string;\n  conversion_value: number;\n};\n\nexport type ConversionHitResponse = {\n  result: true;\n};\n\nexport type VKWebAppShowBannerAdResponse = {\n  result: boolean;\n  banner_width: number;\n  banner_height: number;\n  banner_location: BannerAdLocation;\n  banner_align?: BannerAdAlign;\n  layout_type: BannerAdLayoutType;\n  height_type: BannerAdHeightType;\n  orientation?: BannerAdOrientation;\n};\n\nexport type VKWebAppCheckBannerAdResponse = VKWebAppShowBannerAdResponse;\nexport type VKWebAppHideBannerAdResponse = VKWebAppShowBannerAdResponse;\nexport type VKWebAppBannerAdUpdatedResponse = VKWebAppShowBannerAdResponse;\nexport type VKWebAppBannerAdClosedByUserResponse = Omit<VKWebAppShowBannerAdResponse, 'result'>;\n\nexport type VKWebAppShowOrderBoxResponse = {\n  status: OrderBoxShowingStatus;\n  order_id: string;\n};\n\nexport type ScrollTopResponse = {\n  scrollTop: number;\n};\n\nexport type ShowSubscriptionBoxRequest = {\n  action: 'create' | 'resume' | 'cancel';\n  item?: string;\n  subscription_id?: string;\n};\n\nexport type ShowSubscriptionBoxResponse = {\n  success: boolean;\n  subscriptionId: string;\n};\n\nexport type AddToProfileRequest = {\n  ttl?: number;\n};\n\nexport type AddToProfileResponse = {\n  visibility: 'all' | 'friends' | 'best_friends';\n};\n\nexport type TrackEventRequest = {\n  event_name: string;\n  custom_user_id?: string;\n  event_params?: object;\n};\n\n/**\n * Map of types of request props of VK Bridge methods\n */\n/* eslint-disable @typescript-eslint/ban-types */\nexport type RequestPropsMap = {\n  VKWebAppInit: {};\n  VKWebAppAddToCommunity: {};\n  VKWebAppAddToHomeScreen: {};\n  VKWebAppAddToHomeScreenInfo: {};\n  VKWebAppAllowMessagesFromGroup: { group_id: number; key?: string };\n  VKWebAppAllowNotifications: {};\n  OKWebAppCallAPIMethod: { method: string; params: OKCallApiParams };\n  VKWebAppCallAPIMethod: {\n    method: string;\n    params: Record<'access_token' | 'v', string> & Record<string, string | number>;\n  };\n  VKWebAppCopyText: { text: string };\n  VKWebAppCreateHash: CreateHashRequest;\n  VKWebAppDownloadFile: { url: string; filename: string };\n  VKWebAppGetAuthToken: { app_id: number; scope: PersonalAuthScope | string };\n  VKWebAppClose: { status: AppCloseStatus; payload?: any };\n  VKWebAppOpenApp: { app_id: number; location?: string };\n  VKWebAppDenyNotifications: {};\n  VKWebAppFlashGetInfo: {};\n  VKWebAppFlashSetLevel: { level: number };\n  VKWebAppGetClientVersion: {};\n  VKWebAppGetCommunityToken: CommunityTokenRequestOptions;\n  VKWebAppGetConfig: {};\n  VKWebAppGetLaunchParams: {};\n  VKWebAppAudioPause: {};\n  VKWebAppGetEmail: {};\n  VKWebAppGetFriends: { multi?: boolean };\n  VKWebAppGetGeodata: {};\n  VKWebAppGetGrantedPermissions: {};\n  VKWebAppGetPersonalCard: { type: PersonalCardType[] };\n  VKWebAppGetPhoneNumber: {};\n  VKWebAppGetUserInfo: { user_id?: number; user_ids?: string };\n  VKWebAppJoinGroup: { group_id: number };\n  VKWebAppLeaveGroup: { group_id: number };\n  VKWebAppAddToMenu: {};\n  VKWebAppOpenCodeReader: {};\n  VKWebAppOpenContacts: {};\n  VKWebAppOpenPayForm: VKPayProps<VKPayActionType>;\n  VKWebAppOpenQR: {};\n  VKWebAppResizeWindow: { width: number; height?: number };\n  VKWebAppScroll: { top: number; speed?: number };\n  VKWebAppSendToClient: { fragment?: string };\n  VKWebAppSetLocation: { location: string; replace_state?: boolean };\n  VKWebAppSetViewSettings: {\n    status_bar_style: AppearanceType;\n    /** Android only */\n    action_bar_color?: 'none' | string;\n    /** Android only */\n    navigation_bar_color?: string;\n  };\n  VKWebAppShare: { link?: string };\n  VKWebAppShowCommunityWidgetPreviewBox: WidgetPreviewRequestOptions;\n  VKWebAppShowImages: { images: string[]; start_index?: number };\n  VKWebAppShowInviteBox: {};\n  VKWebAppShowLeaderBoardBox: { user_result: number };\n  VKWebAppShowMessageBox: MessageRequestOptions;\n  VKWebAppCheckBannerAd: {};\n  VKWebAppHideBannerAd: {};\n  VKWebAppShowBannerAd: ShowBannerAdRequest;\n  VKWebAppShowNativeAds: ShowNativeAdsRequest;\n  VKWebAppCheckNativeAds: CheckNativeAdsRequest;\n  VKWebAppShowOrderBox: OrderRequestOptions;\n  VKWebAppShowRequestBox: RequestForRequestOptions;\n  VKWebAppShowWallPostBox: WallPostRequestOptions;\n  VKWebAppShowSubscriptionBox: ShowSubscriptionBoxRequest;\n  VKWebAppOpenWallPost: { post_id: number; owner_id: number };\n  VKWebAppStorageGet: { keys: string[] };\n  VKWebAppStorageGetKeys: { count: number; offset: number };\n  VKWebAppStorageSet: { key: string; value: string };\n  VKWebAppTapticImpactOccurred: { style: TapticVibrationPowerType };\n  VKWebAppTapticNotificationOccurred: { type: TapticNotificationType };\n  VKWebAppTapticSelectionChanged: {};\n  VKWebAppAddToFavorites: {};\n  VKWebAppSendPayload: { group_id: number; payload: any };\n  VKWebAppDisableSwipeBack: {};\n  VKWebAppEnableSwipeBack: {};\n  VKWebAppSetSwipeSettings: { history: boolean };\n  VKWebAppShowStoryBox: ShowStoryBoxOptions;\n  VKWebAppAccelerometerStart: { refresh_rate?: string };\n  VKWebAppAccelerometerStop: {};\n  VKWebAppGyroscopeStart: {};\n  VKWebAppGyroscopeStop: {};\n  VKWebAppDeviceMotionStart: {};\n  VKWebAppDeviceMotionStop: {};\n  VKWebAppSubscribeStoryApp: SubscribeStoryAppOptions;\n  VKWebAppGetGroupInfo: { group_id: number };\n  VKWebAppLibverifyRequest: { phone: string };\n  VKWebAppLibverifyCheck: { code: string };\n  VKWebAppRetargetingPixel: RetargetingPixelOptions;\n  VKWebAppCheckAllowedScopes: { scopes: string };\n  VKWebAppConversionHit: ConversionHitRequest;\n  VKWebAppCheckSurvey: {};\n  VKWebAppShowSurvey: {};\n  VKWebAppScrollTop: {};\n  VKWebAppScrollTopStart: {};\n  VKWebAppScrollTopStop: {};\n  VKWebAppShowSlidesSheet: ShowSlidesSheetRequest;\n  VKWebAppTranslate: TranslateRequest;\n  VKWebAppCallStart: {};\n  VKWebAppCallJoin: CallJoinRequest;\n  VKWebAppCallGetStatus: {};\n  VKWebAppRecommend: {};\n  VKWebAppAddToProfile: AddToProfileRequest;\n  SetSupportedHandlers: {};\n  VKWebAppTrackEvent: TrackEventRequest;\n};\n\n/**\n * Map of types of response data of VK Bridge methods\n */\nexport type ReceiveDataMap = {\n  VKWebAppInit: { result: true };\n  VKWebAppAddToCommunity: { group_id: number };\n  VKWebAppAddToHomeScreen: { result: true };\n  VKWebAppAddToHomeScreenInfo: { is_feature_supported: boolean; is_added_to_home_screen: boolean };\n  VKWebAppAllowMessagesFromGroup: { result: true };\n  VKWebAppAllowNotifications: { result: true };\n  OKWebAppCallAPIMethod: { response: any };\n  VKWebAppCallAPIMethod: { response: any };\n  VKWebAppCopyText: { result: true };\n  VKWebAppCreateHash: CreateHashResponse;\n  VKWebAppDownloadFile: { result: true };\n  VKWebAppGetAuthToken: { access_token: string; scope: string };\n  VKWebAppClose: { payload: any };\n  VKWebAppOpenApp: { result: true };\n  VKWebAppDenyNotifications: { result: true };\n  VKWebAppFlashGetInfo: { is_available: boolean; level: number };\n  VKWebAppFlashSetLevel: { result: true };\n  VKWebAppGetClientVersion: { platform: string; version: string };\n  VKWebAppGetEmail: { email: string; sign: string };\n  VKWebAppGetFriends: { users: UserGetFriendsFriend[] };\n  VKWebAppGetGeodata:\n    | { available: 0 }\n    | { available: 1; lat: number; long: number; accuracy: number };\n  VKWebAppGetGrantedPermissions: GetGrantedPermissionsResponse;\n  VKWebAppGetPersonalCard: PersonalCardData;\n  VKWebAppGetPhoneNumber: { phone_number: string; sign: string; is_verified: boolean };\n  VKWebAppGetUserInfo: UserInfo;\n  VKWebAppJoinGroup: { result: true };\n  VKWebAppLeaveGroup: { result: true };\n  VKWebAppAddToMenu: { result: true };\n  VKWebAppOpenCodeReader: CodeReaderOutput;\n  VKWebAppOpenQR: CodeReaderOutput;\n  VKWebAppOpenContacts: SelectedContact;\n  VKWebAppOpenPayForm: TransactionResult | { result: TransactionResult };\n  VKWebAppResizeWindow: { width: number; height: number };\n  VKWebAppScroll: { top: number; height: number };\n  VKWebAppSendToClient: { result: true };\n  VKWebAppSetLocation: { result: true };\n  VKWebAppSetViewSettings: { result: true };\n  VKWebAppShare: LinkShareResult[];\n  VKWebAppShowCommunityWidgetPreviewBox: { result: true };\n  VKWebAppShowImages: { result: true };\n  VKWebAppShowInviteBox: { success: true };\n  VKWebAppShowLeaderBoardBox: { success: boolean };\n  VKWebAppShowMessageBox: { result: true };\n  VKWebAppCheckBannerAd: VKWebAppCheckBannerAdResponse;\n  VKWebAppHideBannerAd: VKWebAppHideBannerAdResponse;\n  VKWebAppShowBannerAd: VKWebAppShowBannerAdResponse;\n  VKWebAppBannerAdUpdated: VKWebAppBannerAdUpdatedResponse;\n  VKWebAppBannerAdClosedByUser: VKWebAppBannerAdClosedByUserResponse;\n  VKWebAppShowNativeAds: { result: true };\n  VKWebAppCheckNativeAds: { result: boolean };\n  VKWebAppShowOrderBox: VKWebAppShowOrderBoxResponse;\n  VKWebAppShowRequestBox: RequestResult;\n  VKWebAppShowWallPostBox: { post_id: number | string };\n  VKWebAppShowSubscriptionBox: ShowSubscriptionBoxResponse;\n  VKWebAppOpenWallPost: { result: true };\n  VKWebAppStorageGet: { keys: Array<{ key: string; value: string }> };\n  VKWebAppStorageGetKeys: { keys: string[] };\n  VKWebAppStorageSet: { result: true };\n  VKWebAppTapticImpactOccurred: { result: true };\n  VKWebAppTapticNotificationOccurred: { result: true };\n  VKWebAppTapticSelectionChanged: { result: true };\n  VKWebAppAddToFavorites: { result: true };\n  VKWebAppSendPayload: { result: true };\n  VKWebAppGetCommunityToken: { access_token: string; scope: string };\n  VKWebAppAudioPause: { result: true };\n  VKWebAppAudioPaused: { position: number; type: string; id: string };\n  VKWebAppAudioStopped: {}; // Always empty\n  VKWebAppAudioTrackChanged: { type: string; id: string };\n  VKWebAppAudioUnpaused: { type: string; id: string };\n  VKWebAppInitAds: { init: 'true' | 'false' };\n  VKWebAppLoadAds: { load: 'true' | 'false' };\n  VKWebAppUpdateConfig: ParentConfigData;\n  VKWebAppGetConfig: ParentConfigData;\n  VKWebAppGetLaunchParams: GetLaunchParamsResponse;\n  VKWebAppUpdateInsets: { insets: Insets };\n  VKWebAppViewHide: {}; // Always empty\n  VKWebAppViewRestore: {}; // Always empty\n  VKWebAppDisableSwipeBack: { result: true };\n  VKWebAppEnableSwipeBack: { result: true };\n  VKWebAppSetSwipeSettings: { result: true };\n  VKWebAppShowStoryBox: { result: true };\n  VKWebAppAccelerometerStart: { result: true };\n  VKWebAppAccelerometerStop: { result: true };\n  VKWebAppGyroscopeStart: { result: true };\n  VKWebAppGyroscopeStop: { result: true };\n  VKWebAppAccelerometerChanged: { x: string; y: string; z: string };\n  VKWebAppGyroscopeChanged: { x: string; y: string; z: string };\n  VKWebAppDeviceMotionStart: { result: true };\n  VKWebAppDeviceMotionChanged: { alpha: string; beta: string; gamma: string };\n  VKWebAppDeviceMotionStop: { result: true };\n  VKWebAppLocationChanged: { location: string };\n  VKWebAppSubscribeStoryApp: { access_key: string };\n  VKWebAppGetGroupInfo: GroupInfo;\n  VKWebAppLibverifyOnConfirmed: { validate_session: string; validate_token: string };\n  VKWebAppLibverifyOnFailed: { code: VKWebAppLibverifyOnFailedCode };\n  VKWebAppRetargetingPixel: { result: true };\n  VKWebAppCheckAllowedScopes: { result: VKWebAppCheckAllowedScopesResponseEntry[] };\n  VKWebAppChangeFragment: ChangeFragmentResponse;\n  VKWebAppConversionHit: ConversionHitResponse;\n  VKWebAppCheckSurvey: { result: boolean };\n  VKWebAppShowSurvey: { result: boolean };\n  VKWebAppScrollTop: ScrollTopResponse;\n  VKWebAppScrollTopStart: { result: true };\n  VKWebAppScrollTopStop: { result: true };\n  VKWebAppShowSlidesSheet: ShowSlidesSheetResponse;\n  VKWebAppTranslate: TranslateResponse;\n  VKWebAppCallStart: CallStartResponse;\n  VKWebAppCallJoin: CallJoinResponse;\n  VKWebAppCallGetStatus: CallGetStatusResponse;\n  VKWebAppCallLeft: CallLeftResponse;\n  VKWebAppCallFinished: CallFinishedResponse;\n  VKWebAppRecommend: { result: true };\n  VKWebAppAddToProfile: AddToProfileResponse;\n  SetSupportedHandlers: { supportedHandlers: Array<keyof RequestPropsMap> };\n  VKWebAppTrackEvent: { result: true };\n};\n/* eslint-enable @typescript-eslint/ban-types */\n\ntype EventReceiveNames<\n  T extends keyof RequestPropsMap,\n  R extends string,\n  F extends string,\n> = Record<T, { result: R; failed: F }>;\n\n/**\n * Map of event names.\n */\nexport type ReceiveEventMap = EventReceiveNames<\n  'VKWebAppInit',\n  'VKWebAppInitResult',\n  'VKWebAppInitFailed'\n> &\n  EventReceiveNames<\n    'VKWebAppAddToCommunity',\n    'VKWebAppAddToCommunityResult',\n    'VKWebAppAddToCommunityFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppAddToHomeScreen',\n    'VKWebAppAddToHomeScreenResult',\n    'VKWebAppAddToHomeScreenFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppAddToHomeScreenInfo',\n    'VKWebAppAddToHomeScreenInfoResult',\n    'VKWebAppAddToHomeScreenInfoFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppAllowMessagesFromGroup',\n    'VKWebAppAllowMessagesFromGroupResult',\n    'VKWebAppAllowMessagesFromGroupFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppAllowNotifications',\n    'VKWebAppAllowNotificationsResult',\n    'VKWebAppAllowNotificationsFailed'\n  > &\n  EventReceiveNames<\n    'OKWebAppCallAPIMethod',\n    'OKWebAppCallAPIMethodResult',\n    'OKWebAppCallAPIMethodFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppCallAPIMethod',\n    'VKWebAppCallAPIMethodResult',\n    'VKWebAppCallAPIMethodFailed'\n  > &\n  EventReceiveNames<'VKWebAppCopyText', 'VKWebAppCopyTextResult', 'VKWebAppCopyTextFailed'> &\n  EventReceiveNames<'VKWebAppCreateHash', 'VKWebAppCreateHashResult', 'VKWebAppCreateHashFailed'> &\n  EventReceiveNames<\n    'VKWebAppDownloadFile',\n    'VKWebAppDownloadFileResult',\n    'VKWebAppDownloadFileFailed'\n  > &\n  // NOTE: Different request/response events\n  EventReceiveNames<\n    'VKWebAppGetAuthToken',\n    'VKWebAppAccessTokenReceived',\n    'VKWebAppAccessTokenFailed'\n  > &\n  EventReceiveNames<'VKWebAppClose', 'VKWebAppCloseResult', 'VKWebAppCloseFailed'> &\n  EventReceiveNames<'VKWebAppOpenApp', 'VKWebAppOpenAppResult', 'VKWebAppOpenAppFailed'> &\n  EventReceiveNames<\n    'VKWebAppDenyNotifications',\n    'VKWebAppDenyNotificationsResult',\n    'VKWebAppDenyNotificationsFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppFlashGetInfo',\n    'VKWebAppFlashGetInfoResult',\n    'VKWebAppFlashGetInfoFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppFlashSetLevel',\n    'VKWebAppFlashSetLevelResult',\n    'VKWebAppFlashSetLevelFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppGetClientVersion',\n    'VKWebAppGetClientVersionResult',\n    'VKWebAppGetClientVersionFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppGetCommunityToken',\n    'VKWebAppGetCommunityTokenResult',\n    'VKWebAppGetCommunityTokenFailed'\n  > &\n  EventReceiveNames<'VKWebAppGetConfig', 'VKWebAppGetConfigResult', 'VKWebAppGetConfigFailed'> &\n  EventReceiveNames<\n    'VKWebAppGetLaunchParams',\n    'VKWebAppGetLaunchParamsResult',\n    'VKWebAppGetLaunchParamsFailed'\n  > &\n  EventReceiveNames<'VKWebAppAudioPause', 'VKWebAppAudioPauseResult', 'VKWebAppAudioPauseFailed'> &\n  EventReceiveNames<'VKWebAppGetEmail', 'VKWebAppGetEmailResult', 'VKWebAppGetEmailFailed'> &\n  EventReceiveNames<'VKWebAppGetFriends', 'VKWebAppGetFriendsResult', 'VKWebAppGetFriendsFailed'> &\n  EventReceiveNames<'VKWebAppGetGeodata', 'VKWebAppGetGeodataResult', 'VKWebAppGetGeodataFailed'> &\n  EventReceiveNames<\n    'VKWebAppGetGrantedPermissions',\n    'VKWebAppGetGrantedPermissionsResult',\n    'VKWebAppGetGrantedPermissionsFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppGetPersonalCard',\n    'VKWebAppGetPersonalCardResult',\n    'VKWebAppGetPersonalCardFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppGetPhoneNumber',\n    'VKWebAppGetPhoneNumberResult',\n    'VKWebAppGetPhoneNumberFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppGetUserInfo',\n    'VKWebAppGetUserInfoResult',\n    'VKWebAppGetUserInfoFailed'\n  > &\n  EventReceiveNames<'VKWebAppJoinGroup', 'VKWebAppJoinGroupResult', 'VKWebAppJoinGroupFailed'> &\n  EventReceiveNames<'VKWebAppLeaveGroup', 'VKWebAppLeaveGroupResult', 'VKWebAppLeaveGroupFailed'> &\n  EventReceiveNames<'VKWebAppAddToMenu', 'VKWebAppAddToMenuResult', 'VKWebAppAddToMenuFailed'> &\n  EventReceiveNames<\n    'VKWebAppOpenCodeReader',\n    'VKWebAppOpenCodeReaderResult',\n    'VKWebAppOpenCodeReaderFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppOpenContacts',\n    'VKWebAppOpenContactsResult',\n    'VKWebAppOpenContactsFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppOpenPayForm',\n    'VKWebAppOpenPayFormResult',\n    'VKWebAppOpenPayFormFailed'\n  > &\n  EventReceiveNames<'VKWebAppOpenQR', 'VKWebAppOpenQRResult', 'VKWebAppOpenQRFailed'> &\n  EventReceiveNames<\n    'VKWebAppResizeWindow',\n    'VKWebAppResizeWindowResult',\n    'VKWebAppResizeWindowFailed'\n  > &\n  EventReceiveNames<'VKWebAppScroll', 'VKWebAppScrollResult', 'VKWebAppScrollFailed'> &\n  EventReceiveNames<\n    'VKWebAppSendToClient',\n    'VKWebAppSendToClientResult',\n    'VKWebAppSendToClientFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppSetLocation',\n    'VKWebAppSetLocationResult',\n    'VKWebAppSetLocationFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppSetViewSettings',\n    'VKWebAppSetViewSettingsResult',\n    'VKWebAppSetViewSettingsFailed'\n  > &\n  EventReceiveNames<'VKWebAppShare', 'VKWebAppShareResult', 'VKWebAppShareFailed'> &\n  EventReceiveNames<\n    'VKWebAppShowCommunityWidgetPreviewBox',\n    'VKWebAppShowCommunityWidgetPreviewBoxResult',\n    'VKWebAppShowCommunityWidgetPreviewBoxFailed'\n  > &\n  EventReceiveNames<'VKWebAppShowImages', 'VKWebAppShowImagesResult', 'VKWebAppShowImagesFailed'> &\n  EventReceiveNames<\n    'VKWebAppShowInviteBox',\n    'VKWebAppShowInviteBoxResult',\n    'VKWebAppShowInviteBoxFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppShowLeaderBoardBox',\n    'VKWebAppShowLeaderBoardBoxResult',\n    'VKWebAppShowLeaderBoardBoxFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppShowMessageBox',\n    'VKWebAppShowMessageBoxResult',\n    'VKWebAppShowMessageBoxFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppCheckBannerAd',\n    'VKWebAppCheckBannerAdResult',\n    'VKWebAppCheckBannerAdFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppHideBannerAd',\n    'VKWebAppHideBannerAdResult',\n    'VKWebAppHideBannerAdFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppShowBannerAd',\n    'VKWebAppShowBannerAdResult',\n    'VKWebAppShowBannerAdFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppShowNativeAds',\n    'VKWebAppShowNativeAdsResult',\n    'VKWebAppShowNativeAdsFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppCheckNativeAds',\n    'VKWebAppCheckNativeAdsResult',\n    'VKWebAppCheckNativeAdsFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppShowOrderBox',\n    'VKWebAppShowOrderBoxResult',\n    'VKWebAppShowOrderBoxFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppShowRequestBox',\n    'VKWebAppShowRequestBoxResult',\n    'VKWebAppShowRequestBoxFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppShowWallPostBox',\n    'VKWebAppShowWallPostBoxResult',\n    'VKWebAppShowWallPostBoxFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppShowSubscriptionBox',\n    'VKWebAppShowSubscriptionBoxResult',\n    'VKWebAppShowSubscriptionBoxFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppOpenWallPost',\n    'VKWebAppOpenWallPostResult',\n    'VKWebAppOpenWallPostFailed'\n  > &\n  EventReceiveNames<'VKWebAppStorageGet', 'VKWebAppStorageGetResult', 'VKWebAppStorageGetFailed'> &\n  EventReceiveNames<\n    'VKWebAppStorageGetKeys',\n    'VKWebAppStorageGetKeysResult',\n    'VKWebAppStorageGetKeysFailed'\n  > &\n  EventReceiveNames<'VKWebAppStorageSet', 'VKWebAppStorageSetResult', 'VKWebAppStorageSetFailed'> &\n  EventReceiveNames<\n    'VKWebAppTapticImpactOccurred',\n    'VKWebAppTapticImpactOccurredResult',\n    'VKWebAppTapticImpactOccurredFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppTapticNotificationOccurred',\n    'VKWebAppTapticNotificationOccurredResult',\n    'VKWebAppTapticNotificationOccurredFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppTapticSelectionChanged',\n    'VKWebAppTapticSelectionChangedResult',\n    'VKWebAppTapticSelectionChangedFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppAddToFavorites',\n    'VKWebAppAddToFavoritesResult',\n    'VKWebAppAddToFavoritesFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppSendPayload',\n    'VKWebAppSendPayloadResult',\n    'VKWebAppSendPayloadFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppDisableSwipeBack',\n    'VKWebAppDisableSwipeBackResult',\n    'VKWebAppDisableSwipeBackFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppEnableSwipeBack',\n    'VKWebAppEnableSwipeBackResult',\n    'VKWebAppEnableSwipeBackFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppSetSwipeSettings',\n    'VKWebAppSetSwipeSettingsResult',\n    'VKWebAppSetSwipeSettingsFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppShowStoryBox',\n    'VKWebAppShowStoryBoxResult',\n    'VKWebAppShowStoryBoxFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppAccelerometerStart',\n    'VKWebAppAccelerometerStartResult',\n    'VKWebAppAccelerometerStartFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppAccelerometerStop',\n    'VKWebAppAccelerometerStopResult',\n    'VKWebAppAccelerometerStopFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppGyroscopeStart',\n    'VKWebAppGyroscopeStartResult',\n    'VKWebAppGyroscopeStartFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppGyroscopeStop',\n    'VKWebAppGyroscopeStopResult',\n    'VKWebAppGyroscopeStopFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppDeviceMotionStart',\n    'VKWebAppDeviceMotionStartResult',\n    'VKWebAppDeviceMotionStartFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppDeviceMotionStop',\n    'VKWebAppDeviceMotionStopResult',\n    'VKWebAppDeviceMotionStopFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppSubscribeStoryApp',\n    'VKWebAppSubscribeStoryAppResult',\n    'VKWebAppSubscribeStoryAppFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppGetGroupInfo',\n    'VKWebAppGetGroupInfoResult',\n    'VKWebAppGetGroupInfoFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppRetargetingPixel',\n    'VKWebAppRetargetingPixelResult',\n    'VKWebAppRetargetingPixelFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppCheckAllowedScopes',\n    'VKWebAppCheckAllowedScopesResult',\n    'VKWebAppCheckAllowedScopesFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppCheckSurvey',\n    'VKWebAppCheckSurveyResult',\n    'VKWebAppCheckSurveyFailed'\n  > &\n  EventReceiveNames<'VKWebAppShowSurvey', 'VKWebAppShowSurveyResult', 'VKWebAppShowSurveyFailed'> &\n  EventReceiveNames<\n    'VKWebAppConversionHit',\n    'VKWebAppConversionHitResult',\n    'VKWebAppConversionHitFailed'\n  > &\n  EventReceiveNames<'VKWebAppScrollTop', 'VKWebAppScrollTopResult', 'VKWebAppScrollTopFailed'> &\n  EventReceiveNames<\n    'VKWebAppScrollTopStart',\n    'VKWebAppScrollTopStartResult',\n    'VKWebAppScrollTopStop'\n  > &\n  EventReceiveNames<\n    'VKWebAppScrollTopStop',\n    'VKWebAppScrollTopStopResult',\n    'VKWebAppScrollTopStopFailed'\n  > &\n  EventReceiveNames<\n    'VKWebAppShowSlidesSheet',\n    'VKWebAppShowSlidesSheetResult',\n    'VKWebAppShowSlidesSheetFailed'\n  > &\n  EventReceiveNames<'VKWebAppTranslate', 'VKWebAppTranslateResult', 'VKWebAppTranslateFailed'> &\n  EventReceiveNames<'VKWebAppCallStart', 'VKWebAppCallStartResult', 'VKWebAppCallStartFailed'> &\n  EventReceiveNames<'VKWebAppCallJoin', 'VKWebAppCallJoinResult', 'VKWebAppCallJoinFailed'> &\n  EventReceiveNames<\n    'VKWebAppCallGetStatus',\n    'VKWebAppCallGetStatusResult',\n    'VKWebAppCallGetStatusFailed'\n  > &\n  EventReceiveNames<'VKWebAppRecommend', 'VKWebAppRecommendResult', 'VKWebAppRecommendFailed'> &\n  EventReceiveNames<'SetSupportedHandlers', 'SetSupportedHandlers', 'SetSupportedHandlersFailed'> &\n  EventReceiveNames<\n    'VKWebAppAddToProfile',\n    'VKWebAppAddToProfileResult',\n    'VKWebAppAddToProfileFailed'\n  > &\n  EventReceiveNames<'VKWebAppTrackEvent', 'VKWebAppTrackEventResult', 'VKWebAppTrackEventFailed'>;\n","import type { GetLaunchParamsResponse } from './types/data';\nimport {\n  EGetLaunchParamsResponseLanguages,\n  EGetLaunchParamsResponseGroupRole,\n  EGetLaunchParamsResponsePlatforms,\n} from './types/data';\n\nexport interface LaunchParams extends GetLaunchParamsResponse {\n  vk_chat_id: string;\n  vk_is_recommended: number;\n  vk_profile_id: number;\n  vk_has_profile_button: number;\n  vk_testing_group_id: number;\n  odr_enabled: undefined | 1;\n}\n\n/**\n * @see https://dev.vk.com/mini-apps/development/launch-params\n */\nexport const parseURLSearchParamsForGetLaunchParams = (\n  searchParams: string,\n): Partial<LaunchParams> => {\n  const launchParams: Partial<LaunchParams> = {};\n\n  try {\n    const parsedSearchParams = new URLSearchParams(searchParams);\n\n    const convertToggleStateFromStringToNumber = (value: string) => {\n      switch (value) {\n        case '0':\n          return 0;\n        case '1':\n          return 1;\n        default:\n          return undefined;\n      }\n    };\n\n    parsedSearchParams.forEach((value, query) => {\n      switch (query) {\n        case 'vk_ts':\n        case 'vk_is_recommended':\n        case 'vk_profile_id':\n        case 'vk_has_profile_button':\n        case 'vk_testing_group_id':\n        case 'vk_user_id':\n        case 'vk_app_id':\n        case 'vk_group_id':\n          launchParams[query] = Number(value);\n          break;\n        case 'sign':\n        case 'vk_chat_id':\n        case 'vk_ref':\n        case 'vk_access_token_settings':\n          launchParams[query] = value;\n          break;\n        case 'odr_enabled':\n          launchParams['odr_enabled'] = value === '1' ? 1 : undefined;\n          break;\n        case 'vk_is_app_user':\n        case 'vk_are_notifications_enabled':\n        case 'vk_is_favorite': {\n          launchParams[query] = convertToggleStateFromStringToNumber(value);\n          break;\n        }\n        case 'vk_language': {\n          const validateVKLanguage = (value: string): value is EGetLaunchParamsResponseLanguages =>\n            Object.values(EGetLaunchParamsResponseLanguages).some((i) => i === value);\n          launchParams['vk_language'] = validateVKLanguage(value) ? value : undefined;\n          break;\n        }\n        case 'vk_viewer_group_role': {\n          const validateVKViewerGroupRole = (\n            value: string,\n          ): value is EGetLaunchParamsResponseGroupRole =>\n            Object.values(EGetLaunchParamsResponseGroupRole).some((i) => i === value);\n          launchParams['vk_viewer_group_role'] = validateVKViewerGroupRole(value)\n            ? value\n            : undefined;\n          break;\n        }\n        case 'vk_platform': {\n          const validateVKPlatform = (value: string): value is EGetLaunchParamsResponsePlatforms =>\n            Object.values(EGetLaunchParamsResponsePlatforms).some((i) => i === value);\n          launchParams['vk_platform'] = validateVKPlatform(value) ? value : undefined;\n          break;\n        }\n      }\n    });\n  } catch (e) {\n    console.warn(e);\n  }\n\n  return launchParams;\n};\n","import { createVKBridge } from './bridge';\nimport { version } from '../package.json';\n\n// VK Bridge API\nconst bridge = createVKBridge(version);\n\n// Export typings\nexport * from './types/data';\nexport * from './types/bridge';\nexport * from './types/middleware';\nexport * from './types/deprecated';\n\nexport { applyMiddleware } from './applyMiddleware';\n\nexport { parseURLSearchParamsForGetLaunchParams } from './parseURLSearchParamsForGetLaunchParams';\n\nexport { bridge as default };\n","export function createInstanceId() {\n  const allNumbersAndLetters = 36;\n  const positionAfterZeroAnDot = 2;\n  const keyLength = 3;\n  return Math.random()\n    .toString(allNumbersAndLetters)\n    .substring(positionAfterZeroAnDot, positionAfterZeroAnDot + keyLength);\n}\n","import { VKBridge, VKBridgeSend } from './types/bridge';\nimport { Middleware, MiddlewareAPI } from './types/middleware';\n\n/**\n * Creates the VK Bridge enhancer that applies middleware to the `send`\n * method. This is handy for a variety of task such as logging every sent\n * event.\n *\n * @param middlewares The middleware chain to be applied.\n * @returns The VK Bridge enhancer applying the middleware.\n */\nexport function applyMiddleware(\n  ...middlewares: Array<Middleware | undefined | null>\n): (bridge: VKBridge) => VKBridge {\n  if (middlewares.includes(undefined) || middlewares.includes(null)) {\n    return applyMiddleware(\n      ...middlewares.filter((item): item is Middleware => typeof item === 'function'),\n    );\n  }\n\n  return (bridge) => {\n    if (middlewares.length === 0) {\n      return bridge;\n    }\n\n    let send: VKBridgeSend = () => {\n      throw new Error(\n        'Sending events while constructing your middleware is not allowed. ' +\n          'Other middleware would not be applied to this send.',\n      );\n    };\n\n    const middlewareAPI: MiddlewareAPI = {\n      subscribe: bridge.subscribe,\n      send: (...args) => bridge.send(...args),\n    };\n\n    const chain = middlewares\n      .filter((item): item is Middleware => typeof item === 'function')\n      .map((middleware) => middleware(middlewareAPI)) //\n      .reduce((a, b) => (send) => a(b(send)));\n\n    send = chain(bridge.send);\n\n    return {\n      ...bridge,\n      send,\n    };\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}