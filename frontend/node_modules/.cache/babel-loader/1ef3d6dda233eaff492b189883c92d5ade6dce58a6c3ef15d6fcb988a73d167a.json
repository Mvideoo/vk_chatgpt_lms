{"ast":null,"code":"'use client';\n\nimport { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { classNames } from \"@vkontakte/vkjs\";\nimport { useExternRef } from \"../../hooks/useExternRef.js\";\nimport { useCSSKeyframesAnimationController } from \"../../lib/animation/index.js\";\nimport { useIsomorphicLayoutEffect } from \"../../lib/useIsomorphicLayoutEffect.js\";\nimport { AccordionContext } from \"./AccordionContext.js\";\nconst CUSTOM_PROPERTY_ACCORDION_CONTENT_HEIGHT = '--vkui_internal--AccordionContent_height';\nconst stateClassNames = {\n  enter: \"vkuiAccordion__inEnter\",\n  entering: \"vkuiAccordion__inEnter\",\n  entered: \"vkuiAccordion__inEntered\",\n  exit: \"vkuiAccordion__inExit\",\n  exiting: \"vkuiAccordion__inExit\",\n  exited: \"vkuiAccordion__inExited\"\n};\nexport const AccordionContent = _param => {\n  var {\n      getRootRef,\n      getRef,\n      className,\n      children\n    } = _param,\n    restProps = _object_without_properties(_param, [\"getRootRef\", \"getRef\", \"className\", \"children\"]);\n  const {\n    expanded,\n    labelId,\n    contentId\n  } = React.useContext(AccordionContext);\n  const inRef = useExternRef(getRef);\n  const [animationState, animationHandlers] = useCSSKeyframesAnimationController(expanded ? 'enter' : 'exit', undefined, true);\n  useIsomorphicLayoutEffect(() => {\n    const inEl = inRef.current;\n    /* istanbul ignore if: невозможный кейс (в SSR вызова этой функции не будет) */\n    if (!inEl) {\n      return;\n    }\n    switch (animationState) {\n      case 'enter':\n      case 'exit':\n        inEl.style.setProperty(CUSTOM_PROPERTY_ACCORDION_CONTENT_HEIGHT, `${inEl.scrollHeight}px`);\n        break;\n      case 'entered':\n      case 'exited':\n        inEl.style.removeProperty(CUSTOM_PROPERTY_ACCORDION_CONTENT_HEIGHT);\n        break;\n    }\n  }, [animationState, inRef]);\n  return /*#__PURE__*/_jsx(\"div\", _object_spread_props(_object_spread({\n    ref: getRootRef,\n    id: contentId,\n    role: \"region\",\n    \"aria-labelledby\": labelId,\n    \"aria-hidden\": !expanded,\n    className: classNames(\"vkuiAccordion__host\", className)\n  }, restProps), {\n    children: /*#__PURE__*/_jsx(\"div\", _object_spread_props(_object_spread({\n      ref: inRef,\n      className: classNames(\"vkuiAccordion__in\", stateClassNames[animationState])\n    }, animationHandlers), {\n      children: children\n    }))\n  }));\n};\nAccordionContent.displayName = 'AccordionContent';","map":{"version":3,"names":["React","classNames","useExternRef","useCSSKeyframesAnimationController","useIsomorphicLayoutEffect","AccordionContext","CUSTOM_PROPERTY_ACCORDION_CONTENT_HEIGHT","stateClassNames","enter","entering","entered","exit","exiting","exited","AccordionContent","_param","getRootRef","getRef","className","children","restProps","_object_without_properties","expanded","labelId","contentId","useContext","inRef","animationState","animationHandlers","undefined","inEl","current","style","setProperty","scrollHeight","removeProperty","_jsx","_object_spread_props","_object_spread","ref","id","role","displayName"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkui/src/components/Accordion/AccordionContent.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useCSSKeyframesAnimationController } from '../../lib/animation';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport type { HasRef, HasRootRef } from '../../types';\nimport { AccordionContext } from './AccordionContext';\nimport styles from './Accordion.module.css';\n\nconst CUSTOM_PROPERTY_ACCORDION_CONTENT_HEIGHT = '--vkui_internal--AccordionContent_height';\n\nconst stateClassNames = {\n  enter: styles.inEnter,\n  entering: styles.inEnter,\n  entered: styles.inEntered,\n  exit: styles.inExit,\n  exiting: styles.inExit,\n  exited: styles.inExited,\n};\n\nexport interface AccordionContentProps\n  extends HasRootRef<HTMLDivElement>,\n    HasRef<HTMLDivElement>,\n    React.HTMLAttributes<HTMLDivElement> {}\n\nexport const AccordionContent: React.FC<AccordionContentProps> = ({\n  getRootRef,\n  getRef,\n  className,\n  children,\n  ...restProps\n}) => {\n  const { expanded, labelId, contentId } = React.useContext(AccordionContext);\n\n  const inRef = useExternRef(getRef);\n  const [animationState, animationHandlers] = useCSSKeyframesAnimationController(\n    expanded ? 'enter' : 'exit',\n    undefined,\n    true,\n  );\n\n  useIsomorphicLayoutEffect(() => {\n    const inEl = inRef.current;\n\n    /* istanbul ignore if: невозможный кейс (в SSR вызова этой функции не будет) */\n    if (!inEl) {\n      return;\n    }\n\n    switch (animationState) {\n      case 'enter':\n      case 'exit':\n        inEl.style.setProperty(CUSTOM_PROPERTY_ACCORDION_CONTENT_HEIGHT, `${inEl.scrollHeight}px`);\n        break;\n      case 'entered':\n      case 'exited':\n        inEl.style.removeProperty(CUSTOM_PROPERTY_ACCORDION_CONTENT_HEIGHT);\n        break;\n    }\n  }, [animationState, inRef]);\n\n  return (\n    <div\n      ref={getRootRef}\n      id={contentId}\n      role=\"region\"\n      aria-labelledby={labelId}\n      aria-hidden={!expanded}\n      className={classNames(styles.host, className)}\n      {...restProps}\n    >\n      <div\n        ref={inRef}\n        className={classNames(styles.in, stateClassNames[animationState])}\n        {...animationHandlers}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n\nAccordionContent.displayName = 'AccordionContent';\n"],"mappings":"AAAA;;;;;;AAEA,YAAYA,KAAA,MAAW;AACvB,SAASC,UAAU,QAAQ;AAC3B,SAASC,YAAY,QAAQ;AAC7B,SAASC,kCAAkC,QAAQ;AACnD,SAASC,yBAAyB,QAAQ;AAE1C,SAASC,gBAAgB,QAAQ;AAGjC,MAAMC,wCAAA,GAA2C;AAEjD,MAAMC,eAAA,GAAkB;EACtBC,KAAK;EACLC,QAAQ;EACRC,OAAO;EACPC,IAAI;EACJC,OAAO;EACPC,MAAM;AACR;AAOA,OAAO,MAAMC,gBAAA,GAAoDC,MAAA;MAAC;MAChEC,UAAU;MACVC,MAAM;MACNC,SAAS;MACTC;IAAQ,CAET,GAAAJ,MAAA;IADIK,SAAA,GAAAC,0BAAA,CAAAN,MAAA,GAJH,cACA,UACA,aACA,W;EAGA,MAAM;IAAEO,QAAQ;IAAEC,OAAO;IAAEC;EAAS,CAAE,GAAGxB,KAAA,CAAMyB,UAAU,CAACpB,gBAAA;EAE1D,MAAMqB,KAAA,GAAQxB,YAAA,CAAae,MAAA;EAC3B,MAAM,CAACU,cAAA,EAAgBC,iBAAA,CAAkB,GAAGzB,kCAAA,CAC1CmB,QAAA,GAAW,UAAU,QACrBO,SAAA,EACA;EAGFzB,yBAAA,CAA0B;IACxB,MAAM0B,IAAA,GAAOJ,KAAA,CAAMK,OAAO;IAE1B;IACA,IAAI,CAACD,IAAA,EAAM;MACT;IACF;IAEA,QAAQH,cAAA;MACN,KAAK;MACL,KAAK;QACHG,IAAA,CAAKE,KAAK,CAACC,WAAW,CAAC3B,wCAAA,EAA0C,GAAGwB,IAAA,CAAKI,YAAY,IAAI;QACzF;MACF,KAAK;MACL,KAAK;QACHJ,IAAA,CAAKE,KAAK,CAACG,cAAc,CAAC7B,wCAAA;QAC1B;IACJ;EACF,GAAG,CAACqB,cAAA,EAAgBD,KAAA,CAAM;EAE1B,oBACEU,IAAA,CAAC,OAAAC,oBAAA,CAAAC,cAAA;IACCC,GAAA,EAAKvB,UAAA;IACLwB,EAAA,EAAIhB,SAAA;IACJiB,IAAA,EAAK;IACL,mBAAiBlB,OAAA;IACjB,eAAa,CAACD,QAAA;IACdJ,SAAA,EAAWjB,UAAA,wBAAwBiB,SAAA;KAC/BE,SAAA;cAEJ,aAAAgB,IAAA,CAAC,OAAAC,oBAAA,CAAAC,cAAA;MACCC,GAAA,EAAKb,KAAA;MACLR,SAAA,EAAWjB,UAAA,sBAAsBM,eAAe,CAACoB,cAAA,CAAe;OAC5DC,iBAAA;gBAEHT;;;AAIT;AAEAL,gBAAA,CAAiB4B,WAAW,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}