{"ast":null,"code":"import * as React from \"react\";\nimport { useIsomorphicLayoutEffect } from \"../useIsomorphicLayoutEffect.js\";\nexport function usePlacementChangeCallback(initialPlacement, resolvedPlacement, onPlacementChange) {\n  const prevPlacementRef = React.useRef(undefined);\n  React.useEffect(() => {\n    prevPlacementRef.current = resolvedPlacement;\n  });\n  useIsomorphicLayoutEffect(() => {\n    if (!onPlacementChange) {\n      return;\n    }\n    const prevPlacement = prevPlacementRef.current;\n    const isInitialPlacementChanged = prevPlacement === undefined && initialPlacement !== resolvedPlacement;\n    const isResolvedPlacementChanged = prevPlacement !== undefined && prevPlacement !== resolvedPlacement;\n    if (isInitialPlacementChanged || isResolvedPlacementChanged) {\n      onPlacementChange(resolvedPlacement);\n    }\n  }, [initialPlacement, resolvedPlacement, onPlacementChange]);\n}","map":{"version":3,"names":["React","useIsomorphicLayoutEffect","usePlacementChangeCallback","initialPlacement","resolvedPlacement","onPlacementChange","prevPlacementRef","useRef","undefined","useEffect","current","prevPlacement","isInitialPlacementChanged","isResolvedPlacementChanged"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkui/src/lib/floating/usePlacementChangeCallback.ts"],"sourcesContent":["import * as React from 'react';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport type { OnPlacementChange, Placement, PlacementWithAuto } from './types/common';\n\nexport function usePlacementChangeCallback(\n  initialPlacement: PlacementWithAuto,\n  resolvedPlacement: Placement,\n  onPlacementChange: OnPlacementChange | undefined,\n): void {\n  const prevPlacementRef = React.useRef<Placement | undefined>(undefined);\n  React.useEffect(() => {\n    prevPlacementRef.current = resolvedPlacement;\n  });\n\n  useIsomorphicLayoutEffect(() => {\n    if (!onPlacementChange) {\n      return;\n    }\n\n    const prevPlacement = prevPlacementRef.current;\n\n    const isInitialPlacementChanged =\n      prevPlacement === undefined && initialPlacement !== resolvedPlacement;\n    const isResolvedPlacementChanged =\n      prevPlacement !== undefined && prevPlacement !== resolvedPlacement;\n    if (isInitialPlacementChanged || isResolvedPlacementChanged) {\n      onPlacementChange(resolvedPlacement);\n    }\n  }, [initialPlacement, resolvedPlacement, onPlacementChange]);\n}\n"],"mappings":"AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,yBAAyB,QAAQ;AAG1C,OAAO,SAASC,2BACdC,gBAAmC,EACnCC,iBAA4B,EAC5BC,iBAAgD;EAEhD,MAAMC,gBAAA,GAAmBN,KAAA,CAAMO,MAAM,CAAwBC,SAAA;EAC7DR,KAAA,CAAMS,SAAS,CAAC;IACdH,gBAAA,CAAiBI,OAAO,GAAGN,iBAAA;EAC7B;EAEAH,yBAAA,CAA0B;IACxB,IAAI,CAACI,iBAAA,EAAmB;MACtB;IACF;IAEA,MAAMM,aAAA,GAAgBL,gBAAA,CAAiBI,OAAO;IAE9C,MAAME,yBAAA,GACJD,aAAA,KAAkBH,SAAA,IAAaL,gBAAA,KAAqBC,iBAAA;IACtD,MAAMS,0BAAA,GACJF,aAAA,KAAkBH,SAAA,IAAaG,aAAA,KAAkBP,iBAAA;IACnD,IAAIQ,yBAAA,IAA6BC,0BAAA,EAA4B;MAC3DR,iBAAA,CAAkBD,iBAAA;IACpB;EACF,GAAG,CAACD,gBAAA,EAAkBC,iBAAA,EAAmBC,iBAAA,CAAkB;AAC7D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}