{"ast":null,"code":"/**\n * Выполняет Promise функцию, пока она не завершится удачей. Может\n * использоваться для асинхронной загрузки модулей при плохом интернете\n *\n * @example\n * const HeaderLazyComponent = React.lazy(() => asyncImportLoader(() => import('../components/Header/Header')));\n *\n * @example\n * asyncImportLoader(() => import('some-module'), 20).then((someModule) => {\n *   someModule.init();\n * });\n *\n * @param asyncImport Функция, которую требуется выполнить\n * @param attempts Максимальное количество попыток\n */export var asyncImportLoader = function (asyncImport) {\n  var attempts = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 10;\n  return new Promise(function (resolve, reject) {\n    asyncImport().then(resolve).catch(function (error) {\n      setTimeout(function () {\n        if (attempts === 0) {\n          reject(error);\n          return;\n        }\n        asyncImportLoader(asyncImport, attempts - 1).then(resolve, reject);\n      }, 1000);\n    });\n  });\n};","map":{"version":3,"names":["asyncImportLoader","asyncImport","attempts","arguments","length","Promise","resolve","reject","then","catch","error","setTimeout"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkjs/src/async/asyncImportLoader.ts"],"sourcesContent":["/**\n * Выполняет Promise функцию, пока она не завершится удачей. Может\n * использоваться для асинхронной загрузки модулей при плохом интернете\n *\n * @example\n * const HeaderLazyComponent = React.lazy(() => asyncImportLoader(() => import('../components/Header/Header')));\n *\n * @example\n * asyncImportLoader(() => import('some-module'), 20).then((someModule) => {\n *   someModule.init();\n * });\n *\n * @param asyncImport Функция, которую требуется выполнить\n * @param attempts Максимальное количество попыток\n */\nexport const asyncImportLoader = <T>(asyncImport: () => Promise<T>, attempts = 10): Promise<T> => {\n  return new Promise((resolve, reject) => {\n    asyncImport()\n      .then(resolve)\n      .catch((error) => {\n        setTimeout(() => {\n          if (attempts === 0) {\n            reject(error);\n            return;\n          }\n          asyncImportLoader(asyncImport, attempts - 1).then(resolve, reject);\n        }, 1000);\n      });\n  });\n};\n"],"mappings":"AAAA;;;;;;;;;;;;;;GAeA,OAAO,IAAMA,iBAAA,GAAoB,SAAAA,CAAIC,WAAA;MAA+BC,QAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,iBAAAA,SAAA,MAAW;EAC7E,OAAO,IAAIE,OAAA,CAAQ,UAACC,OAAA,EAASC,MAAA;IAC3BN,WAAA,GACGO,IAAI,CAACF,OAAA,EACLG,KAAK,CAAC,UAACC,KAAA;MACNC,UAAA,CAAW;QACT,IAAIT,QAAA,KAAa,GAAG;UAClBK,MAAA,CAAOG,KAAA;UACP;QACF;QACAV,iBAAA,CAAkBC,WAAA,EAAaC,QAAA,GAAW,GAAGM,IAAI,CAACF,OAAA,EAASC,MAAA;MAC7D,GAAG;IACL;EACJ;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}