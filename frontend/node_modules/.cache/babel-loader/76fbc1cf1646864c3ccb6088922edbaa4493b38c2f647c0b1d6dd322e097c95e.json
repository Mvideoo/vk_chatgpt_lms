{"ast":null,"code":"'use client';\n\nimport { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useCallback } from \"react\";\nimport * as React from \"react\";\nimport { classNames } from \"@vkontakte/vkjs\";\nimport { usePlatform } from \"../../hooks/usePlatform.js\";\nimport { useResizeObserver } from \"../../hooks/useResizeObserver.js\";\nimport { useDOM } from \"../../lib/dom.js\";\nimport { setRef } from \"../../lib/utils.js\";\nimport { OnboardingTooltipContainer } from \"../OnboardingTooltip/OnboardingTooltipContainer.js\";\nimport { SplitColContext } from \"../SplitCol/SplitColContext.js\";\nconst stylesVertical = {\n  top: \"vkuiFixedLayout__verticalTop\",\n  bottom: classNames(\"vkuiFixedLayout__verticalBottom\", 'vkuiInternalFixedLayout--vertical-bottom')\n};\n/**\n * @see https://vkcom.github.io/VKUI/#/FixedLayout\n */\nexport const FixedLayout = _param => {\n  var {\n      children,\n      style,\n      vertical,\n      getRootRef,\n      filled,\n      className,\n      useParentWidth\n    } = _param,\n    restProps = _object_without_properties(_param, [\"children\", \"style\", \"vertical\", \"getRootRef\", \"filled\", \"className\", \"useParentWidth\"]);\n  const platform = usePlatform();\n  const ref = React.useRef(null);\n  const [width, setWidth] = React.useState(undefined);\n  const {\n    window\n  } = useDOM();\n  const {\n    colRef\n  } = React.useContext(SplitColContext);\n  const parentRef = React.useRef(null);\n  const handleRootRef = useCallback(node => {\n    if (!node) {\n      return;\n    }\n    setRef(node, getRootRef);\n    setRef(node, ref);\n    setRef(node.parentElement, parentRef);\n  }, [getRootRef]);\n  const doResize = () => {\n    if (useParentWidth && parentRef.current) {\n      const parentWidth = parentRef.current.getBoundingClientRect().width;\n      setWidth(parentWidth ? `${parentWidth}px` : undefined);\n    } else if (colRef === null || colRef === void 0 ? void 0 : colRef.current) {\n      const computedStyle = getComputedStyle(colRef.current);\n      setWidth(`${colRef.current.clientWidth - parseFloat(computedStyle.paddingLeft || '0') - parseFloat(computedStyle.paddingRight || '0')}px`);\n    } else {\n      setWidth(undefined);\n    }\n  };\n  React.useEffect(doResize, [colRef, platform, ref, useParentWidth]);\n  useResizeObserver(window, doResize);\n  useResizeObserver(useParentWidth ? parentRef : colRef, doResize);\n  return /*#__PURE__*/_jsx(OnboardingTooltipContainer, _object_spread_props(_object_spread({}, restProps), {\n    fixed: true,\n    ref: handleRootRef,\n    className: classNames(\"vkuiFixedLayout__host\", platform === 'ios' && 'vkuiInternalFixedLayout--ios', filled && \"vkuiFixedLayout__filled\", vertical && stylesVertical[vertical], className),\n    style: _object_spread({\n      width\n    }, style),\n    children: children\n  }));\n};","map":{"version":3,"names":["useCallback","React","classNames","usePlatform","useResizeObserver","useDOM","setRef","OnboardingTooltipContainer","SplitColContext","stylesVertical","top","bottom","FixedLayout","_param","children","style","vertical","getRootRef","filled","className","useParentWidth","restProps","_object_without_properties","platform","ref","useRef","width","setWidth","useState","undefined","window","colRef","useContext","parentRef","handleRootRef","node","parentElement","doResize","current","parentWidth","getBoundingClientRect","computedStyle","getComputedStyle","clientWidth","parseFloat","paddingLeft","paddingRight","useEffect","_jsx","_object_spread_props","_object_spread","fixed"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkui/src/components/FixedLayout/FixedLayout.tsx"],"sourcesContent":["'use client';\n\nimport { useCallback } from 'react';\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { useResizeObserver } from '../../hooks/useResizeObserver';\nimport { useDOM } from '../../lib/dom';\nimport { setRef } from '../../lib/utils';\nimport type { HasComponent, HTMLAttributesWithRootRef } from '../../types';\nimport { OnboardingTooltipContainer } from '../OnboardingTooltip/OnboardingTooltipContainer';\nimport { SplitColContext } from '../SplitCol/SplitColContext';\nimport styles from './FixedLayout.module.css';\n\nconst stylesVertical = {\n  top: styles.verticalTop,\n  bottom: classNames(styles.verticalBottom, 'vkuiInternalFixedLayout--vertical-bottom'),\n};\n\nexport interface FixedLayoutProps extends HTMLAttributesWithRootRef<HTMLDivElement>, HasComponent {\n  vertical?: 'top' | 'bottom';\n  /**\n   * Это свойство определяет, будет ли фон компонента окрашен в цвет фона контента.\n   * Это часто необходимо для фиксированных кнопок в нижней части экрана.\n   */\n  filled?: boolean;\n  /**\n   * Всегда соответствовать ширине родителя.\n   * Ширина пересчитывается по событию `window` `resize`.\n   */\n  useParentWidth?: boolean;\n}\n\nexport interface FixedLayoutState {\n  position: 'absolute' | null;\n  top: number;\n  bottom: number;\n  width: string;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/FixedLayout\n */\nexport const FixedLayout = ({\n  children,\n  style,\n  vertical,\n  getRootRef,\n  filled,\n  className,\n  useParentWidth,\n  ...restProps\n}: FixedLayoutProps): React.ReactNode => {\n  const platform = usePlatform();\n  const ref = React.useRef<HTMLElement | null>(null);\n  const [width, setWidth] = React.useState<string | undefined>(undefined);\n  const { window } = useDOM();\n  const { colRef } = React.useContext(SplitColContext);\n  const parentRef = React.useRef<HTMLElement | null>(null);\n\n  const handleRootRef = useCallback(\n    (node: HTMLElement | null) => {\n      if (!node) {\n        return;\n      }\n\n      setRef(node, getRootRef);\n      setRef(node, ref);\n      setRef(node.parentElement, parentRef);\n    },\n    [getRootRef],\n  );\n\n  const doResize = () => {\n    if (useParentWidth && parentRef.current) {\n      const parentWidth = parentRef.current.getBoundingClientRect().width;\n      setWidth(parentWidth ? `${parentWidth}px` : undefined);\n    } else if (colRef?.current) {\n      const computedStyle = getComputedStyle(colRef.current);\n\n      setWidth(\n        `${\n          colRef.current.clientWidth -\n          parseFloat(computedStyle.paddingLeft || '0') -\n          parseFloat(computedStyle.paddingRight || '0')\n        }px`,\n      );\n    } else {\n      setWidth(undefined);\n    }\n  };\n  React.useEffect(doResize, [colRef, platform, ref, useParentWidth]);\n\n  useResizeObserver(window, doResize);\n  useResizeObserver(useParentWidth ? parentRef : colRef, doResize);\n\n  return (\n    <OnboardingTooltipContainer\n      {...restProps}\n      fixed\n      ref={handleRootRef}\n      className={classNames(\n        styles.host,\n        platform === 'ios' && 'vkuiInternalFixedLayout--ios',\n        filled && styles.filled,\n        vertical && stylesVertical[vertical],\n        className,\n      )}\n      style={{ width, ...style }}\n    >\n      {children}\n    </OnboardingTooltipContainer>\n  );\n};\n"],"mappings":"AAAA;;;;;;AAEA,SAASA,WAAW,QAAQ;AAC5B,YAAYC,KAAA,MAAW;AACvB,SAASC,UAAU,QAAQ;AAC3B,SAASC,WAAW,QAAQ;AAC5B,SAASC,iBAAiB,QAAQ;AAClC,SAASC,MAAM,QAAQ;AACvB,SAASC,MAAM,QAAQ;AAEvB,SAASC,0BAA0B,QAAQ;AAC3C,SAASC,eAAe,QAAQ;AAGhC,MAAMC,cAAA,GAAiB;EACrBC,GAAG;EACHC,MAAA,EAAQT,UAAA,oCAAkC;AAC5C;AAuBA;;;AAGA,OAAO,MAAMU,WAAA,GAAcC,MAAA;MAAC;MAC1BC,QAAQ;MACRC,KAAK;MACLC,QAAQ;MACRC,UAAU;MACVC,MAAM;MACNC,SAAS;MACTC;IAAc,CAEG,GAAAP,MAAA;IADdQ,SAAA,GAAAC,0BAAA,CAAAT,MAAA,GAPH,YACA,SACA,YACA,cACA,UACA,aACA,iB;EAGA,MAAMU,QAAA,GAAWpB,WAAA;EACjB,MAAMqB,GAAA,GAAMvB,KAAA,CAAMwB,MAAM,CAAqB;EAC7C,MAAM,CAACC,KAAA,EAAOC,QAAA,CAAS,GAAG1B,KAAA,CAAM2B,QAAQ,CAAqBC,SAAA;EAC7D,MAAM;IAAEC;EAAM,CAAE,GAAGzB,MAAA;EACnB,MAAM;IAAE0B;EAAM,CAAE,GAAG9B,KAAA,CAAM+B,UAAU,CAACxB,eAAA;EACpC,MAAMyB,SAAA,GAAYhC,KAAA,CAAMwB,MAAM,CAAqB;EAEnD,MAAMS,aAAA,GAAgBlC,WAAA,CACnBmC,IAAA;IACC,IAAI,CAACA,IAAA,EAAM;MACT;IACF;IAEA7B,MAAA,CAAO6B,IAAA,EAAMlB,UAAA;IACbX,MAAA,CAAO6B,IAAA,EAAMX,GAAA;IACblB,MAAA,CAAO6B,IAAA,CAAKC,aAAa,EAAEH,SAAA;EAC7B,GACA,CAAChB,UAAA,CAAW;EAGd,MAAMoB,QAAA,GAAWA,CAAA;IACf,IAAIjB,cAAA,IAAkBa,SAAA,CAAUK,OAAO,EAAE;MACvC,MAAMC,WAAA,GAAcN,SAAA,CAAUK,OAAO,CAACE,qBAAqB,GAAGd,KAAK;MACnEC,QAAA,CAASY,WAAA,GAAc,GAAGA,WAAA,IAAe,GAAGV,SAAA;IAC9C,OAAO,IAAIE,MAAA,aAAAA,MAAA,uBAAAA,MAAA,CAAQO,OAAO,EAAE;MAC1B,MAAMG,aAAA,GAAgBC,gBAAA,CAAiBX,MAAA,CAAOO,OAAO;MAErDX,QAAA,CACE,GACEI,MAAA,CAAOO,OAAO,CAACK,WAAW,GAC1BC,UAAA,CAAWH,aAAA,CAAcI,WAAW,IAAI,OACxCD,UAAA,CAAWH,aAAA,CAAcK,YAAY,IAAI,QACvC;IAER,OAAO;MACLnB,QAAA,CAASE,SAAA;IACX;EACF;EACA5B,KAAA,CAAM8C,SAAS,CAACV,QAAA,EAAU,CAACN,MAAA,EAAQR,QAAA,EAAUC,GAAA,EAAKJ,cAAA,CAAe;EAEjEhB,iBAAA,CAAkB0B,MAAA,EAAQO,QAAA;EAC1BjC,iBAAA,CAAkBgB,cAAA,GAAiBa,SAAA,GAAYF,MAAA,EAAQM,QAAA;EAEvD,oBACEW,IAAA,CAACzC,0BAAA,EAAA0C,oBAAA,CAAAC,cAAA,KACK7B,SAAA;IACJ8B,KAAK;IACL3B,GAAA,EAAKU,aAAA;IACLf,SAAA,EAAWjB,UAAA,0BAETqB,QAAA,KAAa,SAAS,gCACtBL,MAAA,+BACAF,QAAA,IAAYP,cAAc,CAACO,QAAA,CAAS,EACpCG,SAAA;IAEFJ,KAAA,EAAOmC,cAAA;MAAExB;OAAUX,KAAA;cAElBD;;AAGP","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}