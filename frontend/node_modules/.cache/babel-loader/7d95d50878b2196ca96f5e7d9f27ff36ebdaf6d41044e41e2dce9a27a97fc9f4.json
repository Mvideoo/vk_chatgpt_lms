{"ast":null,"code":"import * as React from \"react\";\nimport { arrowMiddleware, autoPlacementMiddleware, flipMiddleware, hideMiddleware, offsetMiddleware, shiftMiddleware, sizeMiddleware } from \"../adapters.js\";\nimport { checkIsNotAutoPlacement, getAutoPlacementAlign } from \"../functions.js\";\nexport const useFloatingMiddlewaresBootstrap = _ref => {\n  let {\n    placement = 'bottom-start',\n    arrowRef = null,\n    arrow,\n    arrowHeight,\n    arrowPadding,\n    sameWidth,\n    offsetByMainAxis = 0,\n    offsetByCrossAxis = 0,\n    customMiddlewares,\n    hideWhenReferenceHidden,\n    disableFlipMiddleware = false,\n    flipMiddlewareFallbackAxisSideDirection = 'start'\n  } = _ref;\n  return React.useMemo(() => {\n    const isAutoPlacement = !checkIsNotAutoPlacement(placement);\n    const middlewares = [offsetMiddleware({\n      crossAxis: offsetByCrossAxis,\n      mainAxis: arrow && arrowHeight ? offsetByMainAxis + arrowHeight : offsetByMainAxis\n    })];\n    // см. https://floating-ui.com/docs/flip#conflict-with-autoplacement\n    if (isAutoPlacement) {\n      middlewares.push(autoPlacementMiddleware({\n        alignment: getAutoPlacementAlign(placement)\n      }));\n    } else if (!disableFlipMiddleware) {\n      middlewares.push(flipMiddleware({\n        fallbackAxisSideDirection: flipMiddlewareFallbackAxisSideDirection,\n        crossAxis: false\n      }));\n    }\n    middlewares.push(shiftMiddleware());\n    if (sameWidth) {\n      middlewares.push(sizeMiddleware({\n        apply(_ref2) {\n          let {\n            rects,\n            elements\n          } = _ref2;\n          Object.assign(elements.floating.style, {\n            width: `${rects.reference.width}px`\n          });\n        }\n      }));\n    }\n    if (customMiddlewares) {\n      middlewares.push(...customMiddlewares);\n    }\n    // см. https://floating-ui.com/docs/arrow#order\n    if (arrow) {\n      middlewares.push(arrowMiddleware({\n        element: arrowRef,\n        padding: arrowPadding\n      }));\n    }\n    if (hideWhenReferenceHidden) {\n      middlewares.push(hideMiddleware());\n    }\n    return {\n      middlewares,\n      strictPlacement: isAutoPlacement ? undefined : placement\n    };\n  }, [placement, offsetByCrossAxis, arrow, arrowHeight, offsetByMainAxis, disableFlipMiddleware, flipMiddlewareFallbackAxisSideDirection, sameWidth, customMiddlewares, hideWhenReferenceHidden, arrowRef, arrowPadding]);\n};","map":{"version":3,"names":["React","arrowMiddleware","autoPlacementMiddleware","flipMiddleware","hideMiddleware","offsetMiddleware","shiftMiddleware","sizeMiddleware","checkIsNotAutoPlacement","getAutoPlacementAlign","useFloatingMiddlewaresBootstrap","_ref","placement","arrowRef","arrow","arrowHeight","arrowPadding","sameWidth","offsetByMainAxis","offsetByCrossAxis","customMiddlewares","hideWhenReferenceHidden","disableFlipMiddleware","flipMiddlewareFallbackAxisSideDirection","useMemo","isAutoPlacement","middlewares","crossAxis","mainAxis","push","alignment","fallbackAxisSideDirection","apply","_ref2","rects","elements","Object","assign","floating","style","width","reference","element","padding","strictPlacement","undefined"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkui/src/lib/floating/useFloatingMiddlewaresBootstrap/index.ts"],"sourcesContent":["import * as React from 'react';\nimport {\n  arrowMiddleware,\n  autoPlacementMiddleware,\n  flipMiddleware,\n  type FlipMiddlewareOptions,\n  hideMiddleware,\n  offsetMiddleware,\n  shiftMiddleware,\n  sizeMiddleware,\n} from '../adapters';\nimport { checkIsNotAutoPlacement, getAutoPlacementAlign } from '../functions';\nimport {\n  type ArrowOptions,\n  type Placement,\n  type PlacementWithAuto,\n  type UseFloatingMiddleware,\n} from '../types/common';\n\nexport interface UseFloatingMiddlewaresBootstrapOptions {\n  /**\n   * По умолчанию компонент выберет наилучшее расположение сам, но приоритетное можно задать с помощью этого свойства.\n   */\n  placement?: PlacementWithAuto;\n  /**\n   * Указанное значение `placement` форсируется, даже если для выпадающего элемента недостаточно места.\n   * Не оказывает влияния при `placement` значениях - `'auto' | 'auto-start' | 'auto-end'`\n   */\n  disableFlipMiddleware?: boolean;\n  flipMiddlewareFallbackAxisSideDirection?: FlipMiddlewareOptions['fallbackAxisSideDirection'];\n  /**\n   * Отступ по главной оси.\n   */\n  offsetByMainAxis?: number;\n  /**\n   * Отступ по вспомогательной оси.\n   */\n  offsetByCrossAxis?: number;\n  arrowRef?: ArrowOptions['element'];\n  /**\n   * Отображать ли стрелку, указывающую на якорный элемент.\n   */\n  arrow?: boolean;\n  /**\n   * Высота стрелки. Складывается с `mainAxis`, чтобы стрелка не залезала на якорный элемент.\n   */\n  arrowHeight?: number;\n  /**\n   * Безопасная зона вокруг стрелки, чтобы та не выходила за края контента.\n   */\n  arrowPadding?: number;\n  /**\n   * Выставлять ширину равной target элементу.\n   */\n  sameWidth?: boolean;\n  /**\n   * Массив кастомных модификаторов для Popper (необходимо мемоизировать).\n   */\n  customMiddlewares?: UseFloatingMiddleware[];\n  /**\n   * Принудительно скрывает компонент если целевой элемент вышел за область видимости.\n   */\n  hideWhenReferenceHidden?: boolean;\n}\n\nexport const useFloatingMiddlewaresBootstrap = ({\n  placement = 'bottom-start',\n  arrowRef = null,\n  arrow,\n  arrowHeight,\n  arrowPadding,\n  sameWidth,\n  offsetByMainAxis = 0,\n  offsetByCrossAxis = 0,\n  customMiddlewares,\n  hideWhenReferenceHidden,\n  disableFlipMiddleware = false,\n  flipMiddlewareFallbackAxisSideDirection = 'start',\n}: UseFloatingMiddlewaresBootstrapOptions): {\n  middlewares: UseFloatingMiddleware[];\n  strictPlacement: Placement | undefined;\n} => {\n  return React.useMemo(() => {\n    const isAutoPlacement = !checkIsNotAutoPlacement(placement);\n    const middlewares: UseFloatingMiddleware[] = [\n      offsetMiddleware({\n        crossAxis: offsetByCrossAxis,\n        mainAxis: arrow && arrowHeight ? offsetByMainAxis + arrowHeight : offsetByMainAxis,\n      }),\n    ];\n\n    // см. https://floating-ui.com/docs/flip#conflict-with-autoplacement\n    if (isAutoPlacement) {\n      middlewares.push(autoPlacementMiddleware({ alignment: getAutoPlacementAlign(placement) }));\n    } else if (!disableFlipMiddleware) {\n      middlewares.push(\n        flipMiddleware({\n          fallbackAxisSideDirection: flipMiddlewareFallbackAxisSideDirection,\n          crossAxis: false,\n        }),\n      );\n    }\n\n    middlewares.push(shiftMiddleware());\n\n    if (sameWidth) {\n      middlewares.push(\n        sizeMiddleware({\n          apply({ rects, elements }) {\n            Object.assign(elements.floating.style, {\n              width: `${rects.reference.width}px`,\n            });\n          },\n        }),\n      );\n    }\n\n    if (customMiddlewares) {\n      middlewares.push(...customMiddlewares);\n    }\n\n    // см. https://floating-ui.com/docs/arrow#order\n    if (arrow) {\n      middlewares.push(\n        arrowMiddleware({\n          element: arrowRef,\n          padding: arrowPadding,\n        }),\n      );\n    }\n\n    if (hideWhenReferenceHidden) {\n      middlewares.push(hideMiddleware());\n    }\n\n    return { middlewares, strictPlacement: isAutoPlacement ? undefined : placement };\n  }, [\n    placement,\n    offsetByCrossAxis,\n    arrow,\n    arrowHeight,\n    offsetByMainAxis,\n    disableFlipMiddleware,\n    flipMiddlewareFallbackAxisSideDirection,\n    sameWidth,\n    customMiddlewares,\n    hideWhenReferenceHidden,\n    arrowRef,\n    arrowPadding,\n  ]);\n};\n"],"mappings":"AAAA,YAAYA,KAAA,MAAW;AACvB,SACEC,eAAe,EACfC,uBAAuB,EACvBC,cAAc,EAEdC,cAAc,EACdC,gBAAgB,EAChBC,eAAe,EACfC,cAAc,QACT;AACP,SAASC,uBAAuB,EAAEC,qBAAqB,QAAQ;AAsD/D,OAAO,MAAMC,+BAAA,GAAkCC,IAAA,IAaN;EAAA,IAbO;IAC9CC,SAAA,GAAY,cAAc;IAC1BC,QAAA,GAAW,IAAI;IACfC,KAAK;IACLC,WAAW;IACXC,YAAY;IACZC,SAAS;IACTC,gBAAA,GAAmB,CAAC;IACpBC,iBAAA,GAAoB,CAAC;IACrBC,iBAAiB;IACjBC,uBAAuB;IACvBC,qBAAA,GAAwB,KAAK;IAC7BC,uCAAA,GAA0C;EAAO,CACV,GAAAZ,IAAA;EAIvC,OAAOX,KAAA,CAAMwB,OAAO,CAAC;IACnB,MAAMC,eAAA,GAAkB,CAACjB,uBAAA,CAAwBI,SAAA;IACjD,MAAMc,WAAA,GAAuC,CAC3CrB,gBAAA,CAAiB;MACfsB,SAAA,EAAWR,iBAAA;MACXS,QAAA,EAAUd,KAAA,IAASC,WAAA,GAAcG,gBAAA,GAAmBH,WAAA,GAAcG;IACpE,GACD;IAED;IACA,IAAIO,eAAA,EAAiB;MACnBC,WAAA,CAAYG,IAAI,CAAC3B,uBAAA,CAAwB;QAAE4B,SAAA,EAAWrB,qBAAA,CAAsBG,SAAA;MAAW;IACzF,OAAO,IAAI,CAACU,qBAAA,EAAuB;MACjCI,WAAA,CAAYG,IAAI,CACd1B,cAAA,CAAe;QACb4B,yBAAA,EAA2BR,uCAAA;QAC3BI,SAAA,EAAW;MACb;IAEJ;IAEAD,WAAA,CAAYG,IAAI,CAACvB,eAAA;IAEjB,IAAIW,SAAA,EAAW;MACbS,WAAA,CAAYG,IAAI,CACdtB,cAAA,CAAe;QACbyB,MAAAC,KAAA,EAAyB;UAAA,IAAnB;YAAEC,KAAK;YAAEC;UAAQ,CAAE,GAAAF,KAAA;UACvBG,MAAA,CAAOC,MAAM,CAACF,QAAA,CAASG,QAAQ,CAACC,KAAK,EAAE;YACrCC,KAAA,EAAO,GAAGN,KAAA,CAAMO,SAAS,CAACD,KAAK;UACjC;QACF;MACF;IAEJ;IAEA,IAAIpB,iBAAA,EAAmB;MACrBM,WAAA,CAAYG,IAAI,IAAIT,iBAAA;IACtB;IAEA;IACA,IAAIN,KAAA,EAAO;MACTY,WAAA,CAAYG,IAAI,CACd5B,eAAA,CAAgB;QACdyC,OAAA,EAAS7B,QAAA;QACT8B,OAAA,EAAS3B;MACX;IAEJ;IAEA,IAAIK,uBAAA,EAAyB;MAC3BK,WAAA,CAAYG,IAAI,CAACzB,cAAA;IACnB;IAEA,OAAO;MAAEsB,WAAA;MAAakB,eAAA,EAAiBnB,eAAA,GAAkBoB,SAAA,GAAYjC;IAAU;EACjF,GAAG,CACDA,SAAA,EACAO,iBAAA,EACAL,KAAA,EACAC,WAAA,EACAG,gBAAA,EACAI,qBAAA,EACAC,uCAAA,EACAN,SAAA,EACAG,iBAAA,EACAC,uBAAA,EACAR,QAAA,EACAG,YAAA,CACD;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}