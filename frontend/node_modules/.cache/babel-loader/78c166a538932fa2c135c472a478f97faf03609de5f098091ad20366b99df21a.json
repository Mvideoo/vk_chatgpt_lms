{"ast":null,"code":"'use client';\n\nimport { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { classNames } from \"@vkontakte/vkjs\";\nimport { useConfigDirection } from \"../../hooks/useConfigDirection.js\";\nimport { useExternRef } from \"../../hooks/useExternRef.js\";\nimport { useFocusWithin } from \"../../hooks/useFocusWithin.js\";\nimport { useGlobalEscKeyDown } from \"../../hooks/useGlobalEscKeyDown.js\";\nimport { useMediaQueries } from \"../../hooks/useMediaQueries.js\";\nimport { usePlatform } from \"../../hooks/usePlatform.js\";\nimport { useCSSKeyframesAnimationController } from \"../../lib/animation/index.js\";\nimport { getRelativeBoundingClientRect } from \"../../lib/dom.js\";\nimport { UIPanGestureRecognizer } from \"../../lib/touch/index.js\";\nimport { useIsomorphicLayoutEffect } from \"../../lib/useIsomorphicLayoutEffect.js\";\nimport { Button } from \"../Button/Button.js\";\nimport { RootComponent } from \"../RootComponent/RootComponent.js\";\nimport { Basic } from \"./subcomponents/Basic/Basic.js\";\nimport { getInitialShiftData, getMovedShiftData, resolveOffsetYCssStyle, shouldBeClosedByShiftData } from \"./utils.js\";\nconst placementClassNames = {\n  'top-start': \"vkuiSnackbar__placementTopStart\",\n  'top': \"vkuiSnackbar__placementTop\",\n  'top-end': \"vkuiSnackbar__placementTopEnd\",\n  'bottom-start': \"vkuiSnackbar__placementBottomStart\",\n  'bottom': \"vkuiSnackbar__placementBottom\",\n  'bottom-end': \"vkuiSnackbar__placementBottomEnd\"\n};\nconst animationStateClassNames = {\n  enter: \"vkuiSnackbar__stateEnter\",\n  entering: \"vkuiSnackbar__stateEntering\",\n  entered: \"vkuiSnackbar__stateEntered\",\n  exit: \"vkuiSnackbar__stateExit\",\n  exiting: \"vkuiSnackbar__stateExiting\",\n  exited: undefined\n};\n/**\n * @see https://vkcom.github.io/VKUI/#/Snackbar\n */\nexport const Snackbar = _param => {\n  var {\n      placement = 'bottom-start',\n      children,\n      layout,\n      action,\n      before,\n      after,\n      duration = 4000,\n      onActionClick,\n      onClose,\n      mode = 'default',\n      subtitle,\n      offsetY,\n      getRootRef\n    } = _param,\n    restProps = _object_without_properties(_param, [\"placement\", \"children\", \"layout\", \"action\", \"before\", \"after\", \"duration\", \"onActionClick\", \"onClose\", \"mode\", \"subtitle\", \"offsetY\", \"getRootRef\"]);\n  const platform = usePlatform();\n  const [open, setOpen] = React.useState(true);\n  const [touched, setTouched] = React.useState(false);\n  const direction = useConfigDirection();\n  const isRtl = direction === 'rtl';\n  const rootRef = useExternRef(getRootRef);\n  const focused = useFocusWithin(rootRef);\n  const inRef = React.useRef(null);\n  const panGestureRecognizer = React.useRef(null);\n  const shiftDataRef = React.useRef(null);\n  const rafRef = React.useRef(null);\n  const closeTimeoutIdRef = React.useRef(undefined);\n  const mediaQueries = useMediaQueries();\n  const [animationState, animationHandlers] = useCSSKeyframesAnimationController(open ? 'enter' : 'exit', {\n    onExited: onClose\n  });\n  const clearRAF = React.useCallback(() => {\n    if (rafRef.current !== null) {\n      cancelAnimationFrame(rafRef.current);\n      rafRef.current = null;\n    }\n  }, []);\n  const updateShiftAxisCSSProperties = React.useCallback((x, y, direction) => {\n    rafRef.current = requestAnimationFrame(() => {\n      if (rootRef.current) {\n        x === null ? rootRef.current.style.removeProperty('--vkui_internal--snackbar_shift_x') : rootRef.current.style.setProperty('--vkui_internal--snackbar_shift_x', `${x}px`);\n        y === null ? rootRef.current.style.removeProperty('--vkui_internal--snackbar_shift_y') : rootRef.current.style.setProperty('--vkui_internal--snackbar_shift_y', `${y}px`);\n        direction === null ? rootRef.current.style.removeProperty('--vkui_internal--snackbar_direction') : /* istanbul ignore next: TODO чтобы протестировать кейс, нужно мокать useMediaQueries(), чтобы перебивать mediaQueries.smallTabletPlus.matches */rootRef.current.style.setProperty('--vkui_internal--snackbar_direction', `${direction}`);\n      }\n    });\n  }, [rootRef]);\n  const close = React.useCallback(() => {\n    setOpen(false);\n  }, []);\n  const handleActionClick = event => {\n    close();\n    if (action) {\n      onActionClick === null || onActionClick === void 0 ? void 0 : onActionClick(event);\n    }\n  };\n  const handleTouchStart = event => {\n    panGestureRecognizer.current = new UIPanGestureRecognizer();\n    panGestureRecognizer.current.setStartCoords(event.nativeEvent);\n    shiftDataRef.current = getInitialShiftData(rootRef.current.offsetWidth, rootRef.current.offsetHeight, mediaQueries);\n    setTouched(true);\n  };\n  const handleTouchMove = event => {\n    if (shiftDataRef.current && panGestureRecognizer.current) {\n      panGestureRecognizer.current.setInitialTimeOnce();\n      panGestureRecognizer.current.setEndCoords(event.nativeEvent);\n      shiftDataRef.current = getMovedShiftData(placement, shiftDataRef.current, panGestureRecognizer.current.delta(), isRtl);\n      if (shiftDataRef.current.shifted) {\n        updateShiftAxisCSSProperties(shiftDataRef.current.x, shiftDataRef.current.y, shiftDataRef.current.direction);\n      }\n    }\n  };\n  const handleTouchEnd = () => {\n    if (touched && shiftDataRef.current && panGestureRecognizer.current && shouldBeClosedByShiftData(placement, shiftDataRef.current, getRelativeBoundingClientRect(rootRef.current, inRef.current), panGestureRecognizer.current.velocity(), isRtl)) {\n      close();\n    }\n    setTouched(false);\n  };\n  useIsomorphicLayoutEffect(function closeAfterDelay() {\n    if (!open || focused || touched || animationState !== 'entered') {\n      return;\n    }\n    closeTimeoutIdRef.current = setTimeout(close, duration);\n    return function preventCloseAfterDelayOnUnmount() {\n      clearTimeout(closeTimeoutIdRef.current);\n    };\n  }, [open, focused, touched, animationState, close, duration]);\n  useIsomorphicLayoutEffect(function clearUserInteractionDataAfterTouchEnd() {\n    if (!touched) {\n      clearRAF();\n      shiftDataRef.current = null;\n      panGestureRecognizer.current = null;\n      if (open) {\n        updateShiftAxisCSSProperties(null, null, null);\n      }\n    }\n  }, [touched, open, updateShiftAxisCSSProperties, clearRAF]);\n  React.useEffect(() => clearRAF, [clearRAF]);\n  useGlobalEscKeyDown(open, close);\n  if (animationState === 'exited') {\n    return null;\n  }\n  return /*#__PURE__*/_jsx(RootComponent, _object_spread_props(_object_spread({}, restProps), {\n    role: \"presentation\",\n    baseClassName: classNames(\"vkuiSnackbar__host\", platform === 'ios' && \"vkuiSnackbar__ios\", touched && \"vkuiSnackbar__touched\", placementClassNames[placement], animationStateClassNames[animationState], isRtl && \"vkuiSnackbar__rtl\"),\n    baseStyle: resolveOffsetYCssStyle(placement, offsetY),\n    getRootRef: rootRef,\n    children: /*#__PURE__*/_jsx(\"div\", _object_spread_props(_object_spread({\n      role: \"alert\",\n      className: \"vkuiSnackbar__in\",\n      ref: inRef,\n      // mobile\n      onTouchStart: handleTouchStart,\n      onTouchMove: handleTouchMove,\n      onTouchEnd: handleTouchEnd,\n      // desktop\n      onMouseDown: handleTouchStart,\n      onMouseMove: handleTouchMove,\n      onMouseUp: handleTouchEnd,\n      onMouseLeave: handleTouchEnd\n    }, animationHandlers), {\n      children: /*#__PURE__*/_jsx(Basic, {\n        mode: mode,\n        layout: layout,\n        before: before,\n        after: after,\n        subtitle: subtitle,\n        action: action && /*#__PURE__*/_jsx(Button, {\n          align: \"left\",\n          mode: \"link\",\n          appearance: mode === 'dark' ? /* istanbul ignore next: проверяется в e2e */'overlay' : 'accent',\n          size: \"s\",\n          onClick: handleActionClick,\n          children: action\n        }),\n        children: children\n      })\n    }))\n  }));\n};\nSnackbar.Basic = Basic;","map":{"version":3,"names":["React","classNames","useConfigDirection","useExternRef","useFocusWithin","useGlobalEscKeyDown","useMediaQueries","usePlatform","useCSSKeyframesAnimationController","getRelativeBoundingClientRect","UIPanGestureRecognizer","useIsomorphicLayoutEffect","Button","RootComponent","Basic","getInitialShiftData","getMovedShiftData","resolveOffsetYCssStyle","shouldBeClosedByShiftData","placementClassNames","animationStateClassNames","enter","entering","entered","exit","exiting","exited","undefined","Snackbar","_param","placement","children","layout","action","before","after","duration","onActionClick","onClose","mode","subtitle","offsetY","getRootRef","restProps","_object_without_properties","platform","open","setOpen","useState","touched","setTouched","direction","isRtl","rootRef","focused","inRef","useRef","panGestureRecognizer","shiftDataRef","rafRef","closeTimeoutIdRef","mediaQueries","animationState","animationHandlers","onExited","clearRAF","useCallback","current","cancelAnimationFrame","updateShiftAxisCSSProperties","x","y","requestAnimationFrame","style","removeProperty","setProperty","close","handleActionClick","event","handleTouchStart","setStartCoords","nativeEvent","offsetWidth","offsetHeight","handleTouchMove","setInitialTimeOnce","setEndCoords","delta","shifted","handleTouchEnd","velocity","closeAfterDelay","setTimeout","preventCloseAfterDelayOnUnmount","clearTimeout","clearUserInteractionDataAfterTouchEnd","useEffect","_jsx","_object_spread_props","_object_spread","role","baseClassName","baseStyle","className","ref","onTouchStart","onTouchMove","onTouchEnd","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","align","appearance","size","onClick"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkui/src/components/Snackbar/Snackbar.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useConfigDirection } from '../../hooks/useConfigDirection';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useFocusWithin } from '../../hooks/useFocusWithin';\nimport { useGlobalEscKeyDown } from '../../hooks/useGlobalEscKeyDown';\nimport { useMediaQueries } from '../../hooks/useMediaQueries';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { useCSSKeyframesAnimationController } from '../../lib/animation';\nimport { getRelativeBoundingClientRect } from '../../lib/dom';\nimport { UIPanGestureRecognizer } from '../../lib/touch';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { Button } from '../Button/Button';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Basic, type BasicProps } from './subcomponents/Basic/Basic';\nimport type { ShiftData, SnackbarPlacement } from './types';\nimport {\n  getInitialShiftData,\n  getMovedShiftData,\n  resolveOffsetYCssStyle,\n  shouldBeClosedByShiftData,\n} from './utils';\nimport styles from './Snackbar.module.css';\n\nconst placementClassNames = {\n  'top-start': styles.placementTopStart,\n  'top': styles.placementTop,\n  'top-end': styles.placementTopEnd,\n  'bottom-start': styles.placementBottomStart,\n  'bottom': styles.placementBottom,\n  'bottom-end': styles.placementBottomEnd,\n};\n\nconst animationStateClassNames = {\n  enter: styles.stateEnter,\n  entering: styles.stateEntering,\n  entered: styles.stateEntered,\n  exit: styles.stateExit,\n  exiting: styles.stateExiting,\n  exited: undefined,\n};\n\nexport interface SnackbarProps\n  extends Omit<HTMLAttributesWithRootRef<HTMLDivElement>, 'role'>,\n    BasicProps {\n  /**\n   * Задаёт расположение компонента.\n   *\n   * > Note: в мобильном режиме:\n   * > - `\"top-start\"`/`\"top-end\"` перебивается на `\"top\"`, чтобы поведение было схожим с нативными\n   * >   уведомлениями;\n   * > - `\"bottom\"` перебивается на `\"bottom-start\"`, чтобы избежать вызова системных\n   * >   функций, таких как **Pull To Refresh** и **Режим управления одной рукой**.\n   * > - `\"bottom-start\"`/`\"bottom-end\"` закрываются смахиванием в любое из направлений\n   * >   по горизонтальной оси.\n   */\n  placement?: SnackbarPlacement;\n  /**\n   * Название кнопки действия в уведомлении\n   * Не может использоваться одновременно с `subtitle`\n   */\n  action?: React.ReactNode;\n  /**\n   * Будет вызвано при клике на кнопку действия\n   */\n  onActionClick?: (event: React.MouseEvent) => void;\n  /**\n   * Время в миллисекундах, через которое плашка скроется\n   */\n  duration?: number;\n  /**\n   * Обработчик закрытия уведомления\n   */\n  onClose: () => void;\n  /**\n   * Величина отступа снизу. Используется для позиционирования элемента в случае, когда нежелательно, чтобы Snackbar при появлении перекрывал важные элементы интерфейса.\n   */\n  offsetY?: React.CSSProperties['bottom'];\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/Snackbar\n */\nexport const Snackbar: React.FC<SnackbarProps> & { Basic: typeof Basic } = ({\n  placement = 'bottom-start',\n  children,\n  layout,\n  action,\n  before,\n  after,\n  duration = 4000,\n  onActionClick,\n  onClose,\n  mode = 'default',\n  subtitle,\n  offsetY,\n  getRootRef,\n  ...restProps\n}: SnackbarProps) => {\n  const platform = usePlatform();\n\n  const [open, setOpen] = React.useState(true);\n  const [touched, setTouched] = React.useState(false);\n\n  const direction = useConfigDirection();\n  const isRtl = direction === 'rtl';\n\n  const rootRef = useExternRef(getRootRef);\n  const focused = useFocusWithin(rootRef);\n  const inRef = React.useRef<HTMLDivElement>(null);\n  const panGestureRecognizer = React.useRef<UIPanGestureRecognizer | null>(null);\n\n  const shiftDataRef = React.useRef<ShiftData | null>(null);\n\n  const rafRef = React.useRef<ReturnType<typeof requestAnimationFrame> | null>(null);\n  const closeTimeoutIdRef = React.useRef<ReturnType<typeof setTimeout> | undefined>(undefined);\n  const mediaQueries = useMediaQueries();\n  const [animationState, animationHandlers] = useCSSKeyframesAnimationController(\n    open ? 'enter' : 'exit',\n    {\n      onExited: onClose,\n    },\n  );\n\n  const clearRAF = React.useCallback(() => {\n    if (rafRef.current !== null) {\n      cancelAnimationFrame(rafRef.current);\n      rafRef.current = null;\n    }\n  }, []);\n\n  const updateShiftAxisCSSProperties = React.useCallback(\n    (x: number | null, y: number | null, direction: number | null) => {\n      rafRef.current = requestAnimationFrame(() => {\n        if (rootRef.current) {\n          x === null\n            ? rootRef.current.style.removeProperty('--vkui_internal--snackbar_shift_x')\n            : rootRef.current.style.setProperty('--vkui_internal--snackbar_shift_x', `${x}px`);\n          y === null\n            ? rootRef.current.style.removeProperty('--vkui_internal--snackbar_shift_y')\n            : rootRef.current.style.setProperty('--vkui_internal--snackbar_shift_y', `${y}px`);\n          direction === null\n            ? rootRef.current.style.removeProperty('--vkui_internal--snackbar_direction')\n            : /* istanbul ignore next: TODO чтобы протестировать кейс, нужно мокать useMediaQueries(), чтобы перебивать mediaQueries.smallTabletPlus.matches */\n              rootRef.current.style.setProperty(\n                '--vkui_internal--snackbar_direction',\n                `${direction}`,\n              );\n        }\n      });\n    },\n    [rootRef],\n  );\n\n  const close = React.useCallback(() => {\n    setOpen(false);\n  }, []);\n\n  const handleActionClick = (event: React.MouseEvent) => {\n    close();\n    if (action) {\n      onActionClick?.(event);\n    }\n  };\n\n  const handleTouchStart = (event: React.UIEvent<HTMLDivElement>) => {\n    panGestureRecognizer.current = new UIPanGestureRecognizer();\n    panGestureRecognizer.current.setStartCoords(event.nativeEvent);\n    shiftDataRef.current = getInitialShiftData(\n      rootRef.current!.offsetWidth,\n      rootRef.current!.offsetHeight,\n      mediaQueries,\n    );\n    setTouched(true);\n  };\n\n  const handleTouchMove = (event: React.UIEvent<HTMLDivElement>) => {\n    if (shiftDataRef.current && panGestureRecognizer.current) {\n      panGestureRecognizer.current.setInitialTimeOnce();\n      panGestureRecognizer.current.setEndCoords(event.nativeEvent);\n      shiftDataRef.current = getMovedShiftData(\n        placement,\n        shiftDataRef.current,\n        panGestureRecognizer.current.delta(),\n        isRtl,\n      );\n\n      if (shiftDataRef.current.shifted) {\n        updateShiftAxisCSSProperties(\n          shiftDataRef.current.x,\n          shiftDataRef.current.y,\n          shiftDataRef.current.direction,\n        );\n      }\n    }\n  };\n\n  const handleTouchEnd = () => {\n    if (\n      touched &&\n      shiftDataRef.current &&\n      panGestureRecognizer.current &&\n      shouldBeClosedByShiftData(\n        placement,\n        shiftDataRef.current,\n        getRelativeBoundingClientRect(rootRef.current!, inRef.current!),\n        panGestureRecognizer.current.velocity(),\n        isRtl,\n      )\n    ) {\n      close();\n    }\n\n    setTouched(false);\n  };\n\n  useIsomorphicLayoutEffect(\n    function closeAfterDelay() {\n      if (!open || focused || touched || animationState !== 'entered') {\n        return;\n      }\n      closeTimeoutIdRef.current = setTimeout(close, duration);\n      return function preventCloseAfterDelayOnUnmount() {\n        clearTimeout(closeTimeoutIdRef.current);\n      };\n    },\n    [open, focused, touched, animationState, close, duration],\n  );\n\n  useIsomorphicLayoutEffect(\n    function clearUserInteractionDataAfterTouchEnd() {\n      if (!touched) {\n        clearRAF();\n        shiftDataRef.current = null;\n        panGestureRecognizer.current = null;\n\n        if (open) {\n          updateShiftAxisCSSProperties(null, null, null);\n        }\n      }\n    },\n    [touched, open, updateShiftAxisCSSProperties, clearRAF],\n  );\n\n  React.useEffect(() => clearRAF, [clearRAF]);\n\n  useGlobalEscKeyDown(open, close);\n\n  if (animationState === 'exited') {\n    return null;\n  }\n\n  return (\n    <RootComponent\n      {...restProps}\n      role=\"presentation\"\n      baseClassName={classNames(\n        styles.host,\n        platform === 'ios' && styles.ios,\n        touched && styles.touched,\n        placementClassNames[placement],\n        animationStateClassNames[animationState],\n        isRtl && styles.rtl,\n      )}\n      baseStyle={resolveOffsetYCssStyle(placement, offsetY)}\n      getRootRef={rootRef}\n    >\n      <div\n        role=\"alert\"\n        className={styles.in}\n        ref={inRef}\n        // mobile\n        onTouchStart={handleTouchStart}\n        onTouchMove={handleTouchMove}\n        onTouchEnd={handleTouchEnd}\n        // desktop\n        onMouseDown={handleTouchStart}\n        onMouseMove={handleTouchMove}\n        onMouseUp={handleTouchEnd}\n        onMouseLeave={handleTouchEnd}\n        {...animationHandlers}\n      >\n        <Basic\n          mode={mode}\n          layout={layout}\n          before={before}\n          after={after}\n          subtitle={subtitle}\n          action={\n            action && (\n              <Button\n                align=\"left\"\n                mode=\"link\"\n                appearance={\n                  mode === 'dark'\n                    ? /* istanbul ignore next: проверяется в e2e */\n                      'overlay'\n                    : 'accent'\n                }\n                size=\"s\"\n                onClick={handleActionClick}\n              >\n                {action}\n              </Button>\n            )\n          }\n        >\n          {children}\n        </Basic>\n      </div>\n    </RootComponent>\n  );\n};\n\nSnackbar.Basic = Basic;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}