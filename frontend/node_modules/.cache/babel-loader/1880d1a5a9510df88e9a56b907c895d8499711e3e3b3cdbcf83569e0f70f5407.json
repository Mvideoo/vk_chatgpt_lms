{"ast":null,"code":"'use client';\n\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { noop } from \"@vkontakte/vkjs\";\nimport { warnOnce } from \"../../lib/warnOnce.js\";\nimport { AppRootPortal } from \"../AppRoot/AppRootPortal.js\";\nimport { ModalOverlay } from \"../ModalOverlay/ModalOverlay.js\";\nimport { ModalRootContext, ModalRootOverlayContext } from \"./ModalRootContext.js\";\nconst warn = warnOnce('ModalRoot');\n/**\n * @see https://vkcom.github.io/VKUI/#/ModalRoot\n */\nexport const ModalRoot = _ref => {\n  let {\n    activeModal,\n    children,\n    modalOverlayTestId,\n    noFocusToDialog,\n    usePortal,\n    onOpen,\n    onOpened,\n    onClose,\n    onClosed\n  } = _ref;\n  const contextValue = React.useMemo(() => ({\n    isInsideModal: true,\n    // base props\n    activeModal,\n    modalOverlayTestId,\n    noFocusToDialog,\n    // callbacks\n    onOpen,\n    onOpened,\n    onClose,\n    onClosed,\n    // TODO [>=8] Удалить метод\n    updateModalHeight: /* istanbul ignore next: deprecated */process.env.NODE_ENV === 'development' ? () => {\n      warn('Метод updateModalHeight() устарел и будет удалён в VKUI v8');\n    } : noop,\n    // TODO [>=8] Удалить метод\n    registerModal: /* istanbul ignore next: deprecated */process.env.NODE_ENV === 'development' ? () => {\n      warn('Метод registerModal() устарел и будет удалён в VKUI v8');\n    } : noop\n  }), [activeModal, modalOverlayTestId, noFocusToDialog, onClose, onClosed, onOpen, onOpened]);\n  const modalOverlayRef = React.useRef(null);\n  return /*#__PURE__*/_jsx(AppRootPortal, {\n    usePortal: usePortal,\n    children: /*#__PURE__*/_jsx(ModalRootContext.Provider, {\n      value: contextValue,\n      children: /*#__PURE__*/_jsxs(ModalRootOverlayContext.Provider, {\n        value: modalOverlayRef,\n        children: [/*#__PURE__*/_jsx(ModalOverlay, {\n          position: \"fixed\",\n          visible: typeof activeModal === 'string',\n          getRootRef: modalOverlayRef\n        }), children]\n      })\n    })\n  });\n};","map":{"version":3,"names":["React","noop","warnOnce","AppRootPortal","ModalOverlay","ModalRootContext","ModalRootOverlayContext","warn","ModalRoot","_ref","activeModal","children","modalOverlayTestId","noFocusToDialog","usePortal","onOpen","onOpened","onClose","onClosed","contextValue","useMemo","isInsideModal","updateModalHeight","process","env","NODE_ENV","registerModal","modalOverlayRef","useRef","_jsx","Provider","value","_jsxs","position","visible","getRootRef"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkui/src/components/ModalRoot/ModalRoot.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { noop } from '@vkontakte/vkjs';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { AppRootPortal } from '../AppRoot/AppRootPortal';\nimport { ModalOverlay } from '../ModalOverlay/ModalOverlay';\nimport { ModalRootContext, ModalRootOverlayContext } from './ModalRootContext';\nimport type { ModalRootProps } from './types';\n\nconst warn = warnOnce('ModalRoot');\n/**\n * @see https://vkcom.github.io/VKUI/#/ModalRoot\n */\nexport const ModalRoot = ({\n  activeModal,\n  children,\n  modalOverlayTestId,\n  noFocusToDialog,\n  usePortal,\n  onOpen,\n  onOpened,\n  onClose,\n  onClosed,\n}: ModalRootProps): React.ReactNode => {\n  const contextValue = React.useMemo(\n    () => ({\n      isInsideModal: true,\n\n      // base props\n      activeModal,\n      modalOverlayTestId,\n      noFocusToDialog,\n\n      // callbacks\n      onOpen,\n      onOpened,\n      onClose,\n      onClosed,\n\n      // TODO [>=8] Удалить метод\n      updateModalHeight:\n        /* istanbul ignore next: deprecated */\n        process.env.NODE_ENV === 'development'\n          ? () => {\n              warn('Метод updateModalHeight() устарел и будет удалён в VKUI v8');\n            }\n          : noop,\n\n      // TODO [>=8] Удалить метод\n      registerModal:\n        /* istanbul ignore next: deprecated */\n        process.env.NODE_ENV === 'development'\n          ? () => {\n              warn('Метод registerModal() устарел и будет удалён в VKUI v8');\n            }\n          : noop,\n    }),\n    [activeModal, modalOverlayTestId, noFocusToDialog, onClose, onClosed, onOpen, onOpened],\n  );\n  const modalOverlayRef = React.useRef<HTMLDivElement>(null);\n  return (\n    <AppRootPortal usePortal={usePortal}>\n      <ModalRootContext.Provider value={contextValue}>\n        <ModalRootOverlayContext.Provider value={modalOverlayRef}>\n          <ModalOverlay\n            position=\"fixed\"\n            visible={typeof activeModal === 'string'}\n            getRootRef={modalOverlayRef}\n          />\n          {children}\n        </ModalRootOverlayContext.Provider>\n      </ModalRootContext.Provider>\n    </AppRootPortal>\n  );\n};\n"],"mappings":"AAAA;;;AAEA,YAAYA,KAAA,MAAW;AACvB,SAASC,IAAI,QAAQ;AACrB,SAASC,QAAQ,QAAQ;AACzB,SAASC,aAAa,QAAQ;AAC9B,SAASC,YAAY,QAAQ;AAC7B,SAASC,gBAAgB,EAAEC,uBAAuB,QAAQ;AAG1D,MAAMC,IAAA,GAAOL,QAAA,CAAS;AACtB;;;AAGA,OAAO,MAAMM,SAAA,GAAYC,IAAA,IAUR;EAAA,IAVS;IACxBC,WAAW;IACXC,QAAQ;IACRC,kBAAkB;IAClBC,eAAe;IACfC,SAAS;IACTC,MAAM;IACNC,QAAQ;IACRC,OAAO;IACPC;EAAQ,CACO,GAAAT,IAAA;EACf,MAAMU,YAAA,GAAenB,KAAA,CAAMoB,OAAO,CAChC,OAAO;IACLC,aAAA,EAAe;IAEf;IACAX,WAAA;IACAE,kBAAA;IACAC,eAAA;IAEA;IACAE,MAAA;IACAC,QAAA;IACAC,OAAA;IACAC,QAAA;IAEA;IACAI,iBAAA,EACE,sCACAC,OAAA,CAAQC,GAAG,CAACC,QAAQ,KAAK,gBACrB;MACElB,IAAA,CAAK;IACP,IACAN,IAAA;IAEN;IACAyB,aAAA,EACE,sCACAH,OAAA,CAAQC,GAAG,CAACC,QAAQ,KAAK,gBACrB;MACElB,IAAA,CAAK;IACP,IACAN;EACR,IACA,CAACS,WAAA,EAAaE,kBAAA,EAAoBC,eAAA,EAAiBI,OAAA,EAASC,QAAA,EAAUH,MAAA,EAAQC,QAAA,CAAS;EAEzF,MAAMW,eAAA,GAAkB3B,KAAA,CAAM4B,MAAM,CAAiB;EACrD,oBACEC,IAAA,CAAC1B,aAAA;IAAcW,SAAA,EAAWA,SAAA;cACxB,aAAAe,IAAA,CAACxB,gBAAA,CAAiByB,QAAQ;MAACC,KAAA,EAAOZ,YAAA;gBAChC,aAAAa,KAAA,CAAC1B,uBAAA,CAAwBwB,QAAQ;QAACC,KAAA,EAAOJ,eAAA;gCACvCE,IAAA,CAACzB,YAAA;UACC6B,QAAA,EAAS;UACTC,OAAA,EAAS,OAAOxB,WAAA,KAAgB;UAChCyB,UAAA,EAAYR;YAEbhB,QAAA;;;;AAKX","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}