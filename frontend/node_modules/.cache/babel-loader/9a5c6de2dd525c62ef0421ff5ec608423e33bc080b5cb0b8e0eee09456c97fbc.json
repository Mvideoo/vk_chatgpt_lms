{"ast":null,"code":"import * as React from \"react\";\nfunction basicStateInitializer(initialArg) {\n  return initialArg instanceof Function ? initialArg() : initialArg;\n}\nfunction initializer(initialArg) {\n  const initialState = basicStateInitializer(initialArg);\n  return [initialState, undefined];\n}\nfunction basicStateReducer(state, action) {\n  return action instanceof Function ? action(state) : action;\n}\nfunction reducer(_ref, action) {\n  let [prevState] = _ref;\n  const newState = basicStateReducer(prevState, action);\n  return [newState, prevState];\n}\n/**\n * Возвращает значение с текущим и предыдущим состоянием\n *\n * # Пример\n *\n * ```ts\n * const [[count, prevCount], setCount] = useStateWithPrev(initialState);\n * ```\n */\nexport function useStateWithPrev(initialState) {\n  return React.useReducer(reducer, undefined, () => initializer(initialState));\n}","map":{"version":3,"names":["React","basicStateInitializer","initialArg","Function","initializer","initialState","undefined","basicStateReducer","state","action","reducer","_ref","prevState","newState","useStateWithPrev","useReducer"],"sources":["/Users/viktoriaromazanova/PycharmProjects/vk_chatgpt/frontend/node_modules/@vkontakte/vkui/src/hooks/useStateWithPrev.ts"],"sourcesContent":["import * as React from 'react';\n\nfunction basicStateInitializer<S>(initialArg: S | (() => S)): S {\n  return initialArg instanceof Function ? initialArg() : initialArg;\n}\n\nfunction initializer<T>(initialArg: T | (() => T)): [T, T | undefined] {\n  const initialState = basicStateInitializer(initialArg);\n\n  return [initialState, undefined];\n}\n\nfunction basicStateReducer<S>(state: S, action: React.SetStateAction<S>): S {\n  return action instanceof Function ? action(state) : action;\n}\n\nfunction reducer<T>(\n  [prevState]: [T, T | undefined],\n  action: React.SetStateAction<T>,\n): [T, T | undefined] {\n  const newState = basicStateReducer(prevState, action);\n\n  return [newState, prevState];\n}\n\n/**\n * Возвращает значение с текущим и предыдущим состоянием\n *\n * # Пример\n *\n * ```ts\n * const [[count, prevCount], setCount] = useStateWithPrev(initialState);\n * ```\n */\nexport function useStateWithPrev<T>(\n  initialState: T | (() => T),\n): [[T, T | undefined], React.Dispatch<React.SetStateAction<T>>] {\n  return React.useReducer(reducer, undefined, () => initializer(initialState));\n}\n"],"mappings":"AAAA,YAAYA,KAAA,MAAW;AAEvB,SAASC,sBAAyBC,UAAyB;EACzD,OAAOA,UAAA,YAAsBC,QAAA,GAAWD,UAAA,KAAeA,UAAA;AACzD;AAEA,SAASE,YAAeF,UAAyB;EAC/C,MAAMG,YAAA,GAAeJ,qBAAA,CAAsBC,UAAA;EAE3C,OAAO,CAACG,YAAA,EAAcC,SAAA,CAAU;AAClC;AAEA,SAASC,kBAAqBC,KAAQ,EAAEC,MAA+B;EACrE,OAAOA,MAAA,YAAkBN,QAAA,GAAWM,MAAA,CAAOD,KAAA,IAASC,MAAA;AACtD;AAEA,SAASC,QAAAC,IAAA,EAEPF,MAA+B;EAAA,IAD/B,CAACG,SAAA,CAA8B,GAAAD,IAAA;EAG/B,MAAME,QAAA,GAAWN,iBAAA,CAAkBK,SAAA,EAAWH,MAAA;EAE9C,OAAO,CAACI,QAAA,EAAUD,SAAA,CAAU;AAC9B;AAEA;;;;;;;;;AASA,OAAO,SAASE,iBACdT,YAA2B;EAE3B,OAAOL,KAAA,CAAMe,UAAU,CAACL,OAAA,EAASJ,SAAA,EAAW,MAAMF,WAAA,CAAYC,YAAA;AAChE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}